(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))l(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const f of h.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&l(f)}).observe(document,{childList:!0,subtree:!0});function i(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function l(u){if(u.ep)return;u.ep=!0;const h=i(u);fetch(u.href,h)}})();function c0(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Wc={exports:{}},Di={};var Jm;function u0(){if(Jm)return Di;Jm=1;var r=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function i(l,u,h){var f=null;if(h!==void 0&&(f=""+h),u.key!==void 0&&(f=""+u.key),"key"in u){h={};for(var g in u)g!=="key"&&(h[g]=u[g])}else h=u;return u=h.ref,{$$typeof:r,type:l,key:f,ref:u!==void 0?u:null,props:h}}return Di.Fragment=n,Di.jsx=i,Di.jsxs=i,Di}var Qm;function d0(){return Qm||(Qm=1,Wc.exports=u0()),Wc.exports}var c=d0(),eu={exports:{}},me={};var Fm;function h0(){if(Fm)return me;Fm=1;var r=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),_=Symbol.iterator;function j(E){return E===null||typeof E!="object"?null:(E=_&&E[_]||E["@@iterator"],typeof E=="function"?E:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,N={};function O(E,G,$){this.props=E,this.context=G,this.refs=N,this.updater=$||A}O.prototype.isReactComponent={},O.prototype.setState=function(E,G){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,G,"setState")},O.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function M(){}M.prototype=O.prototype;function U(E,G,$){this.props=E,this.context=G,this.refs=N,this.updater=$||A}var W=U.prototype=new M;W.constructor=U,R(W,O.prototype),W.isPureReactComponent=!0;var te=Array.isArray;function Y(){}var L={H:null,A:null,T:null,S:null},J=Object.prototype.hasOwnProperty;function K(E,G,$){var P=$.ref;return{$$typeof:r,type:E,key:G,ref:P!==void 0?P:null,props:$}}function le(E,G){return K(E.type,G,E.props)}function _e(E){return typeof E=="object"&&E!==null&&E.$$typeof===r}function Te(E){var G={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function($){return G[$]})}var lt=/\/+/g;function Ke(E,G){return typeof E=="object"&&E!==null&&E.key!=null?Te(""+E.key):G.toString(36)}function Ie(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then(Y,Y):(E.status="pending",E.then(function(G){E.status==="pending"&&(E.status="fulfilled",E.value=G)},function(G){E.status==="pending"&&(E.status="rejected",E.reason=G)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function q(E,G,$,P,re){var fe=typeof E;(fe==="undefined"||fe==="boolean")&&(E=null);var ve=!1;if(E===null)ve=!0;else switch(fe){case"bigint":case"string":case"number":ve=!0;break;case"object":switch(E.$$typeof){case r:case n:ve=!0;break;case v:return ve=E._init,q(ve(E._payload),G,$,P,re)}}if(ve)return re=re(E),ve=P===""?"."+Ke(E,0):P,te(re)?($="",ve!=null&&($=ve.replace(lt,"$&/")+"/"),q(re,G,$,"",function(ra){return ra})):re!=null&&(_e(re)&&(re=le(re,$+(re.key==null||E&&E.key===re.key?"":(""+re.key).replace(lt,"$&/")+"/")+ve)),G.push(re)),1;ve=0;var We=P===""?".":P+":";if(te(E))for(var Be=0;Be<E.length;Be++)P=E[Be],fe=We+Ke(P,Be),ve+=q(P,G,$,fe,re);else if(Be=j(E),typeof Be=="function")for(E=Be.call(E),Be=0;!(P=E.next()).done;)P=P.value,fe=We+Ke(P,Be++),ve+=q(P,G,$,fe,re);else if(fe==="object"){if(typeof E.then=="function")return q(Ie(E),G,$,P,re);throw G=String(E),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return ve}function Q(E,G,$){if(E==null)return E;var P=[],re=0;return q(E,P,"","",function(fe){return G.call($,fe,re++)}),P}function X(E){if(E._status===-1){var G=E._result;G=G(),G.then(function($){(E._status===0||E._status===-1)&&(E._status=1,E._result=$)},function($){(E._status===0||E._status===-1)&&(E._status=2,E._result=$)}),E._status===-1&&(E._status=0,E._result=G)}if(E._status===1)return E._result.default;throw E._result}var Z=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)},he={map:Q,forEach:function(E,G,$){Q(E,function(){G.apply(this,arguments)},$)},count:function(E){var G=0;return Q(E,function(){G++}),G},toArray:function(E){return Q(E,function(G){return G})||[]},only:function(E){if(!_e(E))throw Error("React.Children.only expected to receive a single React element child.");return E}};return me.Activity=x,me.Children=he,me.Component=O,me.Fragment=i,me.Profiler=u,me.PureComponent=U,me.StrictMode=l,me.Suspense=m,me.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,me.__COMPILER_RUNTIME={__proto__:null,c:function(E){return L.H.useMemoCache(E)}},me.cache=function(E){return function(){return E.apply(null,arguments)}},me.cacheSignal=function(){return null},me.cloneElement=function(E,G,$){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var P=R({},E.props),re=E.key;if(G!=null)for(fe in G.key!==void 0&&(re=""+G.key),G)!J.call(G,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&G.ref===void 0||(P[fe]=G[fe]);var fe=arguments.length-2;if(fe===1)P.children=$;else if(1<fe){for(var ve=Array(fe),We=0;We<fe;We++)ve[We]=arguments[We+2];P.children=ve}return K(E.type,re,P)},me.createContext=function(E){return E={$$typeof:f,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:h,_context:E},E},me.createElement=function(E,G,$){var P,re={},fe=null;if(G!=null)for(P in G.key!==void 0&&(fe=""+G.key),G)J.call(G,P)&&P!=="key"&&P!=="__self"&&P!=="__source"&&(re[P]=G[P]);var ve=arguments.length-2;if(ve===1)re.children=$;else if(1<ve){for(var We=Array(ve),Be=0;Be<ve;Be++)We[Be]=arguments[Be+2];re.children=We}if(E&&E.defaultProps)for(P in ve=E.defaultProps,ve)re[P]===void 0&&(re[P]=ve[P]);return K(E,fe,re)},me.createRef=function(){return{current:null}},me.forwardRef=function(E){return{$$typeof:g,render:E}},me.isValidElement=_e,me.lazy=function(E){return{$$typeof:v,_payload:{_status:-1,_result:E},_init:X}},me.memo=function(E,G){return{$$typeof:y,type:E,compare:G===void 0?null:G}},me.startTransition=function(E){var G=L.T,$={};L.T=$;try{var P=E(),re=L.S;re!==null&&re($,P),typeof P=="object"&&P!==null&&typeof P.then=="function"&&P.then(Y,Z)}catch(fe){Z(fe)}finally{G!==null&&$.types!==null&&(G.types=$.types),L.T=G}},me.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},me.use=function(E){return L.H.use(E)},me.useActionState=function(E,G,$){return L.H.useActionState(E,G,$)},me.useCallback=function(E,G){return L.H.useCallback(E,G)},me.useContext=function(E){return L.H.useContext(E)},me.useDebugValue=function(){},me.useDeferredValue=function(E,G){return L.H.useDeferredValue(E,G)},me.useEffect=function(E,G){return L.H.useEffect(E,G)},me.useEffectEvent=function(E){return L.H.useEffectEvent(E)},me.useId=function(){return L.H.useId()},me.useImperativeHandle=function(E,G,$){return L.H.useImperativeHandle(E,G,$)},me.useInsertionEffect=function(E,G){return L.H.useInsertionEffect(E,G)},me.useLayoutEffect=function(E,G){return L.H.useLayoutEffect(E,G)},me.useMemo=function(E,G){return L.H.useMemo(E,G)},me.useOptimistic=function(E,G){return L.H.useOptimistic(E,G)},me.useReducer=function(E,G,$){return L.H.useReducer(E,G,$)},me.useRef=function(E){return L.H.useRef(E)},me.useState=function(E){return L.H.useState(E)},me.useSyncExternalStore=function(E,G,$){return L.H.useSyncExternalStore(E,G,$)},me.useTransition=function(){return L.H.useTransition()},me.version="19.2.3",me}var Zm;function zu(){return Zm||(Zm=1,eu.exports=h0()),eu.exports}var w=zu();const wl=c0(w);var tu={exports:{}},zi={},au={exports:{}},nu={};var Wm;function f0(){return Wm||(Wm=1,(function(r){function n(q,Q){var X=q.length;q.push(Q);e:for(;0<X;){var Z=X-1>>>1,he=q[Z];if(0<u(he,Q))q[Z]=Q,q[X]=he,X=Z;else break e}}function i(q){return q.length===0?null:q[0]}function l(q){if(q.length===0)return null;var Q=q[0],X=q.pop();if(X!==Q){q[0]=X;e:for(var Z=0,he=q.length,E=he>>>1;Z<E;){var G=2*(Z+1)-1,$=q[G],P=G+1,re=q[P];if(0>u($,X))P<he&&0>u(re,$)?(q[Z]=re,q[P]=X,Z=P):(q[Z]=$,q[G]=X,Z=G);else if(P<he&&0>u(re,X))q[Z]=re,q[P]=X,Z=P;else break e}}return Q}function u(q,Q){var X=q.sortIndex-Q.sortIndex;return X!==0?X:q.id-Q.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;r.unstable_now=function(){return h.now()}}else{var f=Date,g=f.now();r.unstable_now=function(){return f.now()-g}}var m=[],y=[],v=1,x=null,_=3,j=!1,A=!1,R=!1,N=!1,O=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function W(q){for(var Q=i(y);Q!==null;){if(Q.callback===null)l(y);else if(Q.startTime<=q)l(y),Q.sortIndex=Q.expirationTime,n(m,Q);else break;Q=i(y)}}function te(q){if(R=!1,W(q),!A)if(i(m)!==null)A=!0,Y||(Y=!0,Te());else{var Q=i(y);Q!==null&&Ie(te,Q.startTime-q)}}var Y=!1,L=-1,J=5,K=-1;function le(){return N?!0:!(r.unstable_now()-K<J)}function _e(){if(N=!1,Y){var q=r.unstable_now();K=q;var Q=!0;try{e:{A=!1,R&&(R=!1,M(L),L=-1),j=!0;var X=_;try{t:{for(W(q),x=i(m);x!==null&&!(x.expirationTime>q&&le());){var Z=x.callback;if(typeof Z=="function"){x.callback=null,_=x.priorityLevel;var he=Z(x.expirationTime<=q);if(q=r.unstable_now(),typeof he=="function"){x.callback=he,W(q),Q=!0;break t}x===i(m)&&l(m),W(q)}else l(m);x=i(m)}if(x!==null)Q=!0;else{var E=i(y);E!==null&&Ie(te,E.startTime-q),Q=!1}}break e}finally{x=null,_=X,j=!1}Q=void 0}}finally{Q?Te():Y=!1}}}var Te;if(typeof U=="function")Te=function(){U(_e)};else if(typeof MessageChannel<"u"){var lt=new MessageChannel,Ke=lt.port2;lt.port1.onmessage=_e,Te=function(){Ke.postMessage(null)}}else Te=function(){O(_e,0)};function Ie(q,Q){L=O(function(){q(r.unstable_now())},Q)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(q){q.callback=null},r.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<q?Math.floor(1e3/q):5},r.unstable_getCurrentPriorityLevel=function(){return _},r.unstable_next=function(q){switch(_){case 1:case 2:case 3:var Q=3;break;default:Q=_}var X=_;_=Q;try{return q()}finally{_=X}},r.unstable_requestPaint=function(){N=!0},r.unstable_runWithPriority=function(q,Q){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var X=_;_=q;try{return Q()}finally{_=X}},r.unstable_scheduleCallback=function(q,Q,X){var Z=r.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?Z+X:Z):X=Z,q){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=X+he,q={id:v++,callback:Q,priorityLevel:q,startTime:X,expirationTime:he,sortIndex:-1},X>Z?(q.sortIndex=X,n(y,q),i(m)===null&&q===i(y)&&(R?(M(L),L=-1):R=!0,Ie(te,X-Z))):(q.sortIndex=he,n(m,q),A||j||(A=!0,Y||(Y=!0,Te()))),q},r.unstable_shouldYield=le,r.unstable_wrapCallback=function(q){var Q=_;return function(){var X=_;_=Q;try{return q.apply(this,arguments)}finally{_=X}}}})(nu)),nu}var ep;function m0(){return ep||(ep=1,au.exports=f0()),au.exports}var ru={exports:{}},yt={};var tp;function p0(){if(tp)return yt;tp=1;var r=zu();function n(m){var y="https://react.dev/errors/"+m;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)y+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var l={d:{f:i,r:function(){throw Error(n(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function h(m,y,v){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:x==null?null:""+x,children:m,containerInfo:y,implementation:v}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(m,y){if(m==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return yt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,yt.createPortal=function(m,y){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(n(299));return h(m,y,null,v)},yt.flushSync=function(m){var y=f.T,v=l.p;try{if(f.T=null,l.p=2,m)return m()}finally{f.T=y,l.p=v,l.d.f()}},yt.preconnect=function(m,y){typeof m=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,l.d.C(m,y))},yt.prefetchDNS=function(m){typeof m=="string"&&l.d.D(m)},yt.preinit=function(m,y){if(typeof m=="string"&&y&&typeof y.as=="string"){var v=y.as,x=g(v,y.crossOrigin),_=typeof y.integrity=="string"?y.integrity:void 0,j=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;v==="style"?l.d.S(m,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:x,integrity:_,fetchPriority:j}):v==="script"&&l.d.X(m,{crossOrigin:x,integrity:_,fetchPriority:j,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},yt.preinitModule=function(m,y){if(typeof m=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var v=g(y.as,y.crossOrigin);l.d.M(m,{crossOrigin:v,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&l.d.M(m)},yt.preload=function(m,y){if(typeof m=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var v=y.as,x=g(v,y.crossOrigin);l.d.L(m,v,{crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},yt.preloadModule=function(m,y){if(typeof m=="string")if(y){var v=g(y.as,y.crossOrigin);l.d.m(m,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:v,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else l.d.m(m)},yt.requestFormReset=function(m){l.d.r(m)},yt.unstable_batchedUpdates=function(m,y){return m(y)},yt.useFormState=function(m,y,v){return f.H.useFormState(m,y,v)},yt.useFormStatus=function(){return f.H.useHostTransitionStatus()},yt.version="19.2.3",yt}var ap;function g0(){if(ap)return ru.exports;ap=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(n){console.error(n)}}return r(),ru.exports=p0(),ru.exports}var np;function y0(){if(np)return zi;np=1;var r=m0(),n=zu(),i=g0();function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(h(e)!==e)throw Error(l(188))}function y(e){var t=e.alternate;if(!t){if(t=h(e),t===null)throw Error(l(188));return t!==e?null:e}for(var a=e,s=t;;){var o=a.return;if(o===null)break;var d=o.alternate;if(d===null){if(s=o.return,s!==null){a=s;continue}break}if(o.child===d.child){for(d=o.child;d;){if(d===a)return m(o),e;if(d===s)return m(o),t;d=d.sibling}throw Error(l(188))}if(a.return!==s.return)a=o,s=d;else{for(var p=!1,b=o.child;b;){if(b===a){p=!0,a=o,s=d;break}if(b===s){p=!0,s=o,a=d;break}b=b.sibling}if(!p){for(b=d.child;b;){if(b===a){p=!0,a=d,s=o;break}if(b===s){p=!0,s=d,a=o;break}b=b.sibling}if(!p)throw Error(l(189))}}if(a.alternate!==s)throw Error(l(190))}if(a.tag!==3)throw Error(l(188));return a.stateNode.current===a?e:t}function v(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=v(e),t!==null)return t;e=e.sibling}return null}var x=Object.assign,_=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),M=Symbol.for("react.consumer"),U=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),K=Symbol.for("react.activity"),le=Symbol.for("react.memo_cache_sentinel"),_e=Symbol.iterator;function Te(e){return e===null||typeof e!="object"?null:(e=_e&&e[_e]||e["@@iterator"],typeof e=="function"?e:null)}var lt=Symbol.for("react.client.reference");function Ke(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===lt?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case R:return"Fragment";case O:return"Profiler";case N:return"StrictMode";case te:return"Suspense";case Y:return"SuspenseList";case K:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case A:return"Portal";case U:return e.displayName||"Context";case M:return(e._context.displayName||"Context")+".Consumer";case W:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case L:return t=e.displayName||null,t!==null?t:Ke(e.type)||"Memo";case J:t=e._payload,e=e._init;try{return Ke(e(t))}catch{}}return null}var Ie=Array.isArray,q=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X={pending:!1,data:null,method:null,action:null},Z=[],he=-1;function E(e){return{current:e}}function G(e){0>he||(e.current=Z[he],Z[he]=null,he--)}function $(e,t){he++,Z[he]=e.current,e.current=t}var P=E(null),re=E(null),fe=E(null),ve=E(null);function We(e,t){switch($(fe,t),$(re,e),$(P,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?vm(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=vm(t),e=bm(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}G(P),$(P,e)}function Be(){G(P),G(re),G(fe)}function ra(e){e.memoizedState!==null&&$(ve,e);var t=P.current,a=bm(t,e.type);t!==a&&($(re,e),$(P,a))}function ma(e){re.current===e&&(G(P),G(re)),ve.current===e&&(G(ve),Ri._currentValue=X)}var pa,qr;function ia(e){if(pa===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);pa=t&&t[1]||"",qr=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+pa+e+qr}var $r=!1;function Ml(e,t){if(!e||$r)return"";$r=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var V=function(){throw Error()};if(Object.defineProperty(V.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(V,[])}catch(B){var z=B}Reflect.construct(e,[],V)}else{try{V.call()}catch(B){z=B}e.call(V.prototype)}}else{try{throw Error()}catch(B){z=B}(V=e())&&typeof V.catch=="function"&&V.catch(function(){})}}catch(B){if(B&&z&&typeof B.stack=="string")return[B.stack,z.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=s.DetermineComponentFrameRoot(),p=d[0],b=d[1];if(p&&b){var S=p.split(`
`),D=b.split(`
`);for(o=s=0;s<S.length&&!S[s].includes("DetermineComponentFrameRoot");)s++;for(;o<D.length&&!D[o].includes("DetermineComponentFrameRoot");)o++;if(s===S.length||o===D.length)for(s=S.length-1,o=D.length-1;1<=s&&0<=o&&S[s]!==D[o];)o--;for(;1<=s&&0<=o;s--,o--)if(S[s]!==D[o]){if(s!==1||o!==1)do if(s--,o--,0>o||S[s]!==D[o]){var H=`
`+S[s].replace(" at new "," at ");return e.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",e.displayName)),H}while(1<=s&&0<=o);break}}}finally{$r=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ia(a):""}function $g(e,t){switch(e.tag){case 26:case 27:case 5:return ia(e.type);case 16:return ia("Lazy");case 13:return e.child!==t&&t!==null?ia("Suspense Fallback"):ia("Suspense");case 19:return ia("SuspenseList");case 0:case 15:return Ml(e.type,!1);case 11:return Ml(e.type.render,!1);case 1:return Ml(e.type,!0);case 31:return ia("Activity");default:return""}}function Pu(e){try{var t="",a=null;do t+=$g(e,a),a=e,e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var Bl=Object.prototype.hasOwnProperty,Ll=r.unstable_scheduleCallback,ql=r.unstable_cancelCallback,Hg=r.unstable_shouldYield,Gg=r.unstable_requestPaint,Tt=r.unstable_now,Ig=r.unstable_getCurrentPriorityLevel,Ju=r.unstable_ImmediatePriority,Qu=r.unstable_UserBlockingPriority,Wi=r.unstable_NormalPriority,Vg=r.unstable_LowPriority,Fu=r.unstable_IdlePriority,Kg=r.log,Yg=r.unstable_setDisableYieldValue,Hr=null,At=null;function La(e){if(typeof Kg=="function"&&Yg(e),At&&typeof At.setStrictMode=="function")try{At.setStrictMode(Hr,e)}catch{}}var Ct=Math.clz32?Math.clz32:Jg,Xg=Math.log,Pg=Math.LN2;function Jg(e){return e>>>=0,e===0?32:31-(Xg(e)/Pg|0)|0}var es=256,ts=262144,as=4194304;function mn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ns(e,t,a){var s=e.pendingLanes;if(s===0)return 0;var o=0,d=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var b=s&134217727;return b!==0?(s=b&~d,s!==0?o=mn(s):(p&=b,p!==0?o=mn(p):a||(a=b&~e,a!==0&&(o=mn(a))))):(b=s&~d,b!==0?o=mn(b):p!==0?o=mn(p):a||(a=s&~e,a!==0&&(o=mn(a)))),o===0?0:t!==0&&t!==o&&(t&d)===0&&(d=o&-o,a=t&-t,d>=a||d===32&&(a&4194048)!==0)?t:o}function Gr(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Qg(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zu(){var e=as;return as<<=1,(as&62914560)===0&&(as=4194304),e}function $l(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Ir(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Fg(e,t,a,s,o,d){var p=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var b=e.entanglements,S=e.expirationTimes,D=e.hiddenUpdates;for(a=p&~a;0<a;){var H=31-Ct(a),V=1<<H;b[H]=0,S[H]=-1;var z=D[H];if(z!==null)for(D[H]=null,H=0;H<z.length;H++){var B=z[H];B!==null&&(B.lane&=-536870913)}a&=~V}s!==0&&Wu(e,s,0),d!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=d&~(p&~t))}function Wu(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-Ct(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|a&261930}function ed(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var s=31-Ct(a),o=1<<s;o&t|e[s]&t&&(e[s]|=t),a&=~o}}function td(e,t){var a=t&-t;return a=(a&42)!==0?1:Hl(a),(a&(e.suspendedLanes|t))!==0?0:a}function Hl(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Gl(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ad(){var e=Q.p;return e!==0?e:(e=window.event,e===void 0?32:Gm(e.type))}function nd(e,t){var a=Q.p;try{return Q.p=e,t()}finally{Q.p=a}}var qa=Math.random().toString(36).slice(2),ut="__reactFiber$"+qa,bt="__reactProps$"+qa,$n="__reactContainer$"+qa,Il="__reactEvents$"+qa,Zg="__reactListeners$"+qa,Wg="__reactHandles$"+qa,rd="__reactResources$"+qa,Vr="__reactMarker$"+qa;function Vl(e){delete e[ut],delete e[bt],delete e[Il],delete e[Zg],delete e[Wg]}function Hn(e){var t=e[ut];if(t)return t;for(var a=e.parentNode;a;){if(t=a[$n]||a[ut]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=Tm(e);e!==null;){if(a=e[ut])return a;e=Tm(e)}return t}e=a,a=e.parentNode}return null}function Gn(e){if(e=e[ut]||e[$n]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Kr(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(l(33))}function In(e){var t=e[rd];return t||(t=e[rd]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function ot(e){e[Vr]=!0}var id=new Set,sd={};function pn(e,t){Vn(e,t),Vn(e+"Capture",t)}function Vn(e,t){for(sd[e]=t,e=0;e<t.length;e++)id.add(t[e])}var ey=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ld={},od={};function ty(e){return Bl.call(od,e)?!0:Bl.call(ld,e)?!1:ey.test(e)?od[e]=!0:(ld[e]=!0,!1)}function rs(e,t,a){if(ty(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function is(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function ga(e,t,a,s){if(s===null)e.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+s)}}function $t(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function cd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ay(e,t,a){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var o=s.get,d=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(p){a=""+p,d.call(this,p)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(p){a=""+p},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Kl(e){if(!e._valueTracker){var t=cd(e)?"checked":"value";e._valueTracker=ay(e,t,""+e[t])}}function ud(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),s="";return e&&(s=cd(e)?e.checked?"true":"false":e.value),e=s,e!==a?(t.setValue(e),!0):!1}function ss(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ny=/[\n"\\]/g;function Ht(e){return e.replace(ny,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Yl(e,t,a,s,o,d,p,b){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),t!=null?p==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+$t(t)):e.value!==""+$t(t)&&(e.value=""+$t(t)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),t!=null?Xl(e,p,$t(t)):a!=null?Xl(e,p,$t(a)):s!=null&&e.removeAttribute("value"),o==null&&d!=null&&(e.defaultChecked=!!d),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.name=""+$t(b):e.removeAttribute("name")}function dd(e,t,a,s,o,d,p,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),t!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||t!=null)){Kl(e);return}a=a!=null?""+$t(a):"",t=t!=null?""+$t(t):a,b||t===e.value||(e.value=t),e.defaultValue=t}s=s??o,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=b?e.checked:!!s,e.defaultChecked=!!s,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Kl(e)}function Xl(e,t,a){t==="number"&&ss(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Kn(e,t,a,s){if(e=e.options,t){t={};for(var o=0;o<a.length;o++)t["$"+a[o]]=!0;for(a=0;a<e.length;a++)o=t.hasOwnProperty("$"+e[a].value),e[a].selected!==o&&(e[a].selected=o),o&&s&&(e[a].defaultSelected=!0)}else{for(a=""+$t(a),t=null,o=0;o<e.length;o++){if(e[o].value===a){e[o].selected=!0,s&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function hd(e,t,a){if(t!=null&&(t=""+$t(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+$t(a):""}function fd(e,t,a,s){if(t==null){if(s!=null){if(a!=null)throw Error(l(92));if(Ie(s)){if(1<s.length)throw Error(l(93));s=s[0]}a=s}a==null&&(a=""),t=a}a=$t(t),e.defaultValue=a,s=e.textContent,s===a&&s!==""&&s!==null&&(e.value=s),Kl(e)}function Yn(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var ry=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function md(e,t,a){var s=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,a):typeof a!="number"||a===0||ry.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function pd(e,t,a){if(t!=null&&typeof t!="object")throw Error(l(62));if(e=e.style,a!=null){for(var s in a)!a.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var o in t)s=t[o],t.hasOwnProperty(o)&&a[o]!==s&&md(e,o,s)}else for(var d in t)t.hasOwnProperty(d)&&md(e,d,t[d])}function Pl(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var iy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),sy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ls(e){return sy.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ya(){}var Jl=null;function Ql(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Xn=null,Pn=null;function gd(e){var t=Gn(e);if(t&&(e=t.stateNode)){var a=e[bt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Yl(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ht(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var s=a[t];if(s!==e&&s.form===e.form){var o=s[bt]||null;if(!o)throw Error(l(90));Yl(s,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<a.length;t++)s=a[t],s.form===e.form&&ud(s)}break e;case"textarea":hd(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&Kn(e,!!a.multiple,t,!1)}}}var Fl=!1;function yd(e,t,a){if(Fl)return e(t,a);Fl=!0;try{var s=e(t);return s}finally{if(Fl=!1,(Xn!==null||Pn!==null)&&(Ps(),Xn&&(t=Xn,e=Pn,Pn=Xn=null,gd(t),e)))for(t=0;t<e.length;t++)gd(e[t])}}function Yr(e,t){var a=e.stateNode;if(a===null)return null;var s=a[bt]||null;if(s===null)return null;a=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(l(231,t,typeof a));return a}var va=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zl=!1;if(va)try{var Xr={};Object.defineProperty(Xr,"passive",{get:function(){Zl=!0}}),window.addEventListener("test",Xr,Xr),window.removeEventListener("test",Xr,Xr)}catch{Zl=!1}var $a=null,Wl=null,os=null;function vd(){if(os)return os;var e,t=Wl,a=t.length,s,o="value"in $a?$a.value:$a.textContent,d=o.length;for(e=0;e<a&&t[e]===o[e];e++);var p=a-e;for(s=1;s<=p&&t[a-s]===o[d-s];s++);return os=o.slice(e,1<s?1-s:void 0)}function cs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function us(){return!0}function bd(){return!1}function xt(e){function t(a,s,o,d,p){this._reactName=a,this._targetInst=o,this.type=s,this.nativeEvent=d,this.target=p,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(a=e[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?us:bd,this.isPropagationStopped=bd,this}return x(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=us)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=us)},persist:function(){},isPersistent:us}),t}var gn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ds=xt(gn),Pr=x({},gn,{view:0,detail:0}),ly=xt(Pr),eo,to,Jr,hs=x({},Pr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:no,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Jr&&(Jr&&e.type==="mousemove"?(eo=e.screenX-Jr.screenX,to=e.screenY-Jr.screenY):to=eo=0,Jr=e),eo)},movementY:function(e){return"movementY"in e?e.movementY:to}}),xd=xt(hs),oy=x({},hs,{dataTransfer:0}),cy=xt(oy),uy=x({},Pr,{relatedTarget:0}),ao=xt(uy),dy=x({},gn,{animationName:0,elapsedTime:0,pseudoElement:0}),hy=xt(dy),fy=x({},gn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),my=xt(fy),py=x({},gn,{data:0}),_d=xt(py),gy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function by(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=vy[e])?!!t[e]:!1}function no(){return by}var xy=x({},Pr,{key:function(e){if(e.key){var t=gy[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=cs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?yy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:no,charCode:function(e){return e.type==="keypress"?cs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?cs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),_y=xt(xy),wy=x({},hs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wd=xt(wy),Sy=x({},Pr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:no}),jy=xt(Sy),Ey=x({},gn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ty=xt(Ey),Ay=x({},hs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Cy=xt(Ay),Ry=x({},gn,{newState:0,oldState:0}),Ny=xt(Ry),Oy=[9,13,27,32],ro=va&&"CompositionEvent"in window,Qr=null;va&&"documentMode"in document&&(Qr=document.documentMode);var ky=va&&"TextEvent"in window&&!Qr,Sd=va&&(!ro||Qr&&8<Qr&&11>=Qr),jd=" ",Ed=!1;function Td(e,t){switch(e){case"keyup":return Oy.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ad(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Jn=!1;function Dy(e,t){switch(e){case"compositionend":return Ad(t);case"keypress":return t.which!==32?null:(Ed=!0,jd);case"textInput":return e=t.data,e===jd&&Ed?null:e;default:return null}}function zy(e,t){if(Jn)return e==="compositionend"||!ro&&Td(e,t)?(e=vd(),os=Wl=$a=null,Jn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Sd&&t.locale!=="ko"?null:t.data;default:return null}}var Uy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Uy[e.type]:t==="textarea"}function Rd(e,t,a,s){Xn?Pn?Pn.push(s):Pn=[s]:Xn=s,t=tl(t,"onChange"),0<t.length&&(a=new ds("onChange","change",null,a,s),e.push({event:a,listeners:t}))}var Fr=null,Zr=null;function My(e){hm(e,0)}function fs(e){var t=Kr(e);if(ud(t))return e}function Nd(e,t){if(e==="change")return t}var Od=!1;if(va){var io;if(va){var so="oninput"in document;if(!so){var kd=document.createElement("div");kd.setAttribute("oninput","return;"),so=typeof kd.oninput=="function"}io=so}else io=!1;Od=io&&(!document.documentMode||9<document.documentMode)}function Dd(){Fr&&(Fr.detachEvent("onpropertychange",zd),Zr=Fr=null)}function zd(e){if(e.propertyName==="value"&&fs(Zr)){var t=[];Rd(t,Zr,e,Ql(e)),yd(My,t)}}function By(e,t,a){e==="focusin"?(Dd(),Fr=t,Zr=a,Fr.attachEvent("onpropertychange",zd)):e==="focusout"&&Dd()}function Ly(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return fs(Zr)}function qy(e,t){if(e==="click")return fs(t)}function $y(e,t){if(e==="input"||e==="change")return fs(t)}function Hy(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Rt=typeof Object.is=="function"?Object.is:Hy;function Wr(e,t){if(Rt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),s=Object.keys(t);if(a.length!==s.length)return!1;for(s=0;s<a.length;s++){var o=a[s];if(!Bl.call(t,o)||!Rt(e[o],t[o]))return!1}return!0}function Ud(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Md(e,t){var a=Ud(e);e=0;for(var s;a;){if(a.nodeType===3){if(s=e+a.textContent.length,e<=t&&s>=t)return{node:a,offset:t-e};e=s}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Ud(a)}}function Bd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Bd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ld(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=ss(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=ss(e.document)}return t}function lo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Gy=va&&"documentMode"in document&&11>=document.documentMode,Qn=null,oo=null,ei=null,co=!1;function qd(e,t,a){var s=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;co||Qn==null||Qn!==ss(s)||(s=Qn,"selectionStart"in s&&lo(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),ei&&Wr(ei,s)||(ei=s,s=tl(oo,"onSelect"),0<s.length&&(t=new ds("onSelect","select",null,t,a),e.push({event:t,listeners:s}),t.target=Qn)))}function yn(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Fn={animationend:yn("Animation","AnimationEnd"),animationiteration:yn("Animation","AnimationIteration"),animationstart:yn("Animation","AnimationStart"),transitionrun:yn("Transition","TransitionRun"),transitionstart:yn("Transition","TransitionStart"),transitioncancel:yn("Transition","TransitionCancel"),transitionend:yn("Transition","TransitionEnd")},uo={},$d={};va&&($d=document.createElement("div").style,"AnimationEvent"in window||(delete Fn.animationend.animation,delete Fn.animationiteration.animation,delete Fn.animationstart.animation),"TransitionEvent"in window||delete Fn.transitionend.transition);function vn(e){if(uo[e])return uo[e];if(!Fn[e])return e;var t=Fn[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in $d)return uo[e]=t[a];return e}var Hd=vn("animationend"),Gd=vn("animationiteration"),Id=vn("animationstart"),Iy=vn("transitionrun"),Vy=vn("transitionstart"),Ky=vn("transitioncancel"),Vd=vn("transitionend"),Kd=new Map,ho="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ho.push("scrollEnd");function Ft(e,t){Kd.set(e,t),pn(t,[e])}var ms=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Gt=[],Zn=0,fo=0;function ps(){for(var e=Zn,t=fo=Zn=0;t<e;){var a=Gt[t];Gt[t++]=null;var s=Gt[t];Gt[t++]=null;var o=Gt[t];Gt[t++]=null;var d=Gt[t];if(Gt[t++]=null,s!==null&&o!==null){var p=s.pending;p===null?o.next=o:(o.next=p.next,p.next=o),s.pending=o}d!==0&&Yd(a,o,d)}}function gs(e,t,a,s){Gt[Zn++]=e,Gt[Zn++]=t,Gt[Zn++]=a,Gt[Zn++]=s,fo|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function mo(e,t,a,s){return gs(e,t,a,s),ys(e)}function bn(e,t){return gs(e,null,null,t),ys(e)}function Yd(e,t,a){e.lanes|=a;var s=e.alternate;s!==null&&(s.lanes|=a);for(var o=!1,d=e.return;d!==null;)d.childLanes|=a,s=d.alternate,s!==null&&(s.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(o=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,o&&t!==null&&(o=31-Ct(a),e=d.hiddenUpdates,s=e[o],s===null?e[o]=[t]:s.push(t),t.lane=a|536870912),d):null}function ys(e){if(50<wi)throw wi=0,Sc=null,Error(l(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Wn={};function Yy(e,t,a,s){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nt(e,t,a,s){return new Yy(e,t,a,s)}function po(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ba(e,t){var a=e.alternate;return a===null?(a=Nt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Xd(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function vs(e,t,a,s,o,d){var p=0;if(s=e,typeof e=="function")po(e)&&(p=1);else if(typeof e=="string")p=Fv(e,a,P.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case K:return e=Nt(31,a,t,o),e.elementType=K,e.lanes=d,e;case R:return xn(a.children,o,d,t);case N:p=8,o|=24;break;case O:return e=Nt(12,a,t,o|2),e.elementType=O,e.lanes=d,e;case te:return e=Nt(13,a,t,o),e.elementType=te,e.lanes=d,e;case Y:return e=Nt(19,a,t,o),e.elementType=Y,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case U:p=10;break e;case M:p=9;break e;case W:p=11;break e;case L:p=14;break e;case J:p=16,s=null;break e}p=29,a=Error(l(130,e===null?"null":typeof e,"")),s=null}return t=Nt(p,a,t,o),t.elementType=e,t.type=s,t.lanes=d,t}function xn(e,t,a,s){return e=Nt(7,e,s,t),e.lanes=a,e}function go(e,t,a){return e=Nt(6,e,null,t),e.lanes=a,e}function Pd(e){var t=Nt(18,null,null,0);return t.stateNode=e,t}function yo(e,t,a){return t=Nt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Jd=new WeakMap;function It(e,t){if(typeof e=="object"&&e!==null){var a=Jd.get(e);return a!==void 0?a:(t={value:e,source:t,stack:Pu(t)},Jd.set(e,t),t)}return{value:e,source:t,stack:Pu(t)}}var er=[],tr=0,bs=null,ti=0,Vt=[],Kt=0,Ha=null,sa=1,la="";function xa(e,t){er[tr++]=ti,er[tr++]=bs,bs=e,ti=t}function Qd(e,t,a){Vt[Kt++]=sa,Vt[Kt++]=la,Vt[Kt++]=Ha,Ha=e;var s=sa;e=la;var o=32-Ct(s)-1;s&=~(1<<o),a+=1;var d=32-Ct(t)+o;if(30<d){var p=o-o%5;d=(s&(1<<p)-1).toString(32),s>>=p,o-=p,sa=1<<32-Ct(t)+o|a<<o|s,la=d+e}else sa=1<<d|a<<o|s,la=e}function vo(e){e.return!==null&&(xa(e,1),Qd(e,1,0))}function bo(e){for(;e===bs;)bs=er[--tr],er[tr]=null,ti=er[--tr],er[tr]=null;for(;e===Ha;)Ha=Vt[--Kt],Vt[Kt]=null,la=Vt[--Kt],Vt[Kt]=null,sa=Vt[--Kt],Vt[Kt]=null}function Fd(e,t){Vt[Kt++]=sa,Vt[Kt++]=la,Vt[Kt++]=Ha,sa=t.id,la=t.overflow,Ha=e}var dt=null,qe=null,je=!1,Ga=null,Yt=!1,xo=Error(l(519));function Ia(e){var t=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ai(It(t,e)),xo}function Zd(e){var t=e.stateNode,a=e.type,s=e.memoizedProps;switch(t[ut]=e,t[bt]=s,a){case"dialog":xe("cancel",t),xe("close",t);break;case"iframe":case"object":case"embed":xe("load",t);break;case"video":case"audio":for(a=0;a<ji.length;a++)xe(ji[a],t);break;case"source":xe("error",t);break;case"img":case"image":case"link":xe("error",t),xe("load",t);break;case"details":xe("toggle",t);break;case"input":xe("invalid",t),dd(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":xe("invalid",t);break;case"textarea":xe("invalid",t),fd(t,s.value,s.defaultValue,s.children)}a=s.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||s.suppressHydrationWarning===!0||gm(t.textContent,a)?(s.popover!=null&&(xe("beforetoggle",t),xe("toggle",t)),s.onScroll!=null&&xe("scroll",t),s.onScrollEnd!=null&&xe("scrollend",t),s.onClick!=null&&(t.onclick=ya),t=!0):t=!1,t||Ia(e,!0)}function Wd(e){for(dt=e.return;dt;)switch(dt.tag){case 5:case 31:case 13:Yt=!1;return;case 27:case 3:Yt=!0;return;default:dt=dt.return}}function ar(e){if(e!==dt)return!1;if(!je)return Wd(e),je=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Lc(e.type,e.memoizedProps)),a=!a),a&&qe&&Ia(e),Wd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));qe=Em(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));qe=Em(e)}else t===27?(t=qe,nn(e.type)?(e=Ic,Ic=null,qe=e):qe=t):qe=dt?Pt(e.stateNode.nextSibling):null;return!0}function _n(){qe=dt=null,je=!1}function _o(){var e=Ga;return e!==null&&(jt===null?jt=e:jt.push.apply(jt,e),Ga=null),e}function ai(e){Ga===null?Ga=[e]:Ga.push(e)}var wo=E(null),wn=null,_a=null;function Va(e,t,a){$(wo,t._currentValue),t._currentValue=a}function wa(e){e._currentValue=wo.current,G(wo)}function So(e,t,a){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===a)break;e=e.return}}function jo(e,t,a,s){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var d=o.dependencies;if(d!==null){var p=o.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=o;for(var S=0;S<t.length;S++)if(b.context===t[S]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),So(d.return,a,e),s||(p=null);break e}d=b.next}}else if(o.tag===18){if(p=o.return,p===null)throw Error(l(341));p.lanes|=a,d=p.alternate,d!==null&&(d.lanes|=a),So(p,a,e),p=null}else p=o.child;if(p!==null)p.return=o;else for(p=o;p!==null;){if(p===e){p=null;break}if(o=p.sibling,o!==null){o.return=p.return,p=o;break}p=p.return}o=p}}function nr(e,t,a,s){e=null;for(var o=t,d=!1;o!==null;){if(!d){if((o.flags&524288)!==0)d=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var p=o.alternate;if(p===null)throw Error(l(387));if(p=p.memoizedProps,p!==null){var b=o.type;Rt(o.pendingProps.value,p.value)||(e!==null?e.push(b):e=[b])}}else if(o===ve.current){if(p=o.alternate,p===null)throw Error(l(387));p.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(Ri):e=[Ri])}o=o.return}e!==null&&jo(t,e,a,s),t.flags|=262144}function xs(e){for(e=e.firstContext;e!==null;){if(!Rt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Sn(e){wn=e,_a=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ht(e){return eh(wn,e)}function _s(e,t){return wn===null&&Sn(e),eh(e,t)}function eh(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},_a===null){if(e===null)throw Error(l(308));_a=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else _a=_a.next=t;return a}var Xy=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},Py=r.unstable_scheduleCallback,Jy=r.unstable_NormalPriority,et={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Eo(){return{controller:new Xy,data:new Map,refCount:0}}function ni(e){e.refCount--,e.refCount===0&&Py(Jy,function(){e.controller.abort()})}var ri=null,To=0,rr=0,ir=null;function Qy(e,t){if(ri===null){var a=ri=[];To=0,rr=Rc(),ir={status:"pending",value:void 0,then:function(s){a.push(s)}}}return To++,t.then(th,th),t}function th(){if(--To===0&&ri!==null){ir!==null&&(ir.status="fulfilled");var e=ri;ri=null,rr=0,ir=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Fy(e,t){var a=[],s={status:"pending",value:null,reason:null,then:function(o){a.push(o)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var o=0;o<a.length;o++)(0,a[o])(t)},function(o){for(s.status="rejected",s.reason=o,o=0;o<a.length;o++)(0,a[o])(void 0)}),s}var ah=q.S;q.S=function(e,t){$f=Tt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Qy(e,t),ah!==null&&ah(e,t)};var jn=E(null);function Ao(){var e=jn.current;return e!==null?e:Me.pooledCache}function ws(e,t){t===null?$(jn,jn.current):$(jn,t.pool)}function nh(){var e=Ao();return e===null?null:{parent:et._currentValue,pool:e}}var sr=Error(l(460)),Co=Error(l(474)),Ss=Error(l(542)),js={then:function(){}};function rh(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ih(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(ya,ya),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,lh(e),e;default:if(typeof t.status=="string")t.then(ya,ya);else{if(e=Me,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=s}},function(s){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,lh(e),e}throw Tn=t,sr}}function En(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Tn=a,sr):a}}var Tn=null;function sh(){if(Tn===null)throw Error(l(459));var e=Tn;return Tn=null,e}function lh(e){if(e===sr||e===Ss)throw Error(l(483))}var lr=null,ii=0;function Es(e){var t=ii;return ii+=1,lr===null&&(lr=[]),ih(lr,e,t)}function si(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Ts(e,t){throw t.$$typeof===_?Error(l(525)):(e=Object.prototype.toString.call(t),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function oh(e){function t(C,T){if(e){var k=C.deletions;k===null?(C.deletions=[T],C.flags|=16):k.push(T)}}function a(C,T){if(!e)return null;for(;T!==null;)t(C,T),T=T.sibling;return null}function s(C){for(var T=new Map;C!==null;)C.key!==null?T.set(C.key,C):T.set(C.index,C),C=C.sibling;return T}function o(C,T){return C=ba(C,T),C.index=0,C.sibling=null,C}function d(C,T,k){return C.index=k,e?(k=C.alternate,k!==null?(k=k.index,k<T?(C.flags|=67108866,T):k):(C.flags|=67108866,T)):(C.flags|=1048576,T)}function p(C){return e&&C.alternate===null&&(C.flags|=67108866),C}function b(C,T,k,I){return T===null||T.tag!==6?(T=go(k,C.mode,I),T.return=C,T):(T=o(T,k),T.return=C,T)}function S(C,T,k,I){var se=k.type;return se===R?H(C,T,k.props.children,I,k.key):T!==null&&(T.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===J&&En(se)===T.type)?(T=o(T,k.props),si(T,k),T.return=C,T):(T=vs(k.type,k.key,k.props,null,C.mode,I),si(T,k),T.return=C,T)}function D(C,T,k,I){return T===null||T.tag!==4||T.stateNode.containerInfo!==k.containerInfo||T.stateNode.implementation!==k.implementation?(T=yo(k,C.mode,I),T.return=C,T):(T=o(T,k.children||[]),T.return=C,T)}function H(C,T,k,I,se){return T===null||T.tag!==7?(T=xn(k,C.mode,I,se),T.return=C,T):(T=o(T,k),T.return=C,T)}function V(C,T,k){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return T=go(""+T,C.mode,k),T.return=C,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case j:return k=vs(T.type,T.key,T.props,null,C.mode,k),si(k,T),k.return=C,k;case A:return T=yo(T,C.mode,k),T.return=C,T;case J:return T=En(T),V(C,T,k)}if(Ie(T)||Te(T))return T=xn(T,C.mode,k,null),T.return=C,T;if(typeof T.then=="function")return V(C,Es(T),k);if(T.$$typeof===U)return V(C,_s(C,T),k);Ts(C,T)}return null}function z(C,T,k,I){var se=T!==null?T.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return se!==null?null:b(C,T,""+k,I);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case j:return k.key===se?S(C,T,k,I):null;case A:return k.key===se?D(C,T,k,I):null;case J:return k=En(k),z(C,T,k,I)}if(Ie(k)||Te(k))return se!==null?null:H(C,T,k,I,null);if(typeof k.then=="function")return z(C,T,Es(k),I);if(k.$$typeof===U)return z(C,T,_s(C,k),I);Ts(C,k)}return null}function B(C,T,k,I,se){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return C=C.get(k)||null,b(T,C,""+I,se);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case j:return C=C.get(I.key===null?k:I.key)||null,S(T,C,I,se);case A:return C=C.get(I.key===null?k:I.key)||null,D(T,C,I,se);case J:return I=En(I),B(C,T,k,I,se)}if(Ie(I)||Te(I))return C=C.get(k)||null,H(T,C,I,se,null);if(typeof I.then=="function")return B(C,T,k,Es(I),se);if(I.$$typeof===U)return B(C,T,k,_s(T,I),se);Ts(T,I)}return null}function ee(C,T,k,I){for(var se=null,Ae=null,ae=T,ye=T=0,Se=null;ae!==null&&ye<k.length;ye++){ae.index>ye?(Se=ae,ae=null):Se=ae.sibling;var Ce=z(C,ae,k[ye],I);if(Ce===null){ae===null&&(ae=Se);break}e&&ae&&Ce.alternate===null&&t(C,ae),T=d(Ce,T,ye),Ae===null?se=Ce:Ae.sibling=Ce,Ae=Ce,ae=Se}if(ye===k.length)return a(C,ae),je&&xa(C,ye),se;if(ae===null){for(;ye<k.length;ye++)ae=V(C,k[ye],I),ae!==null&&(T=d(ae,T,ye),Ae===null?se=ae:Ae.sibling=ae,Ae=ae);return je&&xa(C,ye),se}for(ae=s(ae);ye<k.length;ye++)Se=B(ae,C,ye,k[ye],I),Se!==null&&(e&&Se.alternate!==null&&ae.delete(Se.key===null?ye:Se.key),T=d(Se,T,ye),Ae===null?se=Se:Ae.sibling=Se,Ae=Se);return e&&ae.forEach(function(cn){return t(C,cn)}),je&&xa(C,ye),se}function ce(C,T,k,I){if(k==null)throw Error(l(151));for(var se=null,Ae=null,ae=T,ye=T=0,Se=null,Ce=k.next();ae!==null&&!Ce.done;ye++,Ce=k.next()){ae.index>ye?(Se=ae,ae=null):Se=ae.sibling;var cn=z(C,ae,Ce.value,I);if(cn===null){ae===null&&(ae=Se);break}e&&ae&&cn.alternate===null&&t(C,ae),T=d(cn,T,ye),Ae===null?se=cn:Ae.sibling=cn,Ae=cn,ae=Se}if(Ce.done)return a(C,ae),je&&xa(C,ye),se;if(ae===null){for(;!Ce.done;ye++,Ce=k.next())Ce=V(C,Ce.value,I),Ce!==null&&(T=d(Ce,T,ye),Ae===null?se=Ce:Ae.sibling=Ce,Ae=Ce);return je&&xa(C,ye),se}for(ae=s(ae);!Ce.done;ye++,Ce=k.next())Ce=B(ae,C,ye,Ce.value,I),Ce!==null&&(e&&Ce.alternate!==null&&ae.delete(Ce.key===null?ye:Ce.key),T=d(Ce,T,ye),Ae===null?se=Ce:Ae.sibling=Ce,Ae=Ce);return e&&ae.forEach(function(o0){return t(C,o0)}),je&&xa(C,ye),se}function Ue(C,T,k,I){if(typeof k=="object"&&k!==null&&k.type===R&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case j:e:{for(var se=k.key;T!==null;){if(T.key===se){if(se=k.type,se===R){if(T.tag===7){a(C,T.sibling),I=o(T,k.props.children),I.return=C,C=I;break e}}else if(T.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===J&&En(se)===T.type){a(C,T.sibling),I=o(T,k.props),si(I,k),I.return=C,C=I;break e}a(C,T);break}else t(C,T);T=T.sibling}k.type===R?(I=xn(k.props.children,C.mode,I,k.key),I.return=C,C=I):(I=vs(k.type,k.key,k.props,null,C.mode,I),si(I,k),I.return=C,C=I)}return p(C);case A:e:{for(se=k.key;T!==null;){if(T.key===se)if(T.tag===4&&T.stateNode.containerInfo===k.containerInfo&&T.stateNode.implementation===k.implementation){a(C,T.sibling),I=o(T,k.children||[]),I.return=C,C=I;break e}else{a(C,T);break}else t(C,T);T=T.sibling}I=yo(k,C.mode,I),I.return=C,C=I}return p(C);case J:return k=En(k),Ue(C,T,k,I)}if(Ie(k))return ee(C,T,k,I);if(Te(k)){if(se=Te(k),typeof se!="function")throw Error(l(150));return k=se.call(k),ce(C,T,k,I)}if(typeof k.then=="function")return Ue(C,T,Es(k),I);if(k.$$typeof===U)return Ue(C,T,_s(C,k),I);Ts(C,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,T!==null&&T.tag===6?(a(C,T.sibling),I=o(T,k),I.return=C,C=I):(a(C,T),I=go(k,C.mode,I),I.return=C,C=I),p(C)):a(C,T)}return function(C,T,k,I){try{ii=0;var se=Ue(C,T,k,I);return lr=null,se}catch(ae){if(ae===sr||ae===Ss)throw ae;var Ae=Nt(29,ae,null,C.mode);return Ae.lanes=I,Ae.return=C,Ae}}}var An=oh(!0),ch=oh(!1),Ka=!1;function Ro(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function No(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ya(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Xa(e,t,a){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Re&2)!==0){var o=s.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),s.pending=t,t=ys(e),Yd(e,null,a),t}return gs(e,s,t,a),ys(e)}function li(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,ed(e,a)}}function Oo(e,t){var a=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,a===s)){var o=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var p={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?o=d=p:d=d.next=p,a=a.next}while(a!==null);d===null?o=d=t:d=d.next=t}else o=d=t;a={baseState:s.baseState,firstBaseUpdate:o,lastBaseUpdate:d,shared:s.shared,callbacks:s.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var ko=!1;function oi(){if(ko){var e=ir;if(e!==null)throw e}}function ci(e,t,a,s){ko=!1;var o=e.updateQueue;Ka=!1;var d=o.firstBaseUpdate,p=o.lastBaseUpdate,b=o.shared.pending;if(b!==null){o.shared.pending=null;var S=b,D=S.next;S.next=null,p===null?d=D:p.next=D,p=S;var H=e.alternate;H!==null&&(H=H.updateQueue,b=H.lastBaseUpdate,b!==p&&(b===null?H.firstBaseUpdate=D:b.next=D,H.lastBaseUpdate=S))}if(d!==null){var V=o.baseState;p=0,H=D=S=null,b=d;do{var z=b.lane&-536870913,B=z!==b.lane;if(B?(we&z)===z:(s&z)===z){z!==0&&z===rr&&(ko=!0),H!==null&&(H=H.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var ee=e,ce=b;z=t;var Ue=a;switch(ce.tag){case 1:if(ee=ce.payload,typeof ee=="function"){V=ee.call(Ue,V,z);break e}V=ee;break e;case 3:ee.flags=ee.flags&-65537|128;case 0:if(ee=ce.payload,z=typeof ee=="function"?ee.call(Ue,V,z):ee,z==null)break e;V=x({},V,z);break e;case 2:Ka=!0}}z=b.callback,z!==null&&(e.flags|=64,B&&(e.flags|=8192),B=o.callbacks,B===null?o.callbacks=[z]:B.push(z))}else B={lane:z,tag:b.tag,payload:b.payload,callback:b.callback,next:null},H===null?(D=H=B,S=V):H=H.next=B,p|=z;if(b=b.next,b===null){if(b=o.shared.pending,b===null)break;B=b,b=B.next,B.next=null,o.lastBaseUpdate=B,o.shared.pending=null}}while(!0);H===null&&(S=V),o.baseState=S,o.firstBaseUpdate=D,o.lastBaseUpdate=H,d===null&&(o.shared.lanes=0),Za|=p,e.lanes=p,e.memoizedState=V}}function uh(e,t){if(typeof e!="function")throw Error(l(191,e));e.call(t)}function dh(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)uh(a[e],t)}var or=E(null),As=E(0);function hh(e,t){e=Oa,$(As,e),$(or,t),Oa=e|t.baseLanes}function Do(){$(As,Oa),$(or,or.current)}function zo(){Oa=As.current,G(or),G(As)}var Ot=E(null),Xt=null;function Pa(e){var t=e.alternate;$(Qe,Qe.current&1),$(Ot,e),Xt===null&&(t===null||or.current!==null||t.memoizedState!==null)&&(Xt=e)}function Uo(e){$(Qe,Qe.current),$(Ot,e),Xt===null&&(Xt=e)}function fh(e){e.tag===22?($(Qe,Qe.current),$(Ot,e),Xt===null&&(Xt=e)):Ja()}function Ja(){$(Qe,Qe.current),$(Ot,Ot.current)}function kt(e){G(Ot),Xt===e&&(Xt=null),G(Qe)}var Qe=E(0);function Cs(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Hc(a)||Gc(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Sa=0,ge=null,De=null,tt=null,Rs=!1,cr=!1,Cn=!1,Ns=0,ui=0,ur=null,Zy=0;function Ye(){throw Error(l(321))}function Mo(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!Rt(e[a],t[a]))return!1;return!0}function Bo(e,t,a,s,o,d){return Sa=d,ge=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,q.H=e===null||e.memoizedState===null?Qh:Zo,Cn=!1,d=a(s,o),Cn=!1,cr&&(d=ph(t,a,s,o)),mh(e),d}function mh(e){q.H=fi;var t=De!==null&&De.next!==null;if(Sa=0,tt=De=ge=null,Rs=!1,ui=0,ur=null,t)throw Error(l(300));e===null||at||(e=e.dependencies,e!==null&&xs(e)&&(at=!0))}function ph(e,t,a,s){ge=e;var o=0;do{if(cr&&(ur=null),ui=0,cr=!1,25<=o)throw Error(l(301));if(o+=1,tt=De=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}q.H=Fh,d=t(a,s)}while(cr);return d}function Wy(){var e=q.H,t=e.useState()[0];return t=typeof t.then=="function"?di(t):t,e=e.useState()[0],(De!==null?De.memoizedState:null)!==e&&(ge.flags|=1024),t}function Lo(){var e=Ns!==0;return Ns=0,e}function qo(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function $o(e){if(Rs){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Rs=!1}Sa=0,tt=De=ge=null,cr=!1,ui=Ns=0,ur=null}function vt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tt===null?ge.memoizedState=tt=e:tt=tt.next=e,tt}function Fe(){if(De===null){var e=ge.alternate;e=e!==null?e.memoizedState:null}else e=De.next;var t=tt===null?ge.memoizedState:tt.next;if(t!==null)tt=t,De=e;else{if(e===null)throw ge.alternate===null?Error(l(467)):Error(l(310));De=e,e={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},tt===null?ge.memoizedState=tt=e:tt=tt.next=e}return tt}function Os(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function di(e){var t=ui;return ui+=1,ur===null&&(ur=[]),e=ih(ur,e,t),t=ge,(tt===null?t.memoizedState:tt.next)===null&&(t=t.alternate,q.H=t===null||t.memoizedState===null?Qh:Zo),e}function ks(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return di(e);if(e.$$typeof===U)return ht(e)}throw Error(l(438,String(e)))}function Ho(e){var t=null,a=ge.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var s=ge.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=Os(),ge.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),s=0;s<e;s++)a[s]=le;return t.index++,a}function ja(e,t){return typeof t=="function"?t(e):t}function Ds(e){var t=Fe();return Go(t,De,e)}function Go(e,t,a){var s=e.queue;if(s===null)throw Error(l(311));s.lastRenderedReducer=a;var o=e.baseQueue,d=s.pending;if(d!==null){if(o!==null){var p=o.next;o.next=d.next,d.next=p}t.baseQueue=o=d,s.pending=null}if(d=e.baseState,o===null)e.memoizedState=d;else{t=o.next;var b=p=null,S=null,D=t,H=!1;do{var V=D.lane&-536870913;if(V!==D.lane?(we&V)===V:(Sa&V)===V){var z=D.revertLane;if(z===0)S!==null&&(S=S.next={lane:0,revertLane:0,gesture:null,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null}),V===rr&&(H=!0);else if((Sa&z)===z){D=D.next,z===rr&&(H=!0);continue}else V={lane:0,revertLane:D.revertLane,gesture:null,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},S===null?(b=S=V,p=d):S=S.next=V,ge.lanes|=z,Za|=z;V=D.action,Cn&&a(d,V),d=D.hasEagerState?D.eagerState:a(d,V)}else z={lane:V,revertLane:D.revertLane,gesture:D.gesture,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},S===null?(b=S=z,p=d):S=S.next=z,ge.lanes|=V,Za|=V;D=D.next}while(D!==null&&D!==t);if(S===null?p=d:S.next=b,!Rt(d,e.memoizedState)&&(at=!0,H&&(a=ir,a!==null)))throw a;e.memoizedState=d,e.baseState=p,e.baseQueue=S,s.lastRenderedState=d}return o===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function Io(e){var t=Fe(),a=t.queue;if(a===null)throw Error(l(311));a.lastRenderedReducer=e;var s=a.dispatch,o=a.pending,d=t.memoizedState;if(o!==null){a.pending=null;var p=o=o.next;do d=e(d,p.action),p=p.next;while(p!==o);Rt(d,t.memoizedState)||(at=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),a.lastRenderedState=d}return[d,s]}function gh(e,t,a){var s=ge,o=Fe(),d=je;if(d){if(a===void 0)throw Error(l(407));a=a()}else a=t();var p=!Rt((De||o).memoizedState,a);if(p&&(o.memoizedState=a,at=!0),o=o.queue,Yo(bh.bind(null,s,o,e),[e]),o.getSnapshot!==t||p||tt!==null&&tt.memoizedState.tag&1){if(s.flags|=2048,dr(9,{destroy:void 0},vh.bind(null,s,o,a,t),null),Me===null)throw Error(l(349));d||(Sa&127)!==0||yh(s,t,a)}return a}function yh(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=ge.updateQueue,t===null?(t=Os(),ge.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function vh(e,t,a,s){t.value=a,t.getSnapshot=s,xh(t)&&_h(e)}function bh(e,t,a){return a(function(){xh(t)&&_h(e)})}function xh(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!Rt(e,a)}catch{return!0}}function _h(e){var t=bn(e,2);t!==null&&Et(t,e,2)}function Vo(e){var t=vt();if(typeof e=="function"){var a=e;if(e=a(),Cn){La(!0);try{a()}finally{La(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ja,lastRenderedState:e},t}function wh(e,t,a,s){return e.baseState=a,Go(e,De,typeof s=="function"?s:ja)}function ev(e,t,a,s,o){if(Ms(e))throw Error(l(485));if(e=t.action,e!==null){var d={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){d.listeners.push(p)}};q.T!==null?a(!0):d.isTransition=!1,s(d),a=t.pending,a===null?(d.next=t.pending=d,Sh(t,d)):(d.next=a.next,t.pending=a.next=d)}}function Sh(e,t){var a=t.action,s=t.payload,o=e.state;if(t.isTransition){var d=q.T,p={};q.T=p;try{var b=a(o,s),S=q.S;S!==null&&S(p,b),jh(e,t,b)}catch(D){Ko(e,t,D)}finally{d!==null&&p.types!==null&&(d.types=p.types),q.T=d}}else try{d=a(o,s),jh(e,t,d)}catch(D){Ko(e,t,D)}}function jh(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(s){Eh(e,t,s)},function(s){return Ko(e,t,s)}):Eh(e,t,a)}function Eh(e,t,a){t.status="fulfilled",t.value=a,Th(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Sh(e,a)))}function Ko(e,t,a){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=a,Th(t),t=t.next;while(t!==s)}e.action=null}function Th(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Ah(e,t){return t}function Ch(e,t){if(je){var a=Me.formState;if(a!==null){e:{var s=ge;if(je){if(qe){t:{for(var o=qe,d=Yt;o.nodeType!==8;){if(!d){o=null;break t}if(o=Pt(o.nextSibling),o===null){o=null;break t}}d=o.data,o=d==="F!"||d==="F"?o:null}if(o){qe=Pt(o.nextSibling),s=o.data==="F!";break e}}Ia(s)}s=!1}s&&(t=a[0])}}return a=vt(),a.memoizedState=a.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ah,lastRenderedState:t},a.queue=s,a=Xh.bind(null,ge,s),s.dispatch=a,s=Vo(!1),d=Fo.bind(null,ge,!1,s.queue),s=vt(),o={state:t,dispatch:null,action:e,pending:null},s.queue=o,a=ev.bind(null,ge,o,d,a),o.dispatch=a,s.memoizedState=e,[t,a,!1]}function Rh(e){var t=Fe();return Nh(t,De,e)}function Nh(e,t,a){if(t=Go(e,t,Ah)[0],e=Ds(ja)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=di(t)}catch(p){throw p===sr?Ss:p}else s=t;t=Fe();var o=t.queue,d=o.dispatch;return a!==t.memoizedState&&(ge.flags|=2048,dr(9,{destroy:void 0},tv.bind(null,o,a),null)),[s,d,e]}function tv(e,t){e.action=t}function Oh(e){var t=Fe(),a=De;if(a!==null)return Nh(t,a,e);Fe(),t=t.memoizedState,a=Fe();var s=a.queue.dispatch;return a.memoizedState=e,[t,s,!1]}function dr(e,t,a,s){return e={tag:e,create:a,deps:s,inst:t,next:null},t=ge.updateQueue,t===null&&(t=Os(),ge.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(s=a.next,a.next=e,e.next=s,t.lastEffect=e),e}function kh(){return Fe().memoizedState}function zs(e,t,a,s){var o=vt();ge.flags|=e,o.memoizedState=dr(1|t,{destroy:void 0},a,s===void 0?null:s)}function Us(e,t,a,s){var o=Fe();s=s===void 0?null:s;var d=o.memoizedState.inst;De!==null&&s!==null&&Mo(s,De.memoizedState.deps)?o.memoizedState=dr(t,d,a,s):(ge.flags|=e,o.memoizedState=dr(1|t,d,a,s))}function Dh(e,t){zs(8390656,8,e,t)}function Yo(e,t){Us(2048,8,e,t)}function av(e){ge.flags|=4;var t=ge.updateQueue;if(t===null)t=Os(),ge.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function zh(e){var t=Fe().memoizedState;return av({ref:t,nextImpl:e}),function(){if((Re&2)!==0)throw Error(l(440));return t.impl.apply(void 0,arguments)}}function Uh(e,t){return Us(4,2,e,t)}function Mh(e,t){return Us(4,4,e,t)}function Bh(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Lh(e,t,a){a=a!=null?a.concat([e]):null,Us(4,4,Bh.bind(null,t,e),a)}function Xo(){}function qh(e,t){var a=Fe();t=t===void 0?null:t;var s=a.memoizedState;return t!==null&&Mo(t,s[1])?s[0]:(a.memoizedState=[e,t],e)}function $h(e,t){var a=Fe();t=t===void 0?null:t;var s=a.memoizedState;if(t!==null&&Mo(t,s[1]))return s[0];if(s=e(),Cn){La(!0);try{e()}finally{La(!1)}}return a.memoizedState=[s,t],s}function Po(e,t,a){return a===void 0||(Sa&1073741824)!==0&&(we&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=Gf(),ge.lanes|=e,Za|=e,a)}function Hh(e,t,a,s){return Rt(a,t)?a:or.current!==null?(e=Po(e,a,s),Rt(e,t)||(at=!0),e):(Sa&42)===0||(Sa&1073741824)!==0&&(we&261930)===0?(at=!0,e.memoizedState=a):(e=Gf(),ge.lanes|=e,Za|=e,t)}function Gh(e,t,a,s,o){var d=Q.p;Q.p=d!==0&&8>d?d:8;var p=q.T,b={};q.T=b,Fo(e,!1,t,a);try{var S=o(),D=q.S;if(D!==null&&D(b,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var H=Fy(S,s);hi(e,t,H,Ut(e))}else hi(e,t,s,Ut(e))}catch(V){hi(e,t,{then:function(){},status:"rejected",reason:V},Ut())}finally{Q.p=d,p!==null&&b.types!==null&&(p.types=b.types),q.T=p}}function nv(){}function Jo(e,t,a,s){if(e.tag!==5)throw Error(l(476));var o=Ih(e).queue;Gh(e,o,t,X,a===null?nv:function(){return Vh(e),a(s)})}function Ih(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:X,baseState:X,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ja,lastRenderedState:X},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ja,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Vh(e){var t=Ih(e);t.next===null&&(t=e.alternate.memoizedState),hi(e,t.next.queue,{},Ut())}function Qo(){return ht(Ri)}function Kh(){return Fe().memoizedState}function Yh(){return Fe().memoizedState}function rv(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Ut();e=Ya(a);var s=Xa(t,e,a);s!==null&&(Et(s,t,a),li(s,t,a)),t={cache:Eo()},e.payload=t;return}t=t.return}}function iv(e,t,a){var s=Ut();a={lane:s,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ms(e)?Ph(t,a):(a=mo(e,t,a,s),a!==null&&(Et(a,e,s),Jh(a,t,s)))}function Xh(e,t,a){var s=Ut();hi(e,t,a,s)}function hi(e,t,a,s){var o={lane:s,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ms(e))Ph(t,o);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var p=t.lastRenderedState,b=d(p,a);if(o.hasEagerState=!0,o.eagerState=b,Rt(b,p))return gs(e,t,o,0),Me===null&&ps(),!1}catch{}if(a=mo(e,t,o,s),a!==null)return Et(a,e,s),Jh(a,t,s),!0}return!1}function Fo(e,t,a,s){if(s={lane:2,revertLane:Rc(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Ms(e)){if(t)throw Error(l(479))}else t=mo(e,a,s,2),t!==null&&Et(t,e,2)}function Ms(e){var t=e.alternate;return e===ge||t!==null&&t===ge}function Ph(e,t){cr=Rs=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Jh(e,t,a){if((a&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,ed(e,a)}}var fi={readContext:ht,use:ks,useCallback:Ye,useContext:Ye,useEffect:Ye,useImperativeHandle:Ye,useLayoutEffect:Ye,useInsertionEffect:Ye,useMemo:Ye,useReducer:Ye,useRef:Ye,useState:Ye,useDebugValue:Ye,useDeferredValue:Ye,useTransition:Ye,useSyncExternalStore:Ye,useId:Ye,useHostTransitionStatus:Ye,useFormState:Ye,useActionState:Ye,useOptimistic:Ye,useMemoCache:Ye,useCacheRefresh:Ye};fi.useEffectEvent=Ye;var Qh={readContext:ht,use:ks,useCallback:function(e,t){return vt().memoizedState=[e,t===void 0?null:t],e},useContext:ht,useEffect:Dh,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,zs(4194308,4,Bh.bind(null,t,e),a)},useLayoutEffect:function(e,t){return zs(4194308,4,e,t)},useInsertionEffect:function(e,t){zs(4,2,e,t)},useMemo:function(e,t){var a=vt();t=t===void 0?null:t;var s=e();if(Cn){La(!0);try{e()}finally{La(!1)}}return a.memoizedState=[s,t],s},useReducer:function(e,t,a){var s=vt();if(a!==void 0){var o=a(t);if(Cn){La(!0);try{a(t)}finally{La(!1)}}}else o=t;return s.memoizedState=s.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},s.queue=e,e=e.dispatch=iv.bind(null,ge,e),[s.memoizedState,e]},useRef:function(e){var t=vt();return e={current:e},t.memoizedState=e},useState:function(e){e=Vo(e);var t=e.queue,a=Xh.bind(null,ge,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:Xo,useDeferredValue:function(e,t){var a=vt();return Po(a,e,t)},useTransition:function(){var e=Vo(!1);return e=Gh.bind(null,ge,e.queue,!0,!1),vt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var s=ge,o=vt();if(je){if(a===void 0)throw Error(l(407));a=a()}else{if(a=t(),Me===null)throw Error(l(349));(we&127)!==0||yh(s,t,a)}o.memoizedState=a;var d={value:a,getSnapshot:t};return o.queue=d,Dh(bh.bind(null,s,d,e),[e]),s.flags|=2048,dr(9,{destroy:void 0},vh.bind(null,s,d,a,t),null),a},useId:function(){var e=vt(),t=Me.identifierPrefix;if(je){var a=la,s=sa;a=(s&~(1<<32-Ct(s)-1)).toString(32)+a,t="_"+t+"R_"+a,a=Ns++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=Zy++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Qo,useFormState:Ch,useActionState:Ch,useOptimistic:function(e){var t=vt();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=Fo.bind(null,ge,!0,a),a.dispatch=t,[e,t]},useMemoCache:Ho,useCacheRefresh:function(){return vt().memoizedState=rv.bind(null,ge)},useEffectEvent:function(e){var t=vt(),a={impl:e};return t.memoizedState=a,function(){if((Re&2)!==0)throw Error(l(440));return a.impl.apply(void 0,arguments)}}},Zo={readContext:ht,use:ks,useCallback:qh,useContext:ht,useEffect:Yo,useImperativeHandle:Lh,useInsertionEffect:Uh,useLayoutEffect:Mh,useMemo:$h,useReducer:Ds,useRef:kh,useState:function(){return Ds(ja)},useDebugValue:Xo,useDeferredValue:function(e,t){var a=Fe();return Hh(a,De.memoizedState,e,t)},useTransition:function(){var e=Ds(ja)[0],t=Fe().memoizedState;return[typeof e=="boolean"?e:di(e),t]},useSyncExternalStore:gh,useId:Kh,useHostTransitionStatus:Qo,useFormState:Rh,useActionState:Rh,useOptimistic:function(e,t){var a=Fe();return wh(a,De,e,t)},useMemoCache:Ho,useCacheRefresh:Yh};Zo.useEffectEvent=zh;var Fh={readContext:ht,use:ks,useCallback:qh,useContext:ht,useEffect:Yo,useImperativeHandle:Lh,useInsertionEffect:Uh,useLayoutEffect:Mh,useMemo:$h,useReducer:Io,useRef:kh,useState:function(){return Io(ja)},useDebugValue:Xo,useDeferredValue:function(e,t){var a=Fe();return De===null?Po(a,e,t):Hh(a,De.memoizedState,e,t)},useTransition:function(){var e=Io(ja)[0],t=Fe().memoizedState;return[typeof e=="boolean"?e:di(e),t]},useSyncExternalStore:gh,useId:Kh,useHostTransitionStatus:Qo,useFormState:Oh,useActionState:Oh,useOptimistic:function(e,t){var a=Fe();return De!==null?wh(a,De,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Ho,useCacheRefresh:Yh};Fh.useEffectEvent=zh;function Wo(e,t,a,s){t=e.memoizedState,a=a(s,t),a=a==null?t:x({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var ec={enqueueSetState:function(e,t,a){e=e._reactInternals;var s=Ut(),o=Ya(s);o.payload=t,a!=null&&(o.callback=a),t=Xa(e,o,s),t!==null&&(Et(t,e,s),li(t,e,s))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var s=Ut(),o=Ya(s);o.tag=1,o.payload=t,a!=null&&(o.callback=a),t=Xa(e,o,s),t!==null&&(Et(t,e,s),li(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Ut(),s=Ya(a);s.tag=2,t!=null&&(s.callback=t),t=Xa(e,s,a),t!==null&&(Et(t,e,a),li(t,e,a))}};function Zh(e,t,a,s,o,d,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,d,p):t.prototype&&t.prototype.isPureReactComponent?!Wr(a,s)||!Wr(o,d):!0}function Wh(e,t,a,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,s),t.state!==e&&ec.enqueueReplaceState(t,t.state,null)}function Rn(e,t){var a=t;if("ref"in t){a={};for(var s in t)s!=="ref"&&(a[s]=t[s])}if(e=e.defaultProps){a===t&&(a=x({},a));for(var o in e)a[o]===void 0&&(a[o]=e[o])}return a}function ef(e){ms(e)}function tf(e){console.error(e)}function af(e){ms(e)}function Bs(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function nf(e,t,a){try{var s=e.onCaughtError;s(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function tc(e,t,a){return a=Ya(a),a.tag=3,a.payload={element:null},a.callback=function(){Bs(e,t)},a}function rf(e){return e=Ya(e),e.tag=3,e}function sf(e,t,a,s){var o=a.type.getDerivedStateFromError;if(typeof o=="function"){var d=s.value;e.payload=function(){return o(d)},e.callback=function(){nf(t,a,s)}}var p=a.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){nf(t,a,s),typeof o!="function"&&(Wa===null?Wa=new Set([this]):Wa.add(this));var b=s.stack;this.componentDidCatch(s.value,{componentStack:b!==null?b:""})})}function sv(e,t,a,s,o){if(a.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=a.alternate,t!==null&&nr(t,a,o,!0),a=Ot.current,a!==null){switch(a.tag){case 31:case 13:return Xt===null?Js():a.alternate===null&&Xe===0&&(Xe=3),a.flags&=-257,a.flags|=65536,a.lanes=o,s===js?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([s]):t.add(s),Tc(e,s,o)),!1;case 22:return a.flags|=65536,s===js?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([s]):a.add(s)),Tc(e,s,o)),!1}throw Error(l(435,a.tag))}return Tc(e,s,o),Js(),!1}if(je)return t=Ot.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,s!==xo&&(e=Error(l(422),{cause:s}),ai(It(e,a)))):(s!==xo&&(t=Error(l(423),{cause:s}),ai(It(t,a))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,s=It(s,a),o=tc(e.stateNode,s,o),Oo(e,o),Xe!==4&&(Xe=2)),!1;var d=Error(l(520),{cause:s});if(d=It(d,a),_i===null?_i=[d]:_i.push(d),Xe!==4&&(Xe=2),t===null)return!0;s=It(s,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=o&-o,a.lanes|=e,e=tc(a.stateNode,s,e),Oo(a,e),!1;case 1:if(t=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Wa===null||!Wa.has(d))))return a.flags|=65536,o&=-o,a.lanes|=o,o=rf(o),sf(o,e,a,s),Oo(a,o),!1}a=a.return}while(a!==null);return!1}var ac=Error(l(461)),at=!1;function ft(e,t,a,s){t.child=e===null?ch(t,null,a,s):An(t,e.child,a,s)}function lf(e,t,a,s,o){a=a.render;var d=t.ref;if("ref"in s){var p={};for(var b in s)b!=="ref"&&(p[b]=s[b])}else p=s;return Sn(t),s=Bo(e,t,a,p,d,o),b=Lo(),e!==null&&!at?(qo(e,t,o),Ea(e,t,o)):(je&&b&&vo(t),t.flags|=1,ft(e,t,s,o),t.child)}function of(e,t,a,s,o){if(e===null){var d=a.type;return typeof d=="function"&&!po(d)&&d.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=d,cf(e,t,d,s,o)):(e=vs(a.type,null,s,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,!uc(e,o)){var p=d.memoizedProps;if(a=a.compare,a=a!==null?a:Wr,a(p,s)&&e.ref===t.ref)return Ea(e,t,o)}return t.flags|=1,e=ba(d,s),e.ref=t.ref,e.return=t,t.child=e}function cf(e,t,a,s,o){if(e!==null){var d=e.memoizedProps;if(Wr(d,s)&&e.ref===t.ref)if(at=!1,t.pendingProps=s=d,uc(e,o))(e.flags&131072)!==0&&(at=!0);else return t.lanes=e.lanes,Ea(e,t,o)}return nc(e,t,a,s,o)}function uf(e,t,a,s){var o=s.children,d=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((t.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,e!==null){for(s=t.child=e.child,o=0;s!==null;)o=o|s.lanes|s.childLanes,s=s.sibling;s=o&~d}else s=0,t.child=null;return df(e,t,d,a,s)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&ws(t,d!==null?d.cachePool:null),d!==null?hh(t,d):Do(),fh(t);else return s=t.lanes=536870912,df(e,t,d!==null?d.baseLanes|a:a,a,s)}else d!==null?(ws(t,d.cachePool),hh(t,d),Ja(),t.memoizedState=null):(e!==null&&ws(t,null),Do(),Ja());return ft(e,t,o,a),t.child}function mi(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function df(e,t,a,s,o){var d=Ao();return d=d===null?null:{parent:et._currentValue,pool:d},t.memoizedState={baseLanes:a,cachePool:d},e!==null&&ws(t,null),Do(),fh(t),e!==null&&nr(e,t,s,!0),t.childLanes=o,null}function Ls(e,t){return t=$s({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function hf(e,t,a){return An(t,e.child,null,a),e=Ls(t,t.pendingProps),e.flags|=2,kt(t),t.memoizedState=null,e}function lv(e,t,a){var s=t.pendingProps,o=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(je){if(s.mode==="hidden")return e=Ls(t,s),t.lanes=536870912,mi(null,e);if(Uo(t),(e=qe)?(e=jm(e,Yt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ha!==null?{id:sa,overflow:la}:null,retryLane:536870912,hydrationErrors:null},a=Pd(e),a.return=t,t.child=a,dt=t,qe=null)):e=null,e===null)throw Ia(t);return t.lanes=536870912,null}return Ls(t,s)}var d=e.memoizedState;if(d!==null){var p=d.dehydrated;if(Uo(t),o)if(t.flags&256)t.flags&=-257,t=hf(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(l(558));else if(at||nr(e,t,a,!1),o=(a&e.childLanes)!==0,at||o){if(s=Me,s!==null&&(p=td(s,a),p!==0&&p!==d.retryLane))throw d.retryLane=p,bn(e,p),Et(s,e,p),ac;Js(),t=hf(e,t,a)}else e=d.treeContext,qe=Pt(p.nextSibling),dt=t,je=!0,Ga=null,Yt=!1,e!==null&&Fd(t,e),t=Ls(t,s),t.flags|=4096;return t}return e=ba(e.child,{mode:s.mode,children:s.children}),e.ref=t.ref,t.child=e,e.return=t,e}function qs(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(l(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function nc(e,t,a,s,o){return Sn(t),a=Bo(e,t,a,s,void 0,o),s=Lo(),e!==null&&!at?(qo(e,t,o),Ea(e,t,o)):(je&&s&&vo(t),t.flags|=1,ft(e,t,a,o),t.child)}function ff(e,t,a,s,o,d){return Sn(t),t.updateQueue=null,a=ph(t,s,a,o),mh(e),s=Lo(),e!==null&&!at?(qo(e,t,d),Ea(e,t,d)):(je&&s&&vo(t),t.flags|=1,ft(e,t,a,d),t.child)}function mf(e,t,a,s,o){if(Sn(t),t.stateNode===null){var d=Wn,p=a.contextType;typeof p=="object"&&p!==null&&(d=ht(p)),d=new a(s,d),t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=ec,t.stateNode=d,d._reactInternals=t,d=t.stateNode,d.props=s,d.state=t.memoizedState,d.refs={},Ro(t),p=a.contextType,d.context=typeof p=="object"&&p!==null?ht(p):Wn,d.state=t.memoizedState,p=a.getDerivedStateFromProps,typeof p=="function"&&(Wo(t,a,p,s),d.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(p=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),p!==d.state&&ec.enqueueReplaceState(d,d.state,null),ci(t,s,d,o),oi(),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){d=t.stateNode;var b=t.memoizedProps,S=Rn(a,b);d.props=S;var D=d.context,H=a.contextType;p=Wn,typeof H=="object"&&H!==null&&(p=ht(H));var V=a.getDerivedStateFromProps;H=typeof V=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=t.pendingProps!==b,H||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||D!==p)&&Wh(t,d,s,p),Ka=!1;var z=t.memoizedState;d.state=z,ci(t,s,d,o),oi(),D=t.memoizedState,b||z!==D||Ka?(typeof V=="function"&&(Wo(t,a,V,s),D=t.memoizedState),(S=Ka||Zh(t,a,S,s,z,D,p))?(H||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=D),d.props=s,d.state=D,d.context=p,s=S):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{d=t.stateNode,No(e,t),p=t.memoizedProps,H=Rn(a,p),d.props=H,V=t.pendingProps,z=d.context,D=a.contextType,S=Wn,typeof D=="object"&&D!==null&&(S=ht(D)),b=a.getDerivedStateFromProps,(D=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(p!==V||z!==S)&&Wh(t,d,s,S),Ka=!1,z=t.memoizedState,d.state=z,ci(t,s,d,o),oi();var B=t.memoizedState;p!==V||z!==B||Ka||e!==null&&e.dependencies!==null&&xs(e.dependencies)?(typeof b=="function"&&(Wo(t,a,b,s),B=t.memoizedState),(H=Ka||Zh(t,a,H,s,z,B,S)||e!==null&&e.dependencies!==null&&xs(e.dependencies))?(D||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(s,B,S),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(s,B,S)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=B),d.props=s,d.state=B,d.context=S,s=H):(typeof d.componentDidUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(t.flags|=1024),s=!1)}return d=s,qs(e,t),s=(t.flags&128)!==0,d||s?(d=t.stateNode,a=s&&typeof a.getDerivedStateFromError!="function"?null:d.render(),t.flags|=1,e!==null&&s?(t.child=An(t,e.child,null,o),t.child=An(t,null,a,o)):ft(e,t,a,o),t.memoizedState=d.state,e=t.child):e=Ea(e,t,o),e}function pf(e,t,a,s){return _n(),t.flags|=256,ft(e,t,a,s),t.child}var rc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ic(e){return{baseLanes:e,cachePool:nh()}}function sc(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=zt),e}function gf(e,t,a){var s=t.pendingProps,o=!1,d=(t.flags&128)!==0,p;if((p=d)||(p=e!==null&&e.memoizedState===null?!1:(Qe.current&2)!==0),p&&(o=!0,t.flags&=-129),p=(t.flags&32)!==0,t.flags&=-33,e===null){if(je){if(o?Pa(t):Ja(),(e=qe)?(e=jm(e,Yt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ha!==null?{id:sa,overflow:la}:null,retryLane:536870912,hydrationErrors:null},a=Pd(e),a.return=t,t.child=a,dt=t,qe=null)):e=null,e===null)throw Ia(t);return Gc(e)?t.lanes=32:t.lanes=536870912,null}var b=s.children;return s=s.fallback,o?(Ja(),o=t.mode,b=$s({mode:"hidden",children:b},o),s=xn(s,o,a,null),b.return=t,s.return=t,b.sibling=s,t.child=b,s=t.child,s.memoizedState=ic(a),s.childLanes=sc(e,p,a),t.memoizedState=rc,mi(null,s)):(Pa(t),lc(t,b))}var S=e.memoizedState;if(S!==null&&(b=S.dehydrated,b!==null)){if(d)t.flags&256?(Pa(t),t.flags&=-257,t=oc(e,t,a)):t.memoizedState!==null?(Ja(),t.child=e.child,t.flags|=128,t=null):(Ja(),b=s.fallback,o=t.mode,s=$s({mode:"visible",children:s.children},o),b=xn(b,o,a,null),b.flags|=2,s.return=t,b.return=t,s.sibling=b,t.child=s,An(t,e.child,null,a),s=t.child,s.memoizedState=ic(a),s.childLanes=sc(e,p,a),t.memoizedState=rc,t=mi(null,s));else if(Pa(t),Gc(b)){if(p=b.nextSibling&&b.nextSibling.dataset,p)var D=p.dgst;p=D,s=Error(l(419)),s.stack="",s.digest=p,ai({value:s,source:null,stack:null}),t=oc(e,t,a)}else if(at||nr(e,t,a,!1),p=(a&e.childLanes)!==0,at||p){if(p=Me,p!==null&&(s=td(p,a),s!==0&&s!==S.retryLane))throw S.retryLane=s,bn(e,s),Et(p,e,s),ac;Hc(b)||Js(),t=oc(e,t,a)}else Hc(b)?(t.flags|=192,t.child=e.child,t=null):(e=S.treeContext,qe=Pt(b.nextSibling),dt=t,je=!0,Ga=null,Yt=!1,e!==null&&Fd(t,e),t=lc(t,s.children),t.flags|=4096);return t}return o?(Ja(),b=s.fallback,o=t.mode,S=e.child,D=S.sibling,s=ba(S,{mode:"hidden",children:s.children}),s.subtreeFlags=S.subtreeFlags&65011712,D!==null?b=ba(D,b):(b=xn(b,o,a,null),b.flags|=2),b.return=t,s.return=t,s.sibling=b,t.child=s,mi(null,s),s=t.child,b=e.child.memoizedState,b===null?b=ic(a):(o=b.cachePool,o!==null?(S=et._currentValue,o=o.parent!==S?{parent:S,pool:S}:o):o=nh(),b={baseLanes:b.baseLanes|a,cachePool:o}),s.memoizedState=b,s.childLanes=sc(e,p,a),t.memoizedState=rc,mi(e.child,s)):(Pa(t),a=e.child,e=a.sibling,a=ba(a,{mode:"visible",children:s.children}),a.return=t,a.sibling=null,e!==null&&(p=t.deletions,p===null?(t.deletions=[e],t.flags|=16):p.push(e)),t.child=a,t.memoizedState=null,a)}function lc(e,t){return t=$s({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function $s(e,t){return e=Nt(22,e,null,t),e.lanes=0,e}function oc(e,t,a){return An(t,e.child,null,a),e=lc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function yf(e,t,a){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),So(e.return,t,a)}function cc(e,t,a,s,o,d){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:a,tailMode:o,treeForkCount:d}:(p.isBackwards=t,p.rendering=null,p.renderingStartTime=0,p.last=s,p.tail=a,p.tailMode=o,p.treeForkCount=d)}function vf(e,t,a){var s=t.pendingProps,o=s.revealOrder,d=s.tail;s=s.children;var p=Qe.current,b=(p&2)!==0;if(b?(p=p&1|2,t.flags|=128):p&=1,$(Qe,p),ft(e,t,s,a),s=je?ti:0,!b&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&yf(e,a,t);else if(e.tag===19)yf(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(a=t.child,o=null;a!==null;)e=a.alternate,e!==null&&Cs(e)===null&&(o=a),a=a.sibling;a=o,a===null?(o=t.child,t.child=null):(o=a.sibling,a.sibling=null),cc(t,!1,o,a,d,s);break;case"backwards":case"unstable_legacy-backwards":for(a=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Cs(e)===null){t.child=o;break}e=o.sibling,o.sibling=a,a=o,o=e}cc(t,!0,a,null,d,s);break;case"together":cc(t,!1,null,null,void 0,s);break;default:t.memoizedState=null}return t.child}function Ea(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Za|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(nr(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(l(153));if(t.child!==null){for(e=t.child,a=ba(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=ba(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function uc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&xs(e)))}function ov(e,t,a){switch(t.tag){case 3:We(t,t.stateNode.containerInfo),Va(t,et,e.memoizedState.cache),_n();break;case 27:case 5:ra(t);break;case 4:We(t,t.stateNode.containerInfo);break;case 10:Va(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Uo(t),null;break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(Pa(t),t.flags|=128,null):(a&t.child.childLanes)!==0?gf(e,t,a):(Pa(t),e=Ea(e,t,a),e!==null?e.sibling:null);Pa(t);break;case 19:var o=(e.flags&128)!==0;if(s=(a&t.childLanes)!==0,s||(nr(e,t,a,!1),s=(a&t.childLanes)!==0),o){if(s)return vf(e,t,a);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),$(Qe,Qe.current),s)break;return null;case 22:return t.lanes=0,uf(e,t,a,t.pendingProps);case 24:Va(t,et,e.memoizedState.cache)}return Ea(e,t,a)}function bf(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)at=!0;else{if(!uc(e,a)&&(t.flags&128)===0)return at=!1,ov(e,t,a);at=(e.flags&131072)!==0}else at=!1,je&&(t.flags&1048576)!==0&&Qd(t,ti,t.index);switch(t.lanes=0,t.tag){case 16:e:{var s=t.pendingProps;if(e=En(t.elementType),t.type=e,typeof e=="function")po(e)?(s=Rn(e,s),t.tag=1,t=mf(null,t,e,s,a)):(t.tag=0,t=nc(null,t,e,s,a));else{if(e!=null){var o=e.$$typeof;if(o===W){t.tag=11,t=lf(null,t,e,s,a);break e}else if(o===L){t.tag=14,t=of(null,t,e,s,a);break e}}throw t=Ke(e)||e,Error(l(306,t,""))}}return t;case 0:return nc(e,t,t.type,t.pendingProps,a);case 1:return s=t.type,o=Rn(s,t.pendingProps),mf(e,t,s,o,a);case 3:e:{if(We(t,t.stateNode.containerInfo),e===null)throw Error(l(387));s=t.pendingProps;var d=t.memoizedState;o=d.element,No(e,t),ci(t,s,null,a);var p=t.memoizedState;if(s=p.cache,Va(t,et,s),s!==d.cache&&jo(t,[et],a,!0),oi(),s=p.element,d.isDehydrated)if(d={element:s,isDehydrated:!1,cache:p.cache},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){t=pf(e,t,s,a);break e}else if(s!==o){o=It(Error(l(424)),t),ai(o),t=pf(e,t,s,a);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,qe=Pt(e.firstChild),dt=t,je=!0,Ga=null,Yt=!0,a=ch(t,null,s,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(_n(),s===o){t=Ea(e,t,a);break e}ft(e,t,s,a)}t=t.child}return t;case 26:return qs(e,t),e===null?(a=Nm(t.type,null,t.pendingProps,null))?t.memoizedState=a:je||(a=t.type,e=t.pendingProps,s=al(fe.current).createElement(a),s[ut]=t,s[bt]=e,mt(s,a,e),ot(s),t.stateNode=s):t.memoizedState=Nm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return ra(t),e===null&&je&&(s=t.stateNode=Am(t.type,t.pendingProps,fe.current),dt=t,Yt=!0,o=qe,nn(t.type)?(Ic=o,qe=Pt(s.firstChild)):qe=o),ft(e,t,t.pendingProps.children,a),qs(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&je&&((o=s=qe)&&(s=Lv(s,t.type,t.pendingProps,Yt),s!==null?(t.stateNode=s,dt=t,qe=Pt(s.firstChild),Yt=!1,o=!0):o=!1),o||Ia(t)),ra(t),o=t.type,d=t.pendingProps,p=e!==null?e.memoizedProps:null,s=d.children,Lc(o,d)?s=null:p!==null&&Lc(o,p)&&(t.flags|=32),t.memoizedState!==null&&(o=Bo(e,t,Wy,null,null,a),Ri._currentValue=o),qs(e,t),ft(e,t,s,a),t.child;case 6:return e===null&&je&&((e=a=qe)&&(a=qv(a,t.pendingProps,Yt),a!==null?(t.stateNode=a,dt=t,qe=null,e=!0):e=!1),e||Ia(t)),null;case 13:return gf(e,t,a);case 4:return We(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=An(t,null,s,a):ft(e,t,s,a),t.child;case 11:return lf(e,t,t.type,t.pendingProps,a);case 7:return ft(e,t,t.pendingProps,a),t.child;case 8:return ft(e,t,t.pendingProps.children,a),t.child;case 12:return ft(e,t,t.pendingProps.children,a),t.child;case 10:return s=t.pendingProps,Va(t,t.type,s.value),ft(e,t,s.children,a),t.child;case 9:return o=t.type._context,s=t.pendingProps.children,Sn(t),o=ht(o),s=s(o),t.flags|=1,ft(e,t,s,a),t.child;case 14:return of(e,t,t.type,t.pendingProps,a);case 15:return cf(e,t,t.type,t.pendingProps,a);case 19:return vf(e,t,a);case 31:return lv(e,t,a);case 22:return uf(e,t,a,t.pendingProps);case 24:return Sn(t),s=ht(et),e===null?(o=Ao(),o===null&&(o=Me,d=Eo(),o.pooledCache=d,d.refCount++,d!==null&&(o.pooledCacheLanes|=a),o=d),t.memoizedState={parent:s,cache:o},Ro(t),Va(t,et,o)):((e.lanes&a)!==0&&(No(e,t),ci(t,null,null,a),oi()),o=e.memoizedState,d=t.memoizedState,o.parent!==s?(o={parent:s,cache:s},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),Va(t,et,s)):(s=d.cache,Va(t,et,s),s!==o.cache&&jo(t,[et],a,!0))),ft(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}function Ta(e){e.flags|=4}function dc(e,t,a,s,o){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(o&335544128)===o)if(e.stateNode.complete)e.flags|=8192;else if(Yf())e.flags|=8192;else throw Tn=js,Co}else e.flags&=-16777217}function xf(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Um(t))if(Yf())e.flags|=8192;else throw Tn=js,Co}function Hs(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Zu():536870912,e.lanes|=t,pr|=t)}function pi(e,t){if(!je)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function $e(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,s=0;if(t)for(var o=e.child;o!==null;)a|=o.lanes|o.childLanes,s|=o.subtreeFlags&65011712,s|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)a|=o.lanes|o.childLanes,s|=o.subtreeFlags,s|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=s,e.childLanes=a,t}function cv(e,t,a){var s=t.pendingProps;switch(bo(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $e(t),null;case 1:return $e(t),null;case 3:return a=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),wa(et),Be(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(ar(t)?Ta(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,_o())),$e(t),null;case 26:var o=t.type,d=t.memoizedState;return e===null?(Ta(t),d!==null?($e(t),xf(t,d)):($e(t),dc(t,o,null,s,a))):d?d!==e.memoizedState?(Ta(t),$e(t),xf(t,d)):($e(t),t.flags&=-16777217):(e=e.memoizedProps,e!==s&&Ta(t),$e(t),dc(t,o,e,s,a)),null;case 27:if(ma(t),a=fe.current,o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&Ta(t);else{if(!s){if(t.stateNode===null)throw Error(l(166));return $e(t),null}e=P.current,ar(t)?Zd(t):(e=Am(o,s,a),t.stateNode=e,Ta(t))}return $e(t),null;case 5:if(ma(t),o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&Ta(t);else{if(!s){if(t.stateNode===null)throw Error(l(166));return $e(t),null}if(d=P.current,ar(t))Zd(t);else{var p=al(fe.current);switch(d){case 1:d=p.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:d=p.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":d=p.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":d=p.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":d=p.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof s.is=="string"?p.createElement("select",{is:s.is}):p.createElement("select"),s.multiple?d.multiple=!0:s.size&&(d.size=s.size);break;default:d=typeof s.is=="string"?p.createElement(o,{is:s.is}):p.createElement(o)}}d[ut]=t,d[bt]=s;e:for(p=t.child;p!==null;){if(p.tag===5||p.tag===6)d.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}t.stateNode=d;e:switch(mt(d,o,s),o){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&Ta(t)}}return $e(t),dc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&Ta(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(l(166));if(e=fe.current,ar(t)){if(e=t.stateNode,a=t.memoizedProps,s=null,o=dt,o!==null)switch(o.tag){case 27:case 5:s=o.memoizedProps}e[ut]=t,e=!!(e.nodeValue===a||s!==null&&s.suppressHydrationWarning===!0||gm(e.nodeValue,a)),e||Ia(t,!0)}else e=al(e).createTextNode(s),e[ut]=t,t.stateNode=e}return $e(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(s=ar(t),a!==null){if(e===null){if(!s)throw Error(l(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(557));e[ut]=t}else _n(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;$e(t),e=!1}else a=_o(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(kt(t),t):(kt(t),null);if((t.flags&128)!==0)throw Error(l(558))}return $e(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=ar(t),s!==null&&s.dehydrated!==null){if(e===null){if(!o)throw Error(l(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(l(317));o[ut]=t}else _n(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;$e(t),o=!1}else o=_o(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(kt(t),t):(kt(t),null)}return kt(t),(t.flags&128)!==0?(t.lanes=a,t):(a=s!==null,e=e!==null&&e.memoizedState!==null,a&&(s=t.child,o=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(o=s.alternate.memoizedState.cachePool.pool),d=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),d!==o&&(s.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),Hs(t,t.updateQueue),$e(t),null);case 4:return Be(),e===null&&Dc(t.stateNode.containerInfo),$e(t),null;case 10:return wa(t.type),$e(t),null;case 19:if(G(Qe),s=t.memoizedState,s===null)return $e(t),null;if(o=(t.flags&128)!==0,d=s.rendering,d===null)if(o)pi(s,!1);else{if(Xe!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(d=Cs(e),d!==null){for(t.flags|=128,pi(s,!1),e=d.updateQueue,t.updateQueue=e,Hs(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)Xd(a,e),a=a.sibling;return $(Qe,Qe.current&1|2),je&&xa(t,s.treeForkCount),t.child}e=e.sibling}s.tail!==null&&Tt()>Ys&&(t.flags|=128,o=!0,pi(s,!1),t.lanes=4194304)}else{if(!o)if(e=Cs(d),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,Hs(t,e),pi(s,!0),s.tail===null&&s.tailMode==="hidden"&&!d.alternate&&!je)return $e(t),null}else 2*Tt()-s.renderingStartTime>Ys&&a!==536870912&&(t.flags|=128,o=!0,pi(s,!1),t.lanes=4194304);s.isBackwards?(d.sibling=t.child,t.child=d):(e=s.last,e!==null?e.sibling=d:t.child=d,s.last=d)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Tt(),e.sibling=null,a=Qe.current,$(Qe,o?a&1|2:a&1),je&&xa(t,s.treeForkCount),e):($e(t),null);case 22:case 23:return kt(t),zo(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(a&536870912)!==0&&(t.flags&128)===0&&($e(t),t.subtreeFlags&6&&(t.flags|=8192)):$e(t),a=t.updateQueue,a!==null&&Hs(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==a&&(t.flags|=2048),e!==null&&G(jn),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),wa(et),$e(t),null;case 25:return null;case 30:return null}throw Error(l(156,t.tag))}function uv(e,t){switch(bo(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return wa(et),Be(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return ma(t),null;case 31:if(t.memoizedState!==null){if(kt(t),t.alternate===null)throw Error(l(340));_n()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(kt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(l(340));_n()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return G(Qe),null;case 4:return Be(),null;case 10:return wa(t.type),null;case 22:case 23:return kt(t),zo(),e!==null&&G(jn),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return wa(et),null;case 25:return null;default:return null}}function _f(e,t){switch(bo(t),t.tag){case 3:wa(et),Be();break;case 26:case 27:case 5:ma(t);break;case 4:Be();break;case 31:t.memoizedState!==null&&kt(t);break;case 13:kt(t);break;case 19:G(Qe);break;case 10:wa(t.type);break;case 22:case 23:kt(t),zo(),e!==null&&G(jn);break;case 24:wa(et)}}function gi(e,t){try{var a=t.updateQueue,s=a!==null?a.lastEffect:null;if(s!==null){var o=s.next;a=o;do{if((a.tag&e)===e){s=void 0;var d=a.create,p=a.inst;s=d(),p.destroy=s}a=a.next}while(a!==o)}}catch(b){Oe(t,t.return,b)}}function Qa(e,t,a){try{var s=t.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var d=o.next;s=d;do{if((s.tag&e)===e){var p=s.inst,b=p.destroy;if(b!==void 0){p.destroy=void 0,o=t;var S=a,D=b;try{D()}catch(H){Oe(o,S,H)}}}s=s.next}while(s!==d)}}catch(H){Oe(t,t.return,H)}}function wf(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{dh(t,a)}catch(s){Oe(e,e.return,s)}}}function Sf(e,t,a){a.props=Rn(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(s){Oe(e,t,s)}}function yi(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof a=="function"?e.refCleanup=a(s):a.current=s}}catch(o){Oe(e,t,o)}}function oa(e,t){var a=e.ref,s=e.refCleanup;if(a!==null)if(typeof s=="function")try{s()}catch(o){Oe(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(o){Oe(e,t,o)}else a.current=null}function jf(e){var t=e.type,a=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&s.focus();break e;case"img":a.src?s.src=a.src:a.srcSet&&(s.srcset=a.srcSet)}}catch(o){Oe(e,e.return,o)}}function hc(e,t,a){try{var s=e.stateNode;kv(s,e.type,a,t),s[bt]=t}catch(o){Oe(e,e.return,o)}}function Ef(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&nn(e.type)||e.tag===4}function fc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ef(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&nn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function mc(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=ya));else if(s!==4&&(s===27&&nn(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(mc(e,t,a),e=e.sibling;e!==null;)mc(e,t,a),e=e.sibling}function Gs(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(s!==4&&(s===27&&nn(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Gs(e,t,a),e=e.sibling;e!==null;)Gs(e,t,a),e=e.sibling}function Tf(e){var t=e.stateNode,a=e.memoizedProps;try{for(var s=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);mt(t,s,a),t[ut]=e,t[bt]=a}catch(d){Oe(e,e.return,d)}}var Aa=!1,nt=!1,pc=!1,Af=typeof WeakSet=="function"?WeakSet:Set,ct=null;function dv(e,t){if(e=e.containerInfo,Mc=cl,e=Ld(e),lo(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var s=a.getSelection&&a.getSelection();if(s&&s.rangeCount!==0){a=s.anchorNode;var o=s.anchorOffset,d=s.focusNode;s=s.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var p=0,b=-1,S=-1,D=0,H=0,V=e,z=null;t:for(;;){for(var B;V!==a||o!==0&&V.nodeType!==3||(b=p+o),V!==d||s!==0&&V.nodeType!==3||(S=p+s),V.nodeType===3&&(p+=V.nodeValue.length),(B=V.firstChild)!==null;)z=V,V=B;for(;;){if(V===e)break t;if(z===a&&++D===o&&(b=p),z===d&&++H===s&&(S=p),(B=V.nextSibling)!==null)break;V=z,z=V.parentNode}V=B}a=b===-1||S===-1?null:{start:b,end:S}}else a=null}a=a||{start:0,end:0}}else a=null;for(Bc={focusedElem:e,selectionRange:a},cl=!1,ct=t;ct!==null;)if(t=ct,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ct=e;else for(;ct!==null;){switch(t=ct,d=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)o=e[a],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=t,o=d.memoizedProps,d=d.memoizedState,s=a.stateNode;try{var ee=Rn(a.type,o);e=s.getSnapshotBeforeUpdate(ee,d),s.__reactInternalSnapshotBeforeUpdate=e}catch(ce){Oe(a,a.return,ce)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)$c(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":$c(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=t.sibling,e!==null){e.return=t.return,ct=e;break}ct=t.return}}function Cf(e,t,a){var s=a.flags;switch(a.tag){case 0:case 11:case 15:Ra(e,a),s&4&&gi(5,a);break;case 1:if(Ra(e,a),s&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(p){Oe(a,a.return,p)}else{var o=Rn(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(p){Oe(a,a.return,p)}}s&64&&wf(a),s&512&&yi(a,a.return);break;case 3:if(Ra(e,a),s&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{dh(e,t)}catch(p){Oe(a,a.return,p)}}break;case 27:t===null&&s&4&&Tf(a);case 26:case 5:Ra(e,a),t===null&&s&4&&jf(a),s&512&&yi(a,a.return);break;case 12:Ra(e,a);break;case 31:Ra(e,a),s&4&&Of(e,a);break;case 13:Ra(e,a),s&4&&kf(e,a),s&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=xv.bind(null,a),$v(e,a))));break;case 22:if(s=a.memoizedState!==null||Aa,!s){t=t!==null&&t.memoizedState!==null||nt,o=Aa;var d=nt;Aa=s,(nt=t)&&!d?Na(e,a,(a.subtreeFlags&8772)!==0):Ra(e,a),Aa=o,nt=d}break;case 30:break;default:Ra(e,a)}}function Rf(e){var t=e.alternate;t!==null&&(e.alternate=null,Rf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Vl(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var He=null,_t=!1;function Ca(e,t,a){for(a=a.child;a!==null;)Nf(e,t,a),a=a.sibling}function Nf(e,t,a){if(At&&typeof At.onCommitFiberUnmount=="function")try{At.onCommitFiberUnmount(Hr,a)}catch{}switch(a.tag){case 26:nt||oa(a,t),Ca(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:nt||oa(a,t);var s=He,o=_t;nn(a.type)&&(He=a.stateNode,_t=!1),Ca(e,t,a),Ti(a.stateNode),He=s,_t=o;break;case 5:nt||oa(a,t);case 6:if(s=He,o=_t,He=null,Ca(e,t,a),He=s,_t=o,He!==null)if(_t)try{(He.nodeType===9?He.body:He.nodeName==="HTML"?He.ownerDocument.body:He).removeChild(a.stateNode)}catch(d){Oe(a,t,d)}else try{He.removeChild(a.stateNode)}catch(d){Oe(a,t,d)}break;case 18:He!==null&&(_t?(e=He,wm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Sr(e)):wm(He,a.stateNode));break;case 4:s=He,o=_t,He=a.stateNode.containerInfo,_t=!0,Ca(e,t,a),He=s,_t=o;break;case 0:case 11:case 14:case 15:Qa(2,a,t),nt||Qa(4,a,t),Ca(e,t,a);break;case 1:nt||(oa(a,t),s=a.stateNode,typeof s.componentWillUnmount=="function"&&Sf(a,t,s)),Ca(e,t,a);break;case 21:Ca(e,t,a);break;case 22:nt=(s=nt)||a.memoizedState!==null,Ca(e,t,a),nt=s;break;default:Ca(e,t,a)}}function Of(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Sr(e)}catch(a){Oe(t,t.return,a)}}}function kf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Sr(e)}catch(a){Oe(t,t.return,a)}}function hv(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Af),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Af),t;default:throw Error(l(435,e.tag))}}function Is(e,t){var a=hv(e);t.forEach(function(s){if(!a.has(s)){a.add(s);var o=_v.bind(null,e,s);s.then(o,o)}})}function wt(e,t){var a=t.deletions;if(a!==null)for(var s=0;s<a.length;s++){var o=a[s],d=e,p=t,b=p;e:for(;b!==null;){switch(b.tag){case 27:if(nn(b.type)){He=b.stateNode,_t=!1;break e}break;case 5:He=b.stateNode,_t=!1;break e;case 3:case 4:He=b.stateNode.containerInfo,_t=!0;break e}b=b.return}if(He===null)throw Error(l(160));Nf(d,p,o),He=null,_t=!1,d=o.alternate,d!==null&&(d.return=null),o.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Df(t,e),t=t.sibling}var Zt=null;function Df(e,t){var a=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:wt(t,e),St(e),s&4&&(Qa(3,e,e.return),gi(3,e),Qa(5,e,e.return));break;case 1:wt(t,e),St(e),s&512&&(nt||a===null||oa(a,a.return)),s&64&&Aa&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?s:a.concat(s))));break;case 26:var o=Zt;if(wt(t,e),St(e),s&512&&(nt||a===null||oa(a,a.return)),s&4){var d=a!==null?a.memoizedState:null;if(s=e.memoizedState,a===null)if(s===null)if(e.stateNode===null){e:{s=e.type,a=e.memoizedProps,o=o.ownerDocument||o;t:switch(s){case"title":d=o.getElementsByTagName("title")[0],(!d||d[Vr]||d[ut]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=o.createElement(s),o.head.insertBefore(d,o.querySelector("head > title"))),mt(d,s,a),d[ut]=e,ot(d),s=d;break e;case"link":var p=Dm("link","href",o).get(s+(a.href||""));if(p){for(var b=0;b<p.length;b++)if(d=p[b],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){p.splice(b,1);break t}}d=o.createElement(s),mt(d,s,a),o.head.appendChild(d);break;case"meta":if(p=Dm("meta","content",o).get(s+(a.content||""))){for(b=0;b<p.length;b++)if(d=p[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){p.splice(b,1);break t}}d=o.createElement(s),mt(d,s,a),o.head.appendChild(d);break;default:throw Error(l(468,s))}d[ut]=e,ot(d),s=d}e.stateNode=s}else zm(o,e.type,e.stateNode);else e.stateNode=km(o,s,e.memoizedProps);else d!==s?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,s===null?zm(o,e.type,e.stateNode):km(o,s,e.memoizedProps)):s===null&&e.stateNode!==null&&hc(e,e.memoizedProps,a.memoizedProps)}break;case 27:wt(t,e),St(e),s&512&&(nt||a===null||oa(a,a.return)),a!==null&&s&4&&hc(e,e.memoizedProps,a.memoizedProps);break;case 5:if(wt(t,e),St(e),s&512&&(nt||a===null||oa(a,a.return)),e.flags&32){o=e.stateNode;try{Yn(o,"")}catch(ee){Oe(e,e.return,ee)}}s&4&&e.stateNode!=null&&(o=e.memoizedProps,hc(e,o,a!==null?a.memoizedProps:o)),s&1024&&(pc=!0);break;case 6:if(wt(t,e),St(e),s&4){if(e.stateNode===null)throw Error(l(162));s=e.memoizedProps,a=e.stateNode;try{a.nodeValue=s}catch(ee){Oe(e,e.return,ee)}}break;case 3:if(il=null,o=Zt,Zt=nl(t.containerInfo),wt(t,e),Zt=o,St(e),s&4&&a!==null&&a.memoizedState.isDehydrated)try{Sr(t.containerInfo)}catch(ee){Oe(e,e.return,ee)}pc&&(pc=!1,zf(e));break;case 4:s=Zt,Zt=nl(e.stateNode.containerInfo),wt(t,e),St(e),Zt=s;break;case 12:wt(t,e),St(e);break;case 31:wt(t,e),St(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Is(e,s)));break;case 13:wt(t,e),St(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ks=Tt()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Is(e,s)));break;case 22:o=e.memoizedState!==null;var S=a!==null&&a.memoizedState!==null,D=Aa,H=nt;if(Aa=D||o,nt=H||S,wt(t,e),nt=H,Aa=D,St(e),s&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(a===null||S||Aa||nt||Nn(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){S=a=t;try{if(d=S.stateNode,o)p=d.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{b=S.stateNode;var V=S.memoizedProps.style,z=V!=null&&V.hasOwnProperty("display")?V.display:null;b.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(ee){Oe(S,S.return,ee)}}}else if(t.tag===6){if(a===null){S=t;try{S.stateNode.nodeValue=o?"":S.memoizedProps}catch(ee){Oe(S,S.return,ee)}}}else if(t.tag===18){if(a===null){S=t;try{var B=S.stateNode;o?Sm(B,!0):Sm(S.stateNode,!1)}catch(ee){Oe(S,S.return,ee)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(a=s.retryQueue,a!==null&&(s.retryQueue=null,Is(e,a))));break;case 19:wt(t,e),St(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Is(e,s)));break;case 30:break;case 21:break;default:wt(t,e),St(e)}}function St(e){var t=e.flags;if(t&2){try{for(var a,s=e.return;s!==null;){if(Ef(s)){a=s;break}s=s.return}if(a==null)throw Error(l(160));switch(a.tag){case 27:var o=a.stateNode,d=fc(e);Gs(e,d,o);break;case 5:var p=a.stateNode;a.flags&32&&(Yn(p,""),a.flags&=-33);var b=fc(e);Gs(e,b,p);break;case 3:case 4:var S=a.stateNode.containerInfo,D=fc(e);mc(e,D,S);break;default:throw Error(l(161))}}catch(H){Oe(e,e.return,H)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function zf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;zf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Ra(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Cf(e,t.alternate,t),t=t.sibling}function Nn(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Qa(4,t,t.return),Nn(t);break;case 1:oa(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&Sf(t,t.return,a),Nn(t);break;case 27:Ti(t.stateNode);case 26:case 5:oa(t,t.return),Nn(t);break;case 22:t.memoizedState===null&&Nn(t);break;case 30:Nn(t);break;default:Nn(t)}e=e.sibling}}function Na(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,o=e,d=t,p=d.flags;switch(d.tag){case 0:case 11:case 15:Na(o,d,a),gi(4,d);break;case 1:if(Na(o,d,a),s=d,o=s.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(D){Oe(s,s.return,D)}if(s=d,o=s.updateQueue,o!==null){var b=s.stateNode;try{var S=o.shared.hiddenCallbacks;if(S!==null)for(o.shared.hiddenCallbacks=null,o=0;o<S.length;o++)uh(S[o],b)}catch(D){Oe(s,s.return,D)}}a&&p&64&&wf(d),yi(d,d.return);break;case 27:Tf(d);case 26:case 5:Na(o,d,a),a&&s===null&&p&4&&jf(d),yi(d,d.return);break;case 12:Na(o,d,a);break;case 31:Na(o,d,a),a&&p&4&&Of(o,d);break;case 13:Na(o,d,a),a&&p&4&&kf(o,d);break;case 22:d.memoizedState===null&&Na(o,d,a),yi(d,d.return);break;case 30:break;default:Na(o,d,a)}t=t.sibling}}function gc(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&ni(a))}function yc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ni(e))}function Wt(e,t,a,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Uf(e,t,a,s),t=t.sibling}function Uf(e,t,a,s){var o=t.flags;switch(t.tag){case 0:case 11:case 15:Wt(e,t,a,s),o&2048&&gi(9,t);break;case 1:Wt(e,t,a,s);break;case 3:Wt(e,t,a,s),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ni(e)));break;case 12:if(o&2048){Wt(e,t,a,s),e=t.stateNode;try{var d=t.memoizedProps,p=d.id,b=d.onPostCommit;typeof b=="function"&&b(p,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(S){Oe(t,t.return,S)}}else Wt(e,t,a,s);break;case 31:Wt(e,t,a,s);break;case 13:Wt(e,t,a,s);break;case 23:break;case 22:d=t.stateNode,p=t.alternate,t.memoizedState!==null?d._visibility&2?Wt(e,t,a,s):vi(e,t):d._visibility&2?Wt(e,t,a,s):(d._visibility|=2,hr(e,t,a,s,(t.subtreeFlags&10256)!==0||!1)),o&2048&&gc(p,t);break;case 24:Wt(e,t,a,s),o&2048&&yc(t.alternate,t);break;default:Wt(e,t,a,s)}}function hr(e,t,a,s,o){for(o=o&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var d=e,p=t,b=a,S=s,D=p.flags;switch(p.tag){case 0:case 11:case 15:hr(d,p,b,S,o),gi(8,p);break;case 23:break;case 22:var H=p.stateNode;p.memoizedState!==null?H._visibility&2?hr(d,p,b,S,o):vi(d,p):(H._visibility|=2,hr(d,p,b,S,o)),o&&D&2048&&gc(p.alternate,p);break;case 24:hr(d,p,b,S,o),o&&D&2048&&yc(p.alternate,p);break;default:hr(d,p,b,S,o)}t=t.sibling}}function vi(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,s=t,o=s.flags;switch(s.tag){case 22:vi(a,s),o&2048&&gc(s.alternate,s);break;case 24:vi(a,s),o&2048&&yc(s.alternate,s);break;default:vi(a,s)}t=t.sibling}}var bi=8192;function fr(e,t,a){if(e.subtreeFlags&bi)for(e=e.child;e!==null;)Mf(e,t,a),e=e.sibling}function Mf(e,t,a){switch(e.tag){case 26:fr(e,t,a),e.flags&bi&&e.memoizedState!==null&&Zv(a,Zt,e.memoizedState,e.memoizedProps);break;case 5:fr(e,t,a);break;case 3:case 4:var s=Zt;Zt=nl(e.stateNode.containerInfo),fr(e,t,a),Zt=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=bi,bi=16777216,fr(e,t,a),bi=s):fr(e,t,a));break;default:fr(e,t,a)}}function Bf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function xi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];ct=s,qf(s,e)}Bf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Lf(e),e=e.sibling}function Lf(e){switch(e.tag){case 0:case 11:case 15:xi(e),e.flags&2048&&Qa(9,e,e.return);break;case 3:xi(e);break;case 12:xi(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Vs(e)):xi(e);break;default:xi(e)}}function Vs(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];ct=s,qf(s,e)}Bf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Qa(8,t,t.return),Vs(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,Vs(t));break;default:Vs(t)}e=e.sibling}}function qf(e,t){for(;ct!==null;){var a=ct;switch(a.tag){case 0:case 11:case 15:Qa(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var s=a.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:ni(a.memoizedState.cache)}if(s=a.child,s!==null)s.return=a,ct=s;else e:for(a=e;ct!==null;){s=ct;var o=s.sibling,d=s.return;if(Rf(s),s===a){ct=null;break e}if(o!==null){o.return=d,ct=o;break e}ct=d}}}var fv={getCacheForType:function(e){var t=ht(et),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return ht(et).controller.signal}},mv=typeof WeakMap=="function"?WeakMap:Map,Re=0,Me=null,be=null,we=0,Ne=0,Dt=null,Fa=!1,mr=!1,vc=!1,Oa=0,Xe=0,Za=0,On=0,bc=0,zt=0,pr=0,_i=null,jt=null,xc=!1,Ks=0,$f=0,Ys=1/0,Xs=null,Wa=null,it=0,en=null,gr=null,ka=0,_c=0,wc=null,Hf=null,wi=0,Sc=null;function Ut(){return(Re&2)!==0&&we!==0?we&-we:q.T!==null?Rc():ad()}function Gf(){if(zt===0)if((we&536870912)===0||je){var e=ts;ts<<=1,(ts&3932160)===0&&(ts=262144),zt=e}else zt=536870912;return e=Ot.current,e!==null&&(e.flags|=32),zt}function Et(e,t,a){(e===Me&&(Ne===2||Ne===9)||e.cancelPendingCommit!==null)&&(yr(e,0),tn(e,we,zt,!1)),Ir(e,a),((Re&2)===0||e!==Me)&&(e===Me&&((Re&2)===0&&(On|=a),Xe===4&&tn(e,we,zt,!1)),ca(e))}function If(e,t,a){if((Re&6)!==0)throw Error(l(327));var s=!a&&(t&127)===0&&(t&e.expiredLanes)===0||Gr(e,t),o=s?yv(e,t):Ec(e,t,!0),d=s;do{if(o===0){mr&&!s&&tn(e,t,0,!1);break}else{if(a=e.current.alternate,d&&!pv(a)){o=Ec(e,t,!1),d=!1;continue}if(o===2){if(d=t,e.errorRecoveryDisabledLanes&d)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){t=p;e:{var b=e;o=_i;var S=b.current.memoizedState.isDehydrated;if(S&&(yr(b,p).flags|=256),p=Ec(b,p,!1),p!==2){if(vc&&!S){b.errorRecoveryDisabledLanes|=d,On|=d,o=4;break e}d=jt,jt=o,d!==null&&(jt===null?jt=d:jt.push.apply(jt,d))}o=p}if(d=!1,o!==2)continue}}if(o===1){yr(e,0),tn(e,t,0,!0);break}e:{switch(s=e,d=o,d){case 0:case 1:throw Error(l(345));case 4:if((t&4194048)!==t)break;case 6:tn(s,t,zt,!Fa);break e;case 2:jt=null;break;case 3:case 5:break;default:throw Error(l(329))}if((t&62914560)===t&&(o=Ks+300-Tt(),10<o)){if(tn(s,t,zt,!Fa),ns(s,0,!0)!==0)break e;ka=t,s.timeoutHandle=xm(Vf.bind(null,s,a,jt,Xs,xc,t,zt,On,pr,Fa,d,"Throttled",-0,0),o);break e}Vf(s,a,jt,Xs,xc,t,zt,On,pr,Fa,d,null,-0,0)}}break}while(!0);ca(e)}function Vf(e,t,a,s,o,d,p,b,S,D,H,V,z,B){if(e.timeoutHandle=-1,V=t.subtreeFlags,V&8192||(V&16785408)===16785408){V={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ya},Mf(t,d,V);var ee=(d&62914560)===d?Ks-Tt():(d&4194048)===d?$f-Tt():0;if(ee=Wv(V,ee),ee!==null){ka=d,e.cancelPendingCommit=ee(Zf.bind(null,e,t,d,a,s,o,p,b,S,H,V,null,z,B)),tn(e,d,p,!D);return}}Zf(e,t,d,a,s,o,p,b,S)}function pv(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var s=0;s<a.length;s++){var o=a[s],d=o.getSnapshot;o=o.value;try{if(!Rt(d(),o))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function tn(e,t,a,s){t&=~bc,t&=~On,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var o=t;0<o;){var d=31-Ct(o),p=1<<d;s[d]=-1,o&=~p}a!==0&&Wu(e,a,t)}function Ps(){return(Re&6)===0?(Si(0),!1):!0}function jc(){if(be!==null){if(Ne===0)var e=be.return;else e=be,_a=wn=null,$o(e),lr=null,ii=0,e=be;for(;e!==null;)_f(e.alternate,e),e=e.return;be=null}}function yr(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Uv(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),ka=0,jc(),Me=e,be=a=ba(e.current,null),we=t,Ne=0,Dt=null,Fa=!1,mr=Gr(e,t),vc=!1,pr=zt=bc=On=Za=Xe=0,jt=_i=null,xc=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var o=31-Ct(s),d=1<<o;t|=e[o],s&=~d}return Oa=t,ps(),a}function Kf(e,t){ge=null,q.H=fi,t===sr||t===Ss?(t=sh(),Ne=3):t===Co?(t=sh(),Ne=4):Ne=t===ac?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Dt=t,be===null&&(Xe=1,Bs(e,It(t,e.current)))}function Yf(){var e=Ot.current;return e===null?!0:(we&4194048)===we?Xt===null:(we&62914560)===we||(we&536870912)!==0?e===Xt:!1}function Xf(){var e=q.H;return q.H=fi,e===null?fi:e}function Pf(){var e=q.A;return q.A=fv,e}function Js(){Xe=4,Fa||(we&4194048)!==we&&Ot.current!==null||(mr=!0),(Za&134217727)===0&&(On&134217727)===0||Me===null||tn(Me,we,zt,!1)}function Ec(e,t,a){var s=Re;Re|=2;var o=Xf(),d=Pf();(Me!==e||we!==t)&&(Xs=null,yr(e,t)),t=!1;var p=Xe;e:do try{if(Ne!==0&&be!==null){var b=be,S=Dt;switch(Ne){case 8:jc(),p=6;break e;case 3:case 2:case 9:case 6:Ot.current===null&&(t=!0);var D=Ne;if(Ne=0,Dt=null,vr(e,b,S,D),a&&mr){p=0;break e}break;default:D=Ne,Ne=0,Dt=null,vr(e,b,S,D)}}gv(),p=Xe;break}catch(H){Kf(e,H)}while(!0);return t&&e.shellSuspendCounter++,_a=wn=null,Re=s,q.H=o,q.A=d,be===null&&(Me=null,we=0,ps()),p}function gv(){for(;be!==null;)Jf(be)}function yv(e,t){var a=Re;Re|=2;var s=Xf(),o=Pf();Me!==e||we!==t?(Xs=null,Ys=Tt()+500,yr(e,t)):mr=Gr(e,t);e:do try{if(Ne!==0&&be!==null){t=be;var d=Dt;t:switch(Ne){case 1:Ne=0,Dt=null,vr(e,t,d,1);break;case 2:case 9:if(rh(d)){Ne=0,Dt=null,Qf(t);break}t=function(){Ne!==2&&Ne!==9||Me!==e||(Ne=7),ca(e)},d.then(t,t);break e;case 3:Ne=7;break e;case 4:Ne=5;break e;case 7:rh(d)?(Ne=0,Dt=null,Qf(t)):(Ne=0,Dt=null,vr(e,t,d,7));break;case 5:var p=null;switch(be.tag){case 26:p=be.memoizedState;case 5:case 27:var b=be;if(p?Um(p):b.stateNode.complete){Ne=0,Dt=null;var S=b.sibling;if(S!==null)be=S;else{var D=b.return;D!==null?(be=D,Qs(D)):be=null}break t}}Ne=0,Dt=null,vr(e,t,d,5);break;case 6:Ne=0,Dt=null,vr(e,t,d,6);break;case 8:jc(),Xe=6;break e;default:throw Error(l(462))}}vv();break}catch(H){Kf(e,H)}while(!0);return _a=wn=null,q.H=s,q.A=o,Re=a,be!==null?0:(Me=null,we=0,ps(),Xe)}function vv(){for(;be!==null&&!Hg();)Jf(be)}function Jf(e){var t=bf(e.alternate,e,Oa);e.memoizedProps=e.pendingProps,t===null?Qs(e):be=t}function Qf(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=ff(a,t,t.pendingProps,t.type,void 0,we);break;case 11:t=ff(a,t,t.pendingProps,t.type.render,t.ref,we);break;case 5:$o(t);default:_f(a,t),t=be=Xd(t,Oa),t=bf(a,t,Oa)}e.memoizedProps=e.pendingProps,t===null?Qs(e):be=t}function vr(e,t,a,s){_a=wn=null,$o(t),lr=null,ii=0;var o=t.return;try{if(sv(e,o,t,a,we)){Xe=1,Bs(e,It(a,e.current)),be=null;return}}catch(d){if(o!==null)throw be=o,d;Xe=1,Bs(e,It(a,e.current)),be=null;return}t.flags&32768?(je||s===1?e=!0:mr||(we&536870912)!==0?e=!1:(Fa=e=!0,(s===2||s===9||s===3||s===6)&&(s=Ot.current,s!==null&&s.tag===13&&(s.flags|=16384))),Ff(t,e)):Qs(t)}function Qs(e){var t=e;do{if((t.flags&32768)!==0){Ff(t,Fa);return}e=t.return;var a=cv(t.alternate,t,Oa);if(a!==null){be=a;return}if(t=t.sibling,t!==null){be=t;return}be=t=e}while(t!==null);Xe===0&&(Xe=5)}function Ff(e,t){do{var a=uv(e.alternate,e);if(a!==null){a.flags&=32767,be=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){be=e;return}be=e=a}while(e!==null);Xe=6,be=null}function Zf(e,t,a,s,o,d,p,b,S){e.cancelPendingCommit=null;do Fs();while(it!==0);if((Re&6)!==0)throw Error(l(327));if(t!==null){if(t===e.current)throw Error(l(177));if(d=t.lanes|t.childLanes,d|=fo,Fg(e,a,d,p,b,S),e===Me&&(be=Me=null,we=0),gr=t,en=e,ka=a,_c=d,wc=o,Hf=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,wv(Wi,function(){return nm(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=q.T,q.T=null,o=Q.p,Q.p=2,p=Re,Re|=4;try{dv(e,t,a)}finally{Re=p,Q.p=o,q.T=s}}it=1,Wf(),em(),tm()}}function Wf(){if(it===1){it=0;var e=en,t=gr,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=q.T,q.T=null;var s=Q.p;Q.p=2;var o=Re;Re|=4;try{Df(t,e);var d=Bc,p=Ld(e.containerInfo),b=d.focusedElem,S=d.selectionRange;if(p!==b&&b&&b.ownerDocument&&Bd(b.ownerDocument.documentElement,b)){if(S!==null&&lo(b)){var D=S.start,H=S.end;if(H===void 0&&(H=D),"selectionStart"in b)b.selectionStart=D,b.selectionEnd=Math.min(H,b.value.length);else{var V=b.ownerDocument||document,z=V&&V.defaultView||window;if(z.getSelection){var B=z.getSelection(),ee=b.textContent.length,ce=Math.min(S.start,ee),Ue=S.end===void 0?ce:Math.min(S.end,ee);!B.extend&&ce>Ue&&(p=Ue,Ue=ce,ce=p);var C=Md(b,ce),T=Md(b,Ue);if(C&&T&&(B.rangeCount!==1||B.anchorNode!==C.node||B.anchorOffset!==C.offset||B.focusNode!==T.node||B.focusOffset!==T.offset)){var k=V.createRange();k.setStart(C.node,C.offset),B.removeAllRanges(),ce>Ue?(B.addRange(k),B.extend(T.node,T.offset)):(k.setEnd(T.node,T.offset),B.addRange(k))}}}}for(V=[],B=b;B=B.parentNode;)B.nodeType===1&&V.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<V.length;b++){var I=V[b];I.element.scrollLeft=I.left,I.element.scrollTop=I.top}}cl=!!Mc,Bc=Mc=null}finally{Re=o,Q.p=s,q.T=a}}e.current=t,it=2}}function em(){if(it===2){it=0;var e=en,t=gr,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=q.T,q.T=null;var s=Q.p;Q.p=2;var o=Re;Re|=4;try{Cf(e,t.alternate,t)}finally{Re=o,Q.p=s,q.T=a}}it=3}}function tm(){if(it===4||it===3){it=0,Gg();var e=en,t=gr,a=ka,s=Hf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?it=5:(it=0,gr=en=null,am(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(Wa=null),Gl(a),t=t.stateNode,At&&typeof At.onCommitFiberRoot=="function")try{At.onCommitFiberRoot(Hr,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=q.T,o=Q.p,Q.p=2,q.T=null;try{for(var d=e.onRecoverableError,p=0;p<s.length;p++){var b=s[p];d(b.value,{componentStack:b.stack})}}finally{q.T=t,Q.p=o}}(ka&3)!==0&&Fs(),ca(e),o=e.pendingLanes,(a&261930)!==0&&(o&42)!==0?e===Sc?wi++:(wi=0,Sc=e):wi=0,Si(0)}}function am(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ni(t)))}function Fs(){return Wf(),em(),tm(),nm()}function nm(){if(it!==5)return!1;var e=en,t=_c;_c=0;var a=Gl(ka),s=q.T,o=Q.p;try{Q.p=32>a?32:a,q.T=null,a=wc,wc=null;var d=en,p=ka;if(it=0,gr=en=null,ka=0,(Re&6)!==0)throw Error(l(331));var b=Re;if(Re|=4,Lf(d.current),Uf(d,d.current,p,a),Re=b,Si(0,!1),At&&typeof At.onPostCommitFiberRoot=="function")try{At.onPostCommitFiberRoot(Hr,d)}catch{}return!0}finally{Q.p=o,q.T=s,am(e,t)}}function rm(e,t,a){t=It(a,t),t=tc(e.stateNode,t,2),e=Xa(e,t,2),e!==null&&(Ir(e,2),ca(e))}function Oe(e,t,a){if(e.tag===3)rm(e,e,a);else for(;t!==null;){if(t.tag===3){rm(t,e,a);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Wa===null||!Wa.has(s))){e=It(a,e),a=rf(2),s=Xa(t,a,2),s!==null&&(sf(a,s,t,e),Ir(s,2),ca(s));break}}t=t.return}}function Tc(e,t,a){var s=e.pingCache;if(s===null){s=e.pingCache=new mv;var o=new Set;s.set(t,o)}else o=s.get(t),o===void 0&&(o=new Set,s.set(t,o));o.has(a)||(vc=!0,o.add(a),e=bv.bind(null,e,t,a),t.then(e,e))}function bv(e,t,a){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Me===e&&(we&a)===a&&(Xe===4||Xe===3&&(we&62914560)===we&&300>Tt()-Ks?(Re&2)===0&&yr(e,0):bc|=a,pr===we&&(pr=0)),ca(e)}function im(e,t){t===0&&(t=Zu()),e=bn(e,t),e!==null&&(Ir(e,t),ca(e))}function xv(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),im(e,a)}function _v(e,t){var a=0;switch(e.tag){case 31:case 13:var s=e.stateNode,o=e.memoizedState;o!==null&&(a=o.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(l(314))}s!==null&&s.delete(t),im(e,a)}function wv(e,t){return Ll(e,t)}var Zs=null,br=null,Ac=!1,Ws=!1,Cc=!1,an=0;function ca(e){e!==br&&e.next===null&&(br===null?Zs=br=e:br=br.next=e),Ws=!0,Ac||(Ac=!0,jv())}function Si(e,t){if(!Cc&&Ws){Cc=!0;do for(var a=!1,s=Zs;s!==null;){if(e!==0){var o=s.pendingLanes;if(o===0)var d=0;else{var p=s.suspendedLanes,b=s.pingedLanes;d=(1<<31-Ct(42|e)+1)-1,d&=o&~(p&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,cm(s,d))}else d=we,d=ns(s,s===Me?d:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(d&3)===0||Gr(s,d)||(a=!0,cm(s,d));s=s.next}while(a);Cc=!1}}function Sv(){sm()}function sm(){Ws=Ac=!1;var e=0;an!==0&&zv()&&(e=an);for(var t=Tt(),a=null,s=Zs;s!==null;){var o=s.next,d=lm(s,t);d===0?(s.next=null,a===null?Zs=o:a.next=o,o===null&&(br=a)):(a=s,(e!==0||(d&3)!==0)&&(Ws=!0)),s=o}it!==0&&it!==5||Si(e),an!==0&&(an=0)}function lm(e,t){for(var a=e.suspendedLanes,s=e.pingedLanes,o=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var p=31-Ct(d),b=1<<p,S=o[p];S===-1?((b&a)===0||(b&s)!==0)&&(o[p]=Qg(b,t)):S<=t&&(e.expiredLanes|=b),d&=~b}if(t=Me,a=we,a=ns(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,a===0||e===t&&(Ne===2||Ne===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&ql(s),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Gr(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(s!==null&&ql(s),Gl(a)){case 2:case 8:a=Qu;break;case 32:a=Wi;break;case 268435456:a=Fu;break;default:a=Wi}return s=om.bind(null,e),a=Ll(a,s),e.callbackPriority=t,e.callbackNode=a,t}return s!==null&&s!==null&&ql(s),e.callbackPriority=2,e.callbackNode=null,2}function om(e,t){if(it!==0&&it!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Fs()&&e.callbackNode!==a)return null;var s=we;return s=ns(e,e===Me?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(If(e,s,t),lm(e,Tt()),e.callbackNode!=null&&e.callbackNode===a?om.bind(null,e):null)}function cm(e,t){if(Fs())return null;If(e,t,!0)}function jv(){Mv(function(){(Re&6)!==0?Ll(Ju,Sv):sm()})}function Rc(){if(an===0){var e=rr;e===0&&(e=es,es<<=1,(es&261888)===0&&(es=256)),an=e}return an}function um(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ls(""+e)}function dm(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function Ev(e,t,a,s,o){if(t==="submit"&&a&&a.stateNode===o){var d=um((o[bt]||null).action),p=s.submitter;p&&(t=(t=p[bt]||null)?um(t.formAction):p.getAttribute("formAction"),t!==null&&(d=t,p=null));var b=new ds("action","action",null,s,o);e.push({event:b,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(an!==0){var S=p?dm(o,p):new FormData(o);Jo(a,{pending:!0,data:S,method:o.method,action:d},null,S)}}else typeof d=="function"&&(b.preventDefault(),S=p?dm(o,p):new FormData(o),Jo(a,{pending:!0,data:S,method:o.method,action:d},d,S))},currentTarget:o}]})}}for(var Nc=0;Nc<ho.length;Nc++){var Oc=ho[Nc],Tv=Oc.toLowerCase(),Av=Oc[0].toUpperCase()+Oc.slice(1);Ft(Tv,"on"+Av)}Ft(Hd,"onAnimationEnd"),Ft(Gd,"onAnimationIteration"),Ft(Id,"onAnimationStart"),Ft("dblclick","onDoubleClick"),Ft("focusin","onFocus"),Ft("focusout","onBlur"),Ft(Iy,"onTransitionRun"),Ft(Vy,"onTransitionStart"),Ft(Ky,"onTransitionCancel"),Ft(Vd,"onTransitionEnd"),Vn("onMouseEnter",["mouseout","mouseover"]),Vn("onMouseLeave",["mouseout","mouseover"]),Vn("onPointerEnter",["pointerout","pointerover"]),Vn("onPointerLeave",["pointerout","pointerover"]),pn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pn("onBeforeInput",["compositionend","keypress","textInput","paste"]),pn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ji="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ji));function hm(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var s=e[a],o=s.event;s=s.listeners;e:{var d=void 0;if(t)for(var p=s.length-1;0<=p;p--){var b=s[p],S=b.instance,D=b.currentTarget;if(b=b.listener,S!==d&&o.isPropagationStopped())break e;d=b,o.currentTarget=D;try{d(o)}catch(H){ms(H)}o.currentTarget=null,d=S}else for(p=0;p<s.length;p++){if(b=s[p],S=b.instance,D=b.currentTarget,b=b.listener,S!==d&&o.isPropagationStopped())break e;d=b,o.currentTarget=D;try{d(o)}catch(H){ms(H)}o.currentTarget=null,d=S}}}}function xe(e,t){var a=t[Il];a===void 0&&(a=t[Il]=new Set);var s=e+"__bubble";a.has(s)||(fm(t,e,2,!1),a.add(s))}function kc(e,t,a){var s=0;t&&(s|=4),fm(a,e,s,t)}var el="_reactListening"+Math.random().toString(36).slice(2);function Dc(e){if(!e[el]){e[el]=!0,id.forEach(function(a){a!=="selectionchange"&&(Cv.has(a)||kc(a,!1,e),kc(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[el]||(t[el]=!0,kc("selectionchange",!1,t))}}function fm(e,t,a,s){switch(Gm(t)){case 2:var o=a0;break;case 8:o=n0;break;default:o=Pc}a=o.bind(null,t,a,e),o=void 0,!Zl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),s?o!==void 0?e.addEventListener(t,a,{capture:!0,passive:o}):e.addEventListener(t,a,!0):o!==void 0?e.addEventListener(t,a,{passive:o}):e.addEventListener(t,a,!1)}function zc(e,t,a,s,o){var d=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var p=s.tag;if(p===3||p===4){var b=s.stateNode.containerInfo;if(b===o)break;if(p===4)for(p=s.return;p!==null;){var S=p.tag;if((S===3||S===4)&&p.stateNode.containerInfo===o)return;p=p.return}for(;b!==null;){if(p=Hn(b),p===null)return;if(S=p.tag,S===5||S===6||S===26||S===27){s=d=p;continue e}b=b.parentNode}}s=s.return}yd(function(){var D=d,H=Ql(a),V=[];e:{var z=Kd.get(e);if(z!==void 0){var B=ds,ee=e;switch(e){case"keypress":if(cs(a)===0)break e;case"keydown":case"keyup":B=_y;break;case"focusin":ee="focus",B=ao;break;case"focusout":ee="blur",B=ao;break;case"beforeblur":case"afterblur":B=ao;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=xd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=cy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=jy;break;case Hd:case Gd:case Id:B=hy;break;case Vd:B=Ty;break;case"scroll":case"scrollend":B=ly;break;case"wheel":B=Cy;break;case"copy":case"cut":case"paste":B=my;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=wd;break;case"toggle":case"beforetoggle":B=Ny}var ce=(t&4)!==0,Ue=!ce&&(e==="scroll"||e==="scrollend"),C=ce?z!==null?z+"Capture":null:z;ce=[];for(var T=D,k;T!==null;){var I=T;if(k=I.stateNode,I=I.tag,I!==5&&I!==26&&I!==27||k===null||C===null||(I=Yr(T,C),I!=null&&ce.push(Ei(T,I,k))),Ue)break;T=T.return}0<ce.length&&(z=new B(z,ee,null,a,H),V.push({event:z,listeners:ce}))}}if((t&7)===0){e:{if(z=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",z&&a!==Jl&&(ee=a.relatedTarget||a.fromElement)&&(Hn(ee)||ee[$n]))break e;if((B||z)&&(z=H.window===H?H:(z=H.ownerDocument)?z.defaultView||z.parentWindow:window,B?(ee=a.relatedTarget||a.toElement,B=D,ee=ee?Hn(ee):null,ee!==null&&(Ue=h(ee),ce=ee.tag,ee!==Ue||ce!==5&&ce!==27&&ce!==6)&&(ee=null)):(B=null,ee=D),B!==ee)){if(ce=xd,I="onMouseLeave",C="onMouseEnter",T="mouse",(e==="pointerout"||e==="pointerover")&&(ce=wd,I="onPointerLeave",C="onPointerEnter",T="pointer"),Ue=B==null?z:Kr(B),k=ee==null?z:Kr(ee),z=new ce(I,T+"leave",B,a,H),z.target=Ue,z.relatedTarget=k,I=null,Hn(H)===D&&(ce=new ce(C,T+"enter",ee,a,H),ce.target=k,ce.relatedTarget=Ue,I=ce),Ue=I,B&&ee)t:{for(ce=Rv,C=B,T=ee,k=0,I=C;I;I=ce(I))k++;I=0;for(var se=T;se;se=ce(se))I++;for(;0<k-I;)C=ce(C),k--;for(;0<I-k;)T=ce(T),I--;for(;k--;){if(C===T||T!==null&&C===T.alternate){ce=C;break t}C=ce(C),T=ce(T)}ce=null}else ce=null;B!==null&&mm(V,z,B,ce,!1),ee!==null&&Ue!==null&&mm(V,Ue,ee,ce,!0)}}e:{if(z=D?Kr(D):window,B=z.nodeName&&z.nodeName.toLowerCase(),B==="select"||B==="input"&&z.type==="file")var Ae=Nd;else if(Cd(z))if(Od)Ae=$y;else{Ae=Ly;var ae=By}else B=z.nodeName,!B||B.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?D&&Pl(D.elementType)&&(Ae=Nd):Ae=qy;if(Ae&&(Ae=Ae(e,D))){Rd(V,Ae,a,H);break e}ae&&ae(e,z,D),e==="focusout"&&D&&z.type==="number"&&D.memoizedProps.value!=null&&Xl(z,"number",z.value)}switch(ae=D?Kr(D):window,e){case"focusin":(Cd(ae)||ae.contentEditable==="true")&&(Qn=ae,oo=D,ei=null);break;case"focusout":ei=oo=Qn=null;break;case"mousedown":co=!0;break;case"contextmenu":case"mouseup":case"dragend":co=!1,qd(V,a,H);break;case"selectionchange":if(Gy)break;case"keydown":case"keyup":qd(V,a,H)}var ye;if(ro)e:{switch(e){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else Jn?Td(e,a)&&(Se="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Se="onCompositionStart");Se&&(Sd&&a.locale!=="ko"&&(Jn||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&Jn&&(ye=vd()):($a=H,Wl="value"in $a?$a.value:$a.textContent,Jn=!0)),ae=tl(D,Se),0<ae.length&&(Se=new _d(Se,e,null,a,H),V.push({event:Se,listeners:ae}),ye?Se.data=ye:(ye=Ad(a),ye!==null&&(Se.data=ye)))),(ye=ky?Dy(e,a):zy(e,a))&&(Se=tl(D,"onBeforeInput"),0<Se.length&&(ae=new _d("onBeforeInput","beforeinput",null,a,H),V.push({event:ae,listeners:Se}),ae.data=ye)),Ev(V,e,D,a,H)}hm(V,t)})}function Ei(e,t,a){return{instance:e,listener:t,currentTarget:a}}function tl(e,t){for(var a=t+"Capture",s=[];e!==null;){var o=e,d=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||d===null||(o=Yr(e,a),o!=null&&s.unshift(Ei(e,o,d)),o=Yr(e,t),o!=null&&s.push(Ei(e,o,d))),e.tag===3)return s;e=e.return}return[]}function Rv(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function mm(e,t,a,s,o){for(var d=t._reactName,p=[];a!==null&&a!==s;){var b=a,S=b.alternate,D=b.stateNode;if(b=b.tag,S!==null&&S===s)break;b!==5&&b!==26&&b!==27||D===null||(S=D,o?(D=Yr(a,d),D!=null&&p.unshift(Ei(a,D,S))):o||(D=Yr(a,d),D!=null&&p.push(Ei(a,D,S)))),a=a.return}p.length!==0&&e.push({event:t,listeners:p})}var Nv=/\r\n?/g,Ov=/\u0000|\uFFFD/g;function pm(e){return(typeof e=="string"?e:""+e).replace(Nv,`
`).replace(Ov,"")}function gm(e,t){return t=pm(t),pm(e)===t}function ze(e,t,a,s,o,d){switch(a){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||Yn(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&Yn(e,""+s);break;case"className":is(e,"class",s);break;case"tabIndex":is(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":is(e,a,s);break;case"style":pd(e,s,d);break;case"data":if(t!=="object"){is(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=ls(""+s),e.setAttribute(a,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(t!=="input"&&ze(e,t,"name",o.name,o,null),ze(e,t,"formEncType",o.formEncType,o,null),ze(e,t,"formMethod",o.formMethod,o,null),ze(e,t,"formTarget",o.formTarget,o,null)):(ze(e,t,"encType",o.encType,o,null),ze(e,t,"method",o.method,o,null),ze(e,t,"target",o.target,o,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=ls(""+s),e.setAttribute(a,s);break;case"onClick":s!=null&&(e.onclick=ya);break;case"onScroll":s!=null&&xe("scroll",e);break;case"onScrollEnd":s!=null&&xe("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(l(61));if(a=s.__html,a!=null){if(o.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}a=ls(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""+s):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":s===!0?e.setAttribute(a,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,s):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(a,s):e.removeAttribute(a);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(a):e.setAttribute(a,s);break;case"popover":xe("beforetoggle",e),xe("toggle",e),rs(e,"popover",s);break;case"xlinkActuate":ga(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":ga(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":ga(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":ga(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":ga(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":ga(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":ga(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":ga(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":ga(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":rs(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=iy.get(a)||a,rs(e,a,s))}}function Uc(e,t,a,s,o,d){switch(a){case"style":pd(e,s,d);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(l(61));if(a=s.__html,a!=null){if(o.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"children":typeof s=="string"?Yn(e,s):(typeof s=="number"||typeof s=="bigint")&&Yn(e,""+s);break;case"onScroll":s!=null&&xe("scroll",e);break;case"onScrollEnd":s!=null&&xe("scrollend",e);break;case"onClick":s!=null&&(e.onclick=ya);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!sd.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(o=a.endsWith("Capture"),t=a.slice(2,o?a.length-7:void 0),d=e[bt]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(t,d,o),typeof s=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,s,o);break e}a in e?e[a]=s:s===!0?e.setAttribute(a,""):rs(e,a,s)}}}function mt(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xe("error",e),xe("load",e);var s=!1,o=!1,d;for(d in a)if(a.hasOwnProperty(d)){var p=a[d];if(p!=null)switch(d){case"src":s=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:ze(e,t,d,p,a,null)}}o&&ze(e,t,"srcSet",a.srcSet,a,null),s&&ze(e,t,"src",a.src,a,null);return;case"input":xe("invalid",e);var b=d=p=o=null,S=null,D=null;for(s in a)if(a.hasOwnProperty(s)){var H=a[s];if(H!=null)switch(s){case"name":o=H;break;case"type":p=H;break;case"checked":S=H;break;case"defaultChecked":D=H;break;case"value":d=H;break;case"defaultValue":b=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(l(137,t));break;default:ze(e,t,s,H,a,null)}}dd(e,d,b,S,D,p,o,!1);return;case"select":xe("invalid",e),s=p=d=null;for(o in a)if(a.hasOwnProperty(o)&&(b=a[o],b!=null))switch(o){case"value":d=b;break;case"defaultValue":p=b;break;case"multiple":s=b;default:ze(e,t,o,b,a,null)}t=d,a=p,e.multiple=!!s,t!=null?Kn(e,!!s,t,!1):a!=null&&Kn(e,!!s,a,!0);return;case"textarea":xe("invalid",e),d=o=s=null;for(p in a)if(a.hasOwnProperty(p)&&(b=a[p],b!=null))switch(p){case"value":s=b;break;case"defaultValue":o=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(l(91));break;default:ze(e,t,p,b,a,null)}fd(e,s,o,d);return;case"option":for(S in a)a.hasOwnProperty(S)&&(s=a[S],s!=null)&&(S==="selected"?e.selected=s&&typeof s!="function"&&typeof s!="symbol":ze(e,t,S,s,a,null));return;case"dialog":xe("beforetoggle",e),xe("toggle",e),xe("cancel",e),xe("close",e);break;case"iframe":case"object":xe("load",e);break;case"video":case"audio":for(s=0;s<ji.length;s++)xe(ji[s],e);break;case"image":xe("error",e),xe("load",e);break;case"details":xe("toggle",e);break;case"embed":case"source":case"link":xe("error",e),xe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(D in a)if(a.hasOwnProperty(D)&&(s=a[D],s!=null))switch(D){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:ze(e,t,D,s,a,null)}return;default:if(Pl(t)){for(H in a)a.hasOwnProperty(H)&&(s=a[H],s!==void 0&&Uc(e,t,H,s,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(s=a[b],s!=null&&ze(e,t,b,s,a,null))}function kv(e,t,a,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,d=null,p=null,b=null,S=null,D=null,H=null;for(B in a){var V=a[B];if(a.hasOwnProperty(B)&&V!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":S=V;default:s.hasOwnProperty(B)||ze(e,t,B,null,s,V)}}for(var z in s){var B=s[z];if(V=a[z],s.hasOwnProperty(z)&&(B!=null||V!=null))switch(z){case"type":d=B;break;case"name":o=B;break;case"checked":D=B;break;case"defaultChecked":H=B;break;case"value":p=B;break;case"defaultValue":b=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(l(137,t));break;default:B!==V&&ze(e,t,z,B,s,V)}}Yl(e,p,b,S,D,H,d,o);return;case"select":B=p=b=z=null;for(d in a)if(S=a[d],a.hasOwnProperty(d)&&S!=null)switch(d){case"value":break;case"multiple":B=S;default:s.hasOwnProperty(d)||ze(e,t,d,null,s,S)}for(o in s)if(d=s[o],S=a[o],s.hasOwnProperty(o)&&(d!=null||S!=null))switch(o){case"value":z=d;break;case"defaultValue":b=d;break;case"multiple":p=d;default:d!==S&&ze(e,t,o,d,s,S)}t=b,a=p,s=B,z!=null?Kn(e,!!a,z,!1):!!s!=!!a&&(t!=null?Kn(e,!!a,t,!0):Kn(e,!!a,a?[]:"",!1));return;case"textarea":B=z=null;for(b in a)if(o=a[b],a.hasOwnProperty(b)&&o!=null&&!s.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:ze(e,t,b,null,s,o)}for(p in s)if(o=s[p],d=a[p],s.hasOwnProperty(p)&&(o!=null||d!=null))switch(p){case"value":z=o;break;case"defaultValue":B=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(l(91));break;default:o!==d&&ze(e,t,p,o,s,d)}hd(e,z,B);return;case"option":for(var ee in a)z=a[ee],a.hasOwnProperty(ee)&&z!=null&&!s.hasOwnProperty(ee)&&(ee==="selected"?e.selected=!1:ze(e,t,ee,null,s,z));for(S in s)z=s[S],B=a[S],s.hasOwnProperty(S)&&z!==B&&(z!=null||B!=null)&&(S==="selected"?e.selected=z&&typeof z!="function"&&typeof z!="symbol":ze(e,t,S,z,s,B));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ce in a)z=a[ce],a.hasOwnProperty(ce)&&z!=null&&!s.hasOwnProperty(ce)&&ze(e,t,ce,null,s,z);for(D in s)if(z=s[D],B=a[D],s.hasOwnProperty(D)&&z!==B&&(z!=null||B!=null))switch(D){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(l(137,t));break;default:ze(e,t,D,z,s,B)}return;default:if(Pl(t)){for(var Ue in a)z=a[Ue],a.hasOwnProperty(Ue)&&z!==void 0&&!s.hasOwnProperty(Ue)&&Uc(e,t,Ue,void 0,s,z);for(H in s)z=s[H],B=a[H],!s.hasOwnProperty(H)||z===B||z===void 0&&B===void 0||Uc(e,t,H,z,s,B);return}}for(var C in a)z=a[C],a.hasOwnProperty(C)&&z!=null&&!s.hasOwnProperty(C)&&ze(e,t,C,null,s,z);for(V in s)z=s[V],B=a[V],!s.hasOwnProperty(V)||z===B||z==null&&B==null||ze(e,t,V,z,s,B)}function ym(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Dv(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),s=0;s<a.length;s++){var o=a[s],d=o.transferSize,p=o.initiatorType,b=o.duration;if(d&&b&&ym(p)){for(p=0,b=o.responseEnd,s+=1;s<a.length;s++){var S=a[s],D=S.startTime;if(D>b)break;var H=S.transferSize,V=S.initiatorType;H&&ym(V)&&(S=S.responseEnd,p+=H*(S<b?1:(b-D)/(S-D)))}if(--s,t+=8*(d+p)/(o.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Mc=null,Bc=null;function al(e){return e.nodeType===9?e:e.ownerDocument}function vm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function bm(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Lc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var qc=null;function zv(){var e=window.event;return e&&e.type==="popstate"?e===qc?!1:(qc=e,!0):(qc=null,!1)}var xm=typeof setTimeout=="function"?setTimeout:void 0,Uv=typeof clearTimeout=="function"?clearTimeout:void 0,_m=typeof Promise=="function"?Promise:void 0,Mv=typeof queueMicrotask=="function"?queueMicrotask:typeof _m<"u"?function(e){return _m.resolve(null).then(e).catch(Bv)}:xm;function Bv(e){setTimeout(function(){throw e})}function nn(e){return e==="head"}function wm(e,t){var a=t,s=0;do{var o=a.nextSibling;if(e.removeChild(a),o&&o.nodeType===8)if(a=o.data,a==="/$"||a==="/&"){if(s===0){e.removeChild(o),Sr(t);return}s--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")s++;else if(a==="html")Ti(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Ti(a);for(var d=a.firstChild;d;){var p=d.nextSibling,b=d.nodeName;d[Vr]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=p}}else a==="body"&&Ti(e.ownerDocument.body);a=o}while(a);Sr(t)}function Sm(e,t){var a=e;e=0;do{var s=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),s&&s.nodeType===8)if(a=s.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=s}while(a)}function $c(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":$c(a),Vl(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Lv(e,t,a,s){for(;e.nodeType===1;){var o=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[Vr])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var d=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Pt(e.nextSibling),e===null)break}return null}function qv(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Pt(e.nextSibling),e===null))return null;return e}function jm(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Pt(e.nextSibling),e===null))return null;return e}function Hc(e){return e.data==="$?"||e.data==="$~"}function Gc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function $v(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var s=function(){t(),a.removeEventListener("DOMContentLoaded",s)};a.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Pt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Ic=null;function Em(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return Pt(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function Tm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function Am(e,t,a){switch(t=al(a),e){case"html":if(e=t.documentElement,!e)throw Error(l(452));return e;case"head":if(e=t.head,!e)throw Error(l(453));return e;case"body":if(e=t.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function Ti(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Vl(e)}var Jt=new Map,Cm=new Set;function nl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Da=Q.d;Q.d={f:Hv,r:Gv,D:Iv,C:Vv,L:Kv,m:Yv,X:Pv,S:Xv,M:Jv};function Hv(){var e=Da.f(),t=Ps();return e||t}function Gv(e){var t=Gn(e);t!==null&&t.tag===5&&t.type==="form"?Vh(t):Da.r(e)}var xr=typeof document>"u"?null:document;function Rm(e,t,a){var s=xr;if(s&&typeof t=="string"&&t){var o=Ht(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof a=="string"&&(o+='[crossorigin="'+a+'"]'),Cm.has(o)||(Cm.add(o),e={rel:e,crossOrigin:a,href:t},s.querySelector(o)===null&&(t=s.createElement("link"),mt(t,"link",e),ot(t),s.head.appendChild(t)))}}function Iv(e){Da.D(e),Rm("dns-prefetch",e,null)}function Vv(e,t){Da.C(e,t),Rm("preconnect",e,t)}function Kv(e,t,a){Da.L(e,t,a);var s=xr;if(s&&e&&t){var o='link[rel="preload"][as="'+Ht(t)+'"]';t==="image"&&a&&a.imageSrcSet?(o+='[imagesrcset="'+Ht(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(o+='[imagesizes="'+Ht(a.imageSizes)+'"]')):o+='[href="'+Ht(e)+'"]';var d=o;switch(t){case"style":d=_r(e);break;case"script":d=wr(e)}Jt.has(d)||(e=x({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Jt.set(d,e),s.querySelector(o)!==null||t==="style"&&s.querySelector(Ai(d))||t==="script"&&s.querySelector(Ci(d))||(t=s.createElement("link"),mt(t,"link",e),ot(t),s.head.appendChild(t)))}}function Yv(e,t){Da.m(e,t);var a=xr;if(a&&e){var s=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+Ht(s)+'"][href="'+Ht(e)+'"]',d=o;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=wr(e)}if(!Jt.has(d)&&(e=x({rel:"modulepreload",href:e},t),Jt.set(d,e),a.querySelector(o)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ci(d)))return}s=a.createElement("link"),mt(s,"link",e),ot(s),a.head.appendChild(s)}}}function Xv(e,t,a){Da.S(e,t,a);var s=xr;if(s&&e){var o=In(s).hoistableStyles,d=_r(e);t=t||"default";var p=o.get(d);if(!p){var b={loading:0,preload:null};if(p=s.querySelector(Ai(d)))b.loading=5;else{e=x({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Jt.get(d))&&Vc(e,a);var S=p=s.createElement("link");ot(S),mt(S,"link",e),S._p=new Promise(function(D,H){S.onload=D,S.onerror=H}),S.addEventListener("load",function(){b.loading|=1}),S.addEventListener("error",function(){b.loading|=2}),b.loading|=4,rl(p,t,s)}p={type:"stylesheet",instance:p,count:1,state:b},o.set(d,p)}}}function Pv(e,t){Da.X(e,t);var a=xr;if(a&&e){var s=In(a).hoistableScripts,o=wr(e),d=s.get(o);d||(d=a.querySelector(Ci(o)),d||(e=x({src:e,async:!0},t),(t=Jt.get(o))&&Kc(e,t),d=a.createElement("script"),ot(d),mt(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},s.set(o,d))}}function Jv(e,t){Da.M(e,t);var a=xr;if(a&&e){var s=In(a).hoistableScripts,o=wr(e),d=s.get(o);d||(d=a.querySelector(Ci(o)),d||(e=x({src:e,async:!0,type:"module"},t),(t=Jt.get(o))&&Kc(e,t),d=a.createElement("script"),ot(d),mt(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},s.set(o,d))}}function Nm(e,t,a,s){var o=(o=fe.current)?nl(o):null;if(!o)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=_r(a.href),a=In(o).hoistableStyles,s=a.get(t),s||(s={type:"style",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=_r(a.href);var d=In(o).hoistableStyles,p=d.get(e);if(p||(o=o.ownerDocument||o,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,p),(d=o.querySelector(Ai(e)))&&!d._p&&(p.instance=d,p.state.loading=5),Jt.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Jt.set(e,a),d||Qv(o,e,a,p.state))),t&&s===null)throw Error(l(528,""));return p}if(t&&s!==null)throw Error(l(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=wr(a),a=In(o).hoistableScripts,s=a.get(t),s||(s={type:"script",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function _r(e){return'href="'+Ht(e)+'"'}function Ai(e){return'link[rel="stylesheet"]['+e+"]"}function Om(e){return x({},e,{"data-precedence":e.precedence,precedence:null})}function Qv(e,t,a,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),mt(t,"link",a),ot(t),e.head.appendChild(t))}function wr(e){return'[src="'+Ht(e)+'"]'}function Ci(e){return"script[async]"+e}function km(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+Ht(a.href)+'"]');if(s)return t.instance=s,ot(s),s;var o=x({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),ot(s),mt(s,"style",o),rl(s,a.precedence,e),t.instance=s;case"stylesheet":o=_r(a.href);var d=e.querySelector(Ai(o));if(d)return t.state.loading|=4,t.instance=d,ot(d),d;s=Om(a),(o=Jt.get(o))&&Vc(s,o),d=(e.ownerDocument||e).createElement("link"),ot(d);var p=d;return p._p=new Promise(function(b,S){p.onload=b,p.onerror=S}),mt(d,"link",s),t.state.loading|=4,rl(d,a.precedence,e),t.instance=d;case"script":return d=wr(a.src),(o=e.querySelector(Ci(d)))?(t.instance=o,ot(o),o):(s=a,(o=Jt.get(d))&&(s=x({},a),Kc(s,o)),e=e.ownerDocument||e,o=e.createElement("script"),ot(o),mt(o,"link",s),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(l(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,rl(s,a.precedence,e));return t.instance}function rl(e,t,a){for(var s=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=s.length?s[s.length-1]:null,d=o,p=0;p<s.length;p++){var b=s[p];if(b.dataset.precedence===t)d=b;else if(d!==o)break}d?d.parentNode.insertBefore(e,d.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function Vc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Kc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var il=null;function Dm(e,t,a){if(il===null){var s=new Map,o=il=new Map;o.set(a,s)}else o=il,s=o.get(a),s||(s=new Map,o.set(a,s));if(s.has(e))return s;for(s.set(e,null),a=a.getElementsByTagName(e),o=0;o<a.length;o++){var d=a[o];if(!(d[Vr]||d[ut]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var p=d.getAttribute(t)||"";p=e+p;var b=s.get(p);b?b.push(d):s.set(p,[d])}}return s}function zm(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function Fv(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Um(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Zv(e,t,a,s){if(a.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var o=_r(s.href),d=t.querySelector(Ai(o));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=sl.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=d,ot(d);return}d=t.ownerDocument||t,s=Om(s),(o=Jt.get(o))&&Vc(s,o),d=d.createElement("link"),ot(d);var p=d;p._p=new Promise(function(b,S){p.onload=b,p.onerror=S}),mt(d,"link",s),a.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=sl.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var Yc=0;function Wv(e,t){return e.stylesheets&&e.count===0&&ol(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var s=setTimeout(function(){if(e.stylesheets&&ol(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+t);0<e.imgBytes&&Yc===0&&(Yc=62500*Dv());var o=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&ol(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>Yc?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(o)}}:null}function sl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ol(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ll=null;function ol(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ll=new Map,t.forEach(e0,e),ll=null,sl.call(e))}function e0(e,t){if(!(t.state.loading&4)){var a=ll.get(e);if(a)var s=a.get(null);else{a=new Map,ll.set(e,a);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<o.length;d++){var p=o[d];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(a.set(p.dataset.precedence,p),s=p)}s&&a.set(null,s)}o=t.instance,p=o.getAttribute("data-precedence"),d=a.get(p)||s,d===s&&a.set(null,o),a.set(p,o),this.count++,s=sl.bind(this),o.addEventListener("load",s),o.addEventListener("error",s),d?d.parentNode.insertBefore(o,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var Ri={$$typeof:U,Provider:null,Consumer:null,_currentValue:X,_currentValue2:X,_threadCount:0};function t0(e,t,a,s,o,d,p,b,S){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$l(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$l(0),this.hiddenUpdates=$l(null),this.identifierPrefix=s,this.onUncaughtError=o,this.onCaughtError=d,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function Mm(e,t,a,s,o,d,p,b,S,D,H,V){return e=new t0(e,t,a,p,S,D,H,V,b),t=1,d===!0&&(t|=24),d=Nt(3,null,null,t),e.current=d,d.stateNode=e,t=Eo(),t.refCount++,e.pooledCache=t,t.refCount++,d.memoizedState={element:s,isDehydrated:a,cache:t},Ro(d),e}function Bm(e){return e?(e=Wn,e):Wn}function Lm(e,t,a,s,o,d){o=Bm(o),s.context===null?s.context=o:s.pendingContext=o,s=Ya(t),s.payload={element:a},d=d===void 0?null:d,d!==null&&(s.callback=d),a=Xa(e,s,t),a!==null&&(Et(a,e,t),li(a,e,t))}function qm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function Xc(e,t){qm(e,t),(e=e.alternate)&&qm(e,t)}function $m(e){if(e.tag===13||e.tag===31){var t=bn(e,67108864);t!==null&&Et(t,e,67108864),Xc(e,67108864)}}function Hm(e){if(e.tag===13||e.tag===31){var t=Ut();t=Hl(t);var a=bn(e,t);a!==null&&Et(a,e,t),Xc(e,t)}}var cl=!0;function a0(e,t,a,s){var o=q.T;q.T=null;var d=Q.p;try{Q.p=2,Pc(e,t,a,s)}finally{Q.p=d,q.T=o}}function n0(e,t,a,s){var o=q.T;q.T=null;var d=Q.p;try{Q.p=8,Pc(e,t,a,s)}finally{Q.p=d,q.T=o}}function Pc(e,t,a,s){if(cl){var o=Jc(s);if(o===null)zc(e,t,s,ul,a),Im(e,s);else if(i0(o,e,t,a,s))s.stopPropagation();else if(Im(e,s),t&4&&-1<r0.indexOf(e)){for(;o!==null;){var d=Gn(o);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var p=mn(d.pendingLanes);if(p!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;p;){var S=1<<31-Ct(p);b.entanglements[1]|=S,p&=~S}ca(d),(Re&6)===0&&(Ys=Tt()+500,Si(0))}}break;case 31:case 13:b=bn(d,2),b!==null&&Et(b,d,2),Ps(),Xc(d,2)}if(d=Jc(s),d===null&&zc(e,t,s,ul,a),d===o)break;o=d}o!==null&&s.stopPropagation()}else zc(e,t,s,null,a)}}function Jc(e){return e=Ql(e),Qc(e)}var ul=null;function Qc(e){if(ul=null,e=Hn(e),e!==null){var t=h(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=f(t),e!==null)return e;e=null}else if(a===31){if(e=g(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ul=e,null}function Gm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ig()){case Ju:return 2;case Qu:return 8;case Wi:case Vg:return 32;case Fu:return 268435456;default:return 32}default:return 32}}var Fc=!1,rn=null,sn=null,ln=null,Ni=new Map,Oi=new Map,on=[],r0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Im(e,t){switch(e){case"focusin":case"focusout":rn=null;break;case"dragenter":case"dragleave":sn=null;break;case"mouseover":case"mouseout":ln=null;break;case"pointerover":case"pointerout":Ni.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oi.delete(t.pointerId)}}function ki(e,t,a,s,o,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:a,eventSystemFlags:s,nativeEvent:d,targetContainers:[o]},t!==null&&(t=Gn(t),t!==null&&$m(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function i0(e,t,a,s,o){switch(t){case"focusin":return rn=ki(rn,e,t,a,s,o),!0;case"dragenter":return sn=ki(sn,e,t,a,s,o),!0;case"mouseover":return ln=ki(ln,e,t,a,s,o),!0;case"pointerover":var d=o.pointerId;return Ni.set(d,ki(Ni.get(d)||null,e,t,a,s,o)),!0;case"gotpointercapture":return d=o.pointerId,Oi.set(d,ki(Oi.get(d)||null,e,t,a,s,o)),!0}return!1}function Vm(e){var t=Hn(e.target);if(t!==null){var a=h(t);if(a!==null){if(t=a.tag,t===13){if(t=f(a),t!==null){e.blockedOn=t,nd(e.priority,function(){Hm(a)});return}}else if(t===31){if(t=g(a),t!==null){e.blockedOn=t,nd(e.priority,function(){Hm(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function dl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=Jc(e.nativeEvent);if(a===null){a=e.nativeEvent;var s=new a.constructor(a.type,a);Jl=s,a.target.dispatchEvent(s),Jl=null}else return t=Gn(a),t!==null&&$m(t),e.blockedOn=a,!1;t.shift()}return!0}function Km(e,t,a){dl(e)&&a.delete(t)}function s0(){Fc=!1,rn!==null&&dl(rn)&&(rn=null),sn!==null&&dl(sn)&&(sn=null),ln!==null&&dl(ln)&&(ln=null),Ni.forEach(Km),Oi.forEach(Km)}function hl(e,t){e.blockedOn===t&&(e.blockedOn=null,Fc||(Fc=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,s0)))}var fl=null;function Ym(e){fl!==e&&(fl=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){fl===e&&(fl=null);for(var t=0;t<e.length;t+=3){var a=e[t],s=e[t+1],o=e[t+2];if(typeof s!="function"){if(Qc(s||a)===null)continue;break}var d=Gn(a);d!==null&&(e.splice(t,3),t-=3,Jo(d,{pending:!0,data:o,method:a.method,action:s},s,o))}}))}function Sr(e){function t(S){return hl(S,e)}rn!==null&&hl(rn,e),sn!==null&&hl(sn,e),ln!==null&&hl(ln,e),Ni.forEach(t),Oi.forEach(t);for(var a=0;a<on.length;a++){var s=on[a];s.blockedOn===e&&(s.blockedOn=null)}for(;0<on.length&&(a=on[0],a.blockedOn===null);)Vm(a),a.blockedOn===null&&on.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(s=0;s<a.length;s+=3){var o=a[s],d=a[s+1],p=o[bt]||null;if(typeof d=="function")p||Ym(a);else if(p){var b=null;if(d&&d.hasAttribute("formAction")){if(o=d,p=d[bt]||null)b=p.formAction;else if(Qc(o)!==null)continue}else b=p.action;typeof b=="function"?a[s+1]=b:(a.splice(s,3),s-=3),Ym(a)}}}function Xm(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(p){return o=p})},focusReset:"manual",scroll:"manual"})}function t(){o!==null&&(o(),o=null),s||setTimeout(a,20)}function a(){if(!s&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),o!==null&&(o(),o=null)}}}function Zc(e){this._internalRoot=e}ml.prototype.render=Zc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(l(409));var a=t.current,s=Ut();Lm(a,s,e,t,null,null)},ml.prototype.unmount=Zc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Lm(e.current,2,null,e,null,null),Ps(),t[$n]=null}};function ml(e){this._internalRoot=e}ml.prototype.unstable_scheduleHydration=function(e){if(e){var t=ad();e={blockedOn:null,target:e,priority:t};for(var a=0;a<on.length&&t!==0&&t<on[a].priority;a++);on.splice(a,0,e),a===0&&Vm(e)}};var Pm=n.version;if(Pm!=="19.2.3")throw Error(l(527,Pm,"19.2.3"));Q.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=y(t),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var l0={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pl.isDisabled&&pl.supportsFiber)try{Hr=pl.inject(l0),At=pl}catch{}}return zi.createRoot=function(e,t){if(!u(e))throw Error(l(299));var a=!1,s="",o=ef,d=tf,p=af;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(d=t.onCaughtError),t.onRecoverableError!==void 0&&(p=t.onRecoverableError)),t=Mm(e,1,!1,null,null,a,s,null,o,d,p,Xm),e[$n]=t.current,Dc(e),new Zc(t)},zi.hydrateRoot=function(e,t,a){if(!u(e))throw Error(l(299));var s=!1,o="",d=ef,p=tf,b=af,S=null;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(o=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.formState!==void 0&&(S=a.formState)),t=Mm(e,1,!0,t,a??null,s,o,S,d,p,b,Xm),t.context=Bm(null),a=t.current,s=Ut(),s=Hl(s),o=Ya(s),o.callback=null,Xa(a,o,s),a=s,t.current.lanes=a,Ir(t,a),ca(t),e[$n]=t.current,Dc(e),new ml(t)},zi.version="19.2.3",zi}var rp;function v0(){if(rp)return tu.exports;rp=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(n){console.error(n)}}return r(),tu.exports=y0(),tu.exports}var b0=v0();var ip="popstate";function x0(r={}){function n(l,u){let{pathname:h,search:f,hash:g}=l.location;return bu("",{pathname:h,search:f,hash:g},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function i(l,u){return typeof u=="string"?u:Gi(u)}return w0(n,i,null,r)}function Ge(r,n){if(r===!1||r===null||typeof r>"u")throw new Error(n)}function Qt(r,n){if(!r){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function _0(){return Math.random().toString(36).substring(2,10)}function sp(r,n){return{usr:r.state,key:r.key,idx:n}}function bu(r,n,i=null,l){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof n=="string"?Mr(n):n,state:i,key:n&&n.key||l||_0()}}function Gi({pathname:r="/",search:n="",hash:i=""}){return n&&n!=="?"&&(r+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(r+=i.charAt(0)==="#"?i:"#"+i),r}function Mr(r){let n={};if(r){let i=r.indexOf("#");i>=0&&(n.hash=r.substring(i),r=r.substring(0,i));let l=r.indexOf("?");l>=0&&(n.search=r.substring(l),r=r.substring(0,l)),r&&(n.pathname=r)}return n}function w0(r,n,i,l={}){let{window:u=document.defaultView,v5Compat:h=!1}=l,f=u.history,g="POP",m=null,y=v();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function v(){return(f.state||{idx:null}).idx}function x(){g="POP";let N=v(),O=N==null?null:N-y;y=N,m&&m({action:g,location:R.location,delta:O})}function _(N,O){g="PUSH";let M=bu(R.location,N,O);y=v()+1;let U=sp(M,y),W=R.createHref(M);try{f.pushState(U,"",W)}catch(te){if(te instanceof DOMException&&te.name==="DataCloneError")throw te;u.location.assign(W)}h&&m&&m({action:g,location:R.location,delta:1})}function j(N,O){g="REPLACE";let M=bu(R.location,N,O);y=v();let U=sp(M,y),W=R.createHref(M);f.replaceState(U,"",W),h&&m&&m({action:g,location:R.location,delta:0})}function A(N){return S0(N)}let R={get action(){return g},get location(){return r(u,f)},listen(N){if(m)throw new Error("A history only accepts one active listener");return u.addEventListener(ip,x),m=N,()=>{u.removeEventListener(ip,x),m=null}},createHref(N){return n(u,N)},createURL:A,encodeLocation(N){let O=A(N);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:_,replace:j,go(N){return f.go(N)}};return R}function S0(r,n=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),Ge(i,"No window.location.(origin|href) available to create URL");let l=typeof r=="string"?r:Gi(r);return l=l.replace(/ $/,"%20"),!n&&l.startsWith("//")&&(l=i+l),new URL(l,i)}function Ip(r,n,i="/"){return j0(r,n,i,!1)}function j0(r,n,i,l){let u=typeof n=="string"?Mr(n):n,h=Ma(u.pathname||"/",i);if(h==null)return null;let f=Vp(r);E0(f);let g=null;for(let m=0;g==null&&m<f.length;++m){let y=M0(h);g=z0(f[m],y,l)}return g}function Vp(r,n=[],i=[],l="",u=!1){let h=(f,g,m=u,y)=>{let v={relativePath:y===void 0?f.path||"":y,caseSensitive:f.caseSensitive===!0,childrenIndex:g,route:f};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(l)&&m)return;Ge(v.relativePath.startsWith(l),`Absolute route path "${v.relativePath}" nested under path "${l}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(l.length)}let x=Ua([l,v.relativePath]),_=i.concat(v);f.children&&f.children.length>0&&(Ge(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),Vp(f.children,n,_,x,m)),!(f.path==null&&!f.index)&&n.push({path:x,score:k0(x,f.index),routesMeta:_})};return r.forEach((f,g)=>{if(f.path===""||!f.path?.includes("?"))h(f,g);else for(let m of Kp(f.path))h(f,g,!0,m)}),n}function Kp(r){let n=r.split("/");if(n.length===0)return[];let[i,...l]=n,u=i.endsWith("?"),h=i.replace(/\?$/,"");if(l.length===0)return u?[h,""]:[h];let f=Kp(l.join("/")),g=[];return g.push(...f.map(m=>m===""?h:[h,m].join("/"))),u&&g.push(...f),g.map(m=>r.startsWith("/")&&m===""?"/":m)}function E0(r){r.sort((n,i)=>n.score!==i.score?i.score-n.score:D0(n.routesMeta.map(l=>l.childrenIndex),i.routesMeta.map(l=>l.childrenIndex)))}var T0=/^:[\w-]+$/,A0=3,C0=2,R0=1,N0=10,O0=-2,lp=r=>r==="*";function k0(r,n){let i=r.split("/"),l=i.length;return i.some(lp)&&(l+=O0),n&&(l+=C0),i.filter(u=>!lp(u)).reduce((u,h)=>u+(T0.test(h)?A0:h===""?R0:N0),l)}function D0(r,n){return r.length===n.length&&r.slice(0,-1).every((l,u)=>l===n[u])?r[r.length-1]-n[n.length-1]:0}function z0(r,n,i=!1){let{routesMeta:l}=r,u={},h="/",f=[];for(let g=0;g<l.length;++g){let m=l[g],y=g===l.length-1,v=h==="/"?n:n.slice(h.length)||"/",x=El({path:m.relativePath,caseSensitive:m.caseSensitive,end:y},v),_=m.route;if(!x&&y&&i&&!l[l.length-1].route.index&&(x=El({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},v)),!x)return null;Object.assign(u,x.params),f.push({params:u,pathname:Ua([h,x.pathname]),pathnameBase:$0(Ua([h,x.pathnameBase])),route:_}),x.pathnameBase!=="/"&&(h=Ua([h,x.pathnameBase]))}return f}function El(r,n){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[i,l]=U0(r.path,r.caseSensitive,r.end),u=n.match(i);if(!u)return null;let h=u[0],f=h.replace(/(.)\/+$/,"$1"),g=u.slice(1);return{params:l.reduce((y,{paramName:v,isOptional:x},_)=>{if(v==="*"){let A=g[_]||"";f=h.slice(0,h.length-A.length).replace(/(.)\/+$/,"$1")}const j=g[_];return x&&!j?y[v]=void 0:y[v]=(j||"").replace(/%2F/g,"/"),y},{}),pathname:h,pathnameBase:f,pattern:r}}function U0(r,n=!1,i=!0){Qt(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let l=[],u="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,g,m)=>(l.push({paramName:g,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(l.push({paramName:"*"}),u+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?u+="\\/*$":r!==""&&r!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,n?void 0:"i"),l]}function M0(r){try{return r.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return Qt(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${n}).`),r}}function Ma(r,n){if(n==="/")return r;if(!r.toLowerCase().startsWith(n.toLowerCase()))return null;let i=n.endsWith("/")?n.length-1:n.length,l=r.charAt(i);return l&&l!=="/"?null:r.slice(i)||"/"}var Yp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,B0=r=>Yp.test(r);function L0(r,n="/"){let{pathname:i,search:l="",hash:u=""}=typeof r=="string"?Mr(r):r,h;if(i)if(B0(i))h=i;else{if(i.includes("//")){let f=i;i=i.replace(/\/\/+/g,"/"),Qt(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${i}`)}i.startsWith("/")?h=op(i.substring(1),"/"):h=op(i,n)}else h=n;return{pathname:h,search:H0(l),hash:G0(u)}}function op(r,n){let i=n.replace(/\/+$/,"").split("/");return r.split("/").forEach(u=>{u===".."?i.length>1&&i.pop():u!=="."&&i.push(u)}),i.length>1?i.join("/"):"/"}function iu(r,n,i,l){return`Cannot include a '${r}' character in a manually specified \`to.${n}\` field [${JSON.stringify(l)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function q0(r){return r.filter((n,i)=>i===0||n.route.path&&n.route.path.length>0)}function Uu(r){let n=q0(r);return n.map((i,l)=>l===n.length-1?i.pathname:i.pathnameBase)}function Mu(r,n,i,l=!1){let u;typeof r=="string"?u=Mr(r):(u={...r},Ge(!u.pathname||!u.pathname.includes("?"),iu("?","pathname","search",u)),Ge(!u.pathname||!u.pathname.includes("#"),iu("#","pathname","hash",u)),Ge(!u.search||!u.search.includes("#"),iu("#","search","hash",u)));let h=r===""||u.pathname==="",f=h?"/":u.pathname,g;if(f==null)g=i;else{let x=n.length-1;if(!l&&f.startsWith("..")){let _=f.split("/");for(;_[0]==="..";)_.shift(),x-=1;u.pathname=_.join("/")}g=x>=0?n[x]:"/"}let m=L0(u,g),y=f&&f!=="/"&&f.endsWith("/"),v=(h||f===".")&&i.endsWith("/");return!m.pathname.endsWith("/")&&(y||v)&&(m.pathname+="/"),m}var Ua=r=>r.join("/").replace(/\/\/+/g,"/"),$0=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),H0=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,G0=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,I0=class{constructor(r,n,i,l=!1){this.status=r,this.statusText=n||"",this.internal=l,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}};function V0(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function K0(r){return r.map(n=>n.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Xp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Pp(r,n){let i=r;if(typeof i!="string"||!Yp.test(i))return{absoluteURL:void 0,isExternal:!1,to:i};let l=i,u=!1;if(Xp)try{let h=new URL(window.location.href),f=i.startsWith("//")?new URL(h.protocol+i):new URL(i),g=Ma(f.pathname,n);f.origin===h.origin&&g!=null?i=g+f.search+f.hash:u=!0}catch{Qt(!1,`<Link to="${i}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:l,isExternal:u,to:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Jp=["POST","PUT","PATCH","DELETE"];new Set(Jp);var Y0=["GET",...Jp];new Set(Y0);var Br=w.createContext(null);Br.displayName="DataRouter";var Nl=w.createContext(null);Nl.displayName="DataRouterState";var X0=w.createContext(!1),Qp=w.createContext({isTransitioning:!1});Qp.displayName="ViewTransition";var P0=w.createContext(new Map);P0.displayName="Fetchers";var J0=w.createContext(null);J0.displayName="Await";var qt=w.createContext(null);qt.displayName="Navigation";var Qi=w.createContext(null);Qi.displayName="Location";var na=w.createContext({outlet:null,matches:[],isDataRoute:!1});na.displayName="Route";var Bu=w.createContext(null);Bu.displayName="RouteError";var Fp="REACT_ROUTER_ERROR",Q0="REDIRECT",F0="ROUTE_ERROR_RESPONSE";function Z0(r){if(r.startsWith(`${Fp}:${Q0}:{`))try{let n=JSON.parse(r.slice(28));if(typeof n=="object"&&n&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.location=="string"&&typeof n.reloadDocument=="boolean"&&typeof n.replace=="boolean")return n}catch{}}function W0(r){if(r.startsWith(`${Fp}:${F0}:{`))try{let n=JSON.parse(r.slice(40));if(typeof n=="object"&&n&&typeof n.status=="number"&&typeof n.statusText=="string")return new I0(n.status,n.statusText,n.data)}catch{}}function eb(r,{relative:n}={}){Ge(Lr(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:l}=w.useContext(qt),{hash:u,pathname:h,search:f}=Fi(r,{relative:n}),g=h;return i!=="/"&&(g=h==="/"?i:Ua([i,h])),l.createHref({pathname:g,search:f,hash:u})}function Lr(){return w.useContext(Qi)!=null}function fn(){return Ge(Lr(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(Qi).location}var Zp="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Wp(r){w.useContext(qt).static||w.useLayoutEffect(r)}function fa(){let{isDataRoute:r}=w.useContext(na);return r?pb():tb()}function tb(){Ge(Lr(),"useNavigate() may be used only in the context of a <Router> component.");let r=w.useContext(Br),{basename:n,navigator:i}=w.useContext(qt),{matches:l}=w.useContext(na),{pathname:u}=fn(),h=JSON.stringify(Uu(l)),f=w.useRef(!1);return Wp(()=>{f.current=!0}),w.useCallback((m,y={})=>{if(Qt(f.current,Zp),!f.current)return;if(typeof m=="number"){i.go(m);return}let v=Mu(m,JSON.parse(h),u,y.relative==="path");r==null&&n!=="/"&&(v.pathname=v.pathname==="/"?n:Ua([n,v.pathname])),(y.replace?i.replace:i.push)(v,y.state,y)},[n,i,h,u,r])}var ab=w.createContext(null);function nb(r){let n=w.useContext(na).outlet;return w.useMemo(()=>n&&w.createElement(ab.Provider,{value:r},n),[n,r])}function Fi(r,{relative:n}={}){let{matches:i}=w.useContext(na),{pathname:l}=fn(),u=JSON.stringify(Uu(i));return w.useMemo(()=>Mu(r,JSON.parse(u),l,n==="path"),[r,u,l,n])}function rb(r,n){return eg(r,n)}function eg(r,n,i,l,u){Ge(Lr(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:h}=w.useContext(qt),{matches:f}=w.useContext(na),g=f[f.length-1],m=g?g.params:{},y=g?g.pathname:"/",v=g?g.pathnameBase:"/",x=g&&g.route;{let M=x&&x.path||"";ag(y,!x||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let _=fn(),j;if(n){let M=typeof n=="string"?Mr(n):n;Ge(v==="/"||M.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${M.pathname}" was given in the \`location\` prop.`),j=M}else j=_;let A=j.pathname||"/",R=A;if(v!=="/"){let M=v.replace(/^\//,"").split("/");R="/"+A.replace(/^\//,"").split("/").slice(M.length).join("/")}let N=Ip(r,{pathname:R});Qt(x||N!=null,`No routes matched location "${j.pathname}${j.search}${j.hash}" `),Qt(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${j.pathname}${j.search}${j.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=cb(N&&N.map(M=>Object.assign({},M,{params:Object.assign({},m,M.params),pathname:Ua([v,h.encodeLocation?h.encodeLocation(M.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?v:Ua([v,h.encodeLocation?h.encodeLocation(M.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathnameBase])})),f,i,l,u);return n&&O?w.createElement(Qi.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...j},navigationType:"POP"}},O):O}function ib(){let r=mb(),n=V0(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),i=r instanceof Error?r.stack:null,l="rgba(200,200,200, 0.5)",u={padding:"0.5rem",backgroundColor:l},h={padding:"2px 4px",backgroundColor:l},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:h},"ErrorBoundary")," or"," ",w.createElement("code",{style:h},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},n),i?w.createElement("pre",{style:u},i):null,f)}var sb=w.createElement(ib,null),tg=class extends w.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,n){return n.location!==r.location||n.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:n.error,location:n.location,revalidation:r.revalidation||n.revalidation}}componentDidCatch(r,n){this.props.onError?this.props.onError(r,n):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const i=W0(r.digest);i&&(r=i)}let n=r!==void 0?w.createElement(na.Provider,{value:this.props.routeContext},w.createElement(Bu.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?w.createElement(lb,{error:r},n):n}};tg.contextType=X0;var su=new WeakMap;function lb({children:r,error:n}){let{basename:i}=w.useContext(qt);if(typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){let l=Z0(n.digest);if(l){let u=su.get(n);if(u)throw u;let h=Pp(l.location,i);if(Xp&&!su.get(n))if(h.isExternal||l.reloadDocument)window.location.href=h.absoluteURL||h.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(h.to,{replace:l.replace}));throw su.set(n,f),f}return w.createElement("meta",{httpEquiv:"refresh",content:`0;url=${h.absoluteURL||h.to}`})}}return r}function ob({routeContext:r,match:n,children:i}){let l=w.useContext(Br);return l&&l.static&&l.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(na.Provider,{value:r},i)}function cb(r,n=[],i=null,l=null,u=null){if(r==null){if(!i)return null;if(i.errors)r=i.matches;else if(n.length===0&&!i.initialized&&i.matches.length>0)r=i.matches;else return null}let h=r,f=i?.errors;if(f!=null){let v=h.findIndex(x=>x.route.id&&f?.[x.route.id]!==void 0);Ge(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),h=h.slice(0,Math.min(h.length,v+1))}let g=!1,m=-1;if(i)for(let v=0;v<h.length;v++){let x=h[v];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(m=v),x.route.id){let{loaderData:_,errors:j}=i,A=x.route.loader&&!_.hasOwnProperty(x.route.id)&&(!j||j[x.route.id]===void 0);if(x.route.lazy||A){g=!0,m>=0?h=h.slice(0,m+1):h=[h[0]];break}}}let y=i&&l?(v,x)=>{l(v,{location:i.location,params:i.matches?.[0]?.params??{},unstable_pattern:K0(i.matches),errorInfo:x})}:void 0;return h.reduceRight((v,x,_)=>{let j,A=!1,R=null,N=null;i&&(j=f&&x.route.id?f[x.route.id]:void 0,R=x.route.errorElement||sb,g&&(m<0&&_===0?(ag("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,N=null):m===_&&(A=!0,N=x.route.hydrateFallbackElement||null)));let O=n.concat(h.slice(0,_+1)),M=()=>{let U;return j?U=R:A?U=N:x.route.Component?U=w.createElement(x.route.Component,null):x.route.element?U=x.route.element:U=v,w.createElement(ob,{match:x,routeContext:{outlet:v,matches:O,isDataRoute:i!=null},children:U})};return i&&(x.route.ErrorBoundary||x.route.errorElement||_===0)?w.createElement(tg,{location:i.location,revalidation:i.revalidation,component:R,error:j,children:M(),routeContext:{outlet:null,matches:O,isDataRoute:!0},onError:y}):M()},null)}function Lu(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ub(r){let n=w.useContext(Br);return Ge(n,Lu(r)),n}function db(r){let n=w.useContext(Nl);return Ge(n,Lu(r)),n}function hb(r){let n=w.useContext(na);return Ge(n,Lu(r)),n}function qu(r){let n=hb(r),i=n.matches[n.matches.length-1];return Ge(i.route.id,`${r} can only be used on routes that contain a unique "id"`),i.route.id}function fb(){return qu("useRouteId")}function mb(){let r=w.useContext(Bu),n=db("useRouteError"),i=qu("useRouteError");return r!==void 0?r:n.errors?.[i]}function pb(){let{router:r}=ub("useNavigate"),n=qu("useNavigate"),i=w.useRef(!1);return Wp(()=>{i.current=!0}),w.useCallback(async(u,h={})=>{Qt(i.current,Zp),i.current&&(typeof u=="number"?await r.navigate(u):await r.navigate(u,{fromRouteId:n,...h}))},[r,n])}var cp={};function ag(r,n,i){!n&&!cp[r]&&(cp[r]=!0,Qt(!1,i))}w.memo(gb);function gb({routes:r,future:n,state:i,onError:l}){return eg(r,void 0,i,l,n)}function ng({to:r,replace:n,state:i,relative:l}){Ge(Lr(),"<Navigate> may be used only in the context of a <Router> component.");let{static:u}=w.useContext(qt);Qt(!u,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:h}=w.useContext(na),{pathname:f}=fn(),g=fa(),m=Mu(r,Uu(h),f,l==="path"),y=JSON.stringify(m);return w.useEffect(()=>{g(JSON.parse(y),{replace:n,state:i,relative:l})},[g,y,l,n,i]),null}function yb(r){return nb(r.context)}function Ze(r){Ge(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function vb({basename:r="/",children:n=null,location:i,navigationType:l="POP",navigator:u,static:h=!1,unstable_useTransitions:f}){Ge(!Lr(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let g=r.replace(/^\/*/,"/"),m=w.useMemo(()=>({basename:g,navigator:u,static:h,unstable_useTransitions:f,future:{}}),[g,u,h,f]);typeof i=="string"&&(i=Mr(i));let{pathname:y="/",search:v="",hash:x="",state:_=null,key:j="default"}=i,A=w.useMemo(()=>{let R=Ma(y,g);return R==null?null:{location:{pathname:R,search:v,hash:x,state:_,key:j},navigationType:l}},[g,y,v,x,_,j,l]);return Qt(A!=null,`<Router basename="${g}"> is not able to match the URL "${y}${v}${x}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:w.createElement(qt.Provider,{value:m},w.createElement(Qi.Provider,{children:n,value:A}))}function rg({children:r,location:n}){return rb(xu(r),n)}function xu(r,n=[]){let i=[];return w.Children.forEach(r,(l,u)=>{if(!w.isValidElement(l))return;let h=[...n,u];if(l.type===w.Fragment){i.push.apply(i,xu(l.props.children,h));return}Ge(l.type===Ze,`[${typeof l.type=="string"?l.type:l.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ge(!l.props.index||!l.props.children,"An index route cannot have child routes.");let f={id:l.props.id||h.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,middleware:l.props.middleware,loader:l.props.loader,action:l.props.action,hydrateFallbackElement:l.props.hydrateFallbackElement,HydrateFallback:l.props.HydrateFallback,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.hasErrorBoundary===!0||l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(f.children=xu(l.props.children,h)),i.push(f)}),i}var Sl="get",jl="application/x-www-form-urlencoded";function Ol(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function bb(r){return Ol(r)&&r.tagName.toLowerCase()==="button"}function xb(r){return Ol(r)&&r.tagName.toLowerCase()==="form"}function _b(r){return Ol(r)&&r.tagName.toLowerCase()==="input"}function wb(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Sb(r,n){return r.button===0&&(!n||n==="_self")&&!wb(r)}var gl=null;function jb(){if(gl===null)try{new FormData(document.createElement("form"),0),gl=!1}catch{gl=!0}return gl}var Eb=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function lu(r){return r!=null&&!Eb.has(r)?(Qt(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${jl}"`),null):r}function Tb(r,n){let i,l,u,h,f;if(xb(r)){let g=r.getAttribute("action");l=g?Ma(g,n):null,i=r.getAttribute("method")||Sl,u=lu(r.getAttribute("enctype"))||jl,h=new FormData(r)}else if(bb(r)||_b(r)&&(r.type==="submit"||r.type==="image")){let g=r.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=r.getAttribute("formaction")||g.getAttribute("action");if(l=m?Ma(m,n):null,i=r.getAttribute("formmethod")||g.getAttribute("method")||Sl,u=lu(r.getAttribute("formenctype"))||lu(g.getAttribute("enctype"))||jl,h=new FormData(g,r),!jb()){let{name:y,type:v,value:x}=r;if(v==="image"){let _=y?`${y}.`:"";h.append(`${_}x`,"0"),h.append(`${_}y`,"0")}else y&&h.append(y,x)}}else{if(Ol(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Sl,l=null,u=jl,f=r}return h&&u==="text/plain"&&(f=h,h=void 0),{action:l,method:i.toLowerCase(),encType:u,formData:h,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function $u(r,n){if(r===!1||r===null||typeof r>"u")throw new Error(n)}function Ab(r,n,i){let l=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return l.pathname==="/"?l.pathname=`_root.${i}`:n&&Ma(l.pathname,n)==="/"?l.pathname=`${n.replace(/\/$/,"")}/_root.${i}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${i}`,l}async function Cb(r,n){if(r.id in n)return n[r.id];try{let i=await import(r.module);return n[r.id]=i,i}catch(i){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Rb(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Nb(r,n,i){let l=await Promise.all(r.map(async u=>{let h=n.routes[u.route.id];if(h){let f=await Cb(h,i);return f.links?f.links():[]}return[]}));return zb(l.flat(1).filter(Rb).filter(u=>u.rel==="stylesheet"||u.rel==="preload").map(u=>u.rel==="stylesheet"?{...u,rel:"prefetch",as:"style"}:{...u,rel:"prefetch"}))}function up(r,n,i,l,u,h){let f=(m,y)=>i[y]?m.route.id!==i[y].route.id:!0,g=(m,y)=>i[y].pathname!==m.pathname||i[y].route.path?.endsWith("*")&&i[y].params["*"]!==m.params["*"];return h==="assets"?n.filter((m,y)=>f(m,y)||g(m,y)):h==="data"?n.filter((m,y)=>{let v=l.routes[m.route.id];if(!v||!v.hasLoader)return!1;if(f(m,y)||g(m,y))return!0;if(m.route.shouldRevalidate){let x=m.route.shouldRevalidate({currentUrl:new URL(u.pathname+u.search+u.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function Ob(r,n,{includeHydrateFallback:i}={}){return kb(r.map(l=>{let u=n.routes[l.route.id];if(!u)return[];let h=[u.module];return u.clientActionModule&&(h=h.concat(u.clientActionModule)),u.clientLoaderModule&&(h=h.concat(u.clientLoaderModule)),i&&u.hydrateFallbackModule&&(h=h.concat(u.hydrateFallbackModule)),u.imports&&(h=h.concat(u.imports)),h}).flat(1))}function kb(r){return[...new Set(r)]}function Db(r){let n={},i=Object.keys(r).sort();for(let l of i)n[l]=r[l];return n}function zb(r,n){let i=new Set;return new Set(n),r.reduce((l,u)=>{let h=JSON.stringify(Db(u));return i.has(h)||(i.add(h),l.push({key:h,link:u})),l},[])}function ig(){let r=w.useContext(Br);return $u(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Ub(){let r=w.useContext(Nl);return $u(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Hu=w.createContext(void 0);Hu.displayName="FrameworkContext";function sg(){let r=w.useContext(Hu);return $u(r,"You must render this element inside a <HydratedRouter> element"),r}function Mb(r,n){let i=w.useContext(Hu),[l,u]=w.useState(!1),[h,f]=w.useState(!1),{onFocus:g,onBlur:m,onMouseEnter:y,onMouseLeave:v,onTouchStart:x}=n,_=w.useRef(null);w.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let R=O=>{O.forEach(M=>{f(M.isIntersecting)})},N=new IntersectionObserver(R,{threshold:.5});return _.current&&N.observe(_.current),()=>{N.disconnect()}}},[r]),w.useEffect(()=>{if(l){let R=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(R)}}},[l]);let j=()=>{u(!0)},A=()=>{u(!1),f(!1)};return i?r!=="intent"?[h,_,{}]:[h,_,{onFocus:Ui(g,j),onBlur:Ui(m,A),onMouseEnter:Ui(y,j),onMouseLeave:Ui(v,A),onTouchStart:Ui(x,j)}]:[!1,_,{}]}function Ui(r,n){return i=>{r&&r(i),i.defaultPrevented||n(i)}}function Bb({page:r,...n}){let{router:i}=ig(),l=w.useMemo(()=>Ip(i.routes,r,i.basename),[i.routes,r,i.basename]);return l?w.createElement(qb,{page:r,matches:l,...n}):null}function Lb(r){let{manifest:n,routeModules:i}=sg(),[l,u]=w.useState([]);return w.useEffect(()=>{let h=!1;return Nb(r,n,i).then(f=>{h||u(f)}),()=>{h=!0}},[r,n,i]),l}function qb({page:r,matches:n,...i}){let l=fn(),{manifest:u,routeModules:h}=sg(),{basename:f}=ig(),{loaderData:g,matches:m}=Ub(),y=w.useMemo(()=>up(r,n,m,u,l,"data"),[r,n,m,u,l]),v=w.useMemo(()=>up(r,n,m,u,l,"assets"),[r,n,m,u,l]),x=w.useMemo(()=>{if(r===l.pathname+l.search+l.hash)return[];let A=new Set,R=!1;if(n.forEach(O=>{let M=u.routes[O.route.id];!M||!M.hasLoader||(!y.some(U=>U.route.id===O.route.id)&&O.route.id in g&&h[O.route.id]?.shouldRevalidate||M.hasClientLoader?R=!0:A.add(O.route.id))}),A.size===0)return[];let N=Ab(r,f,"data");return R&&A.size>0&&N.searchParams.set("_routes",n.filter(O=>A.has(O.route.id)).map(O=>O.route.id).join(",")),[N.pathname+N.search]},[f,g,l,u,y,n,r,h]),_=w.useMemo(()=>Ob(v,u),[v,u]),j=Lb(v);return w.createElement(w.Fragment,null,x.map(A=>w.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...i})),_.map(A=>w.createElement("link",{key:A,rel:"modulepreload",href:A,...i})),j.map(({key:A,link:R})=>w.createElement("link",{key:A,nonce:i.nonce,...R})))}function $b(...r){return n=>{r.forEach(i=>{typeof i=="function"?i(n):i!=null&&(i.current=n)})}}var Hb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Hb&&(window.__reactRouterVersion="7.11.0")}catch{}function Gb({basename:r,children:n,unstable_useTransitions:i,window:l}){let u=w.useRef();u.current==null&&(u.current=x0({window:l,v5Compat:!0}));let h=u.current,[f,g]=w.useState({action:h.action,location:h.location}),m=w.useCallback(y=>{i===!1?g(y):w.startTransition(()=>g(y))},[i]);return w.useLayoutEffect(()=>h.listen(m),[h,m]),w.createElement(vb,{basename:r,children:n,location:f.location,navigationType:f.action,navigator:h,unstable_useTransitions:i})}var lg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,un=w.forwardRef(function({onClick:n,discover:i="render",prefetch:l="none",relative:u,reloadDocument:h,replace:f,state:g,target:m,to:y,preventScrollReset:v,viewTransition:x,unstable_defaultShouldRevalidate:_,...j},A){let{basename:R,unstable_useTransitions:N}=w.useContext(qt),O=typeof y=="string"&&lg.test(y),M=Pp(y,R);y=M.to;let U=eb(y,{relative:u}),[W,te,Y]=Mb(l,j),L=Kb(y,{replace:f,state:g,target:m,preventScrollReset:v,relative:u,viewTransition:x,unstable_defaultShouldRevalidate:_,unstable_useTransitions:N});function J(le){n&&n(le),le.defaultPrevented||L(le)}let K=w.createElement("a",{...j,...Y,href:M.absoluteURL||U,onClick:M.isExternal||h?n:J,ref:$b(A,te),target:m,"data-discover":!O&&i==="render"?"true":void 0});return W&&!O?w.createElement(w.Fragment,null,K,w.createElement(Bb,{page:U})):K});un.displayName="Link";var da=w.forwardRef(function({"aria-current":n="page",caseSensitive:i=!1,className:l="",end:u=!1,style:h,to:f,viewTransition:g,children:m,...y},v){let x=Fi(f,{relative:y.relative}),_=fn(),j=w.useContext(Nl),{navigator:A,basename:R}=w.useContext(qt),N=j!=null&&Qb(x)&&g===!0,O=A.encodeLocation?A.encodeLocation(x).pathname:x.pathname,M=_.pathname,U=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;i||(M=M.toLowerCase(),U=U?U.toLowerCase():null,O=O.toLowerCase()),U&&R&&(U=Ma(U,R)||U);const W=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let te=M===O||!u&&M.startsWith(O)&&M.charAt(W)==="/",Y=U!=null&&(U===O||!u&&U.startsWith(O)&&U.charAt(O.length)==="/"),L={isActive:te,isPending:Y,isTransitioning:N},J=te?n:void 0,K;typeof l=="function"?K=l(L):K=[l,te?"active":null,Y?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let le=typeof h=="function"?h(L):h;return w.createElement(un,{...y,"aria-current":J,className:K,ref:v,style:le,to:f,viewTransition:g},typeof m=="function"?m(L):m)});da.displayName="NavLink";var Ib=w.forwardRef(({discover:r="render",fetcherKey:n,navigate:i,reloadDocument:l,replace:u,state:h,method:f=Sl,action:g,onSubmit:m,relative:y,preventScrollReset:v,viewTransition:x,unstable_defaultShouldRevalidate:_,...j},A)=>{let{unstable_useTransitions:R}=w.useContext(qt),N=Pb(),O=Jb(g,{relative:y}),M=f.toLowerCase()==="get"?"get":"post",U=typeof g=="string"&&lg.test(g),W=te=>{if(m&&m(te),te.defaultPrevented)return;te.preventDefault();let Y=te.nativeEvent.submitter,L=Y?.getAttribute("formmethod")||f,J=()=>N(Y||te.currentTarget,{fetcherKey:n,method:L,navigate:i,replace:u,state:h,relative:y,preventScrollReset:v,viewTransition:x,unstable_defaultShouldRevalidate:_});R&&i!==!1?w.startTransition(()=>J()):J()};return w.createElement("form",{ref:A,method:M,action:O,onSubmit:l?m:W,...j,"data-discover":!U&&r==="render"?"true":void 0})});Ib.displayName="Form";function Vb(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function og(r){let n=w.useContext(Br);return Ge(n,Vb(r)),n}function Kb(r,{target:n,replace:i,state:l,preventScrollReset:u,relative:h,viewTransition:f,unstable_defaultShouldRevalidate:g,unstable_useTransitions:m}={}){let y=fa(),v=fn(),x=Fi(r,{relative:h});return w.useCallback(_=>{if(Sb(_,n)){_.preventDefault();let j=i!==void 0?i:Gi(v)===Gi(x),A=()=>y(r,{replace:j,state:l,preventScrollReset:u,relative:h,viewTransition:f,unstable_defaultShouldRevalidate:g});m?w.startTransition(()=>A()):A()}},[v,y,x,i,l,n,r,u,h,f,g,m])}var Yb=0,Xb=()=>`__${String(++Yb)}__`;function Pb(){let{router:r}=og("useSubmit"),{basename:n}=w.useContext(qt),i=fb(),l=r.fetch,u=r.navigate;return w.useCallback(async(h,f={})=>{let{action:g,method:m,encType:y,formData:v,body:x}=Tb(h,n);if(f.navigate===!1){let _=f.fetcherKey||Xb();await l(_,i,f.action||g,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:v,body:x,formMethod:f.method||m,formEncType:f.encType||y,flushSync:f.flushSync})}else await u(f.action||g,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:v,body:x,formMethod:f.method||m,formEncType:f.encType||y,replace:f.replace,state:f.state,fromRouteId:i,flushSync:f.flushSync,viewTransition:f.viewTransition})},[l,u,n,i])}function Jb(r,{relative:n}={}){let{basename:i}=w.useContext(qt),l=w.useContext(na);Ge(l,"useFormAction must be used inside a RouteContext");let[u]=l.matches.slice(-1),h={...Fi(r||".",{relative:n})},f=fn();if(r==null){h.search=f.search;let g=new URLSearchParams(h.search),m=g.getAll("index");if(m.some(v=>v==="")){g.delete("index"),m.filter(x=>x).forEach(x=>g.append("index",x));let v=g.toString();h.search=v?`?${v}`:""}}return(!r||r===".")&&u.route.index&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(h.pathname=h.pathname==="/"?i:Ua([i,h.pathname])),Gi(h)}function Qb(r,{relative:n}={}){let i=w.useContext(Qp);Ge(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:l}=og("useViewTransitionState"),u=Fi(r,{relative:n});if(!i.isTransitioning)return!1;let h=Ma(i.currentLocation.pathname,l)||i.currentLocation.pathname,f=Ma(i.nextLocation.pathname,l)||i.nextLocation.pathname;return El(u.pathname,f)!=null||El(u.pathname,h)!=null}function kl(r,n){var i={};for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&n.indexOf(l)<0&&(i[l]=r[l]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,l=Object.getOwnPropertySymbols(r);u<l.length;u++)n.indexOf(l[u])<0&&Object.prototype.propertyIsEnumerable.call(r,l[u])&&(i[l[u]]=r[l[u]]);return i}function Fb(r,n,i,l){function u(h){return h instanceof i?h:new i(function(f){f(h)})}return new(i||(i=Promise))(function(h,f){function g(v){try{y(l.next(v))}catch(x){f(x)}}function m(v){try{y(l.throw(v))}catch(x){f(x)}}function y(v){v.done?h(v.value):u(v.value).then(g,m)}y((l=l.apply(r,n||[])).next())})}const Zb=r=>r?(...n)=>r(...n):(...n)=>fetch(...n);class Gu extends Error{constructor(n,i="FunctionsError",l){super(n),this.name=i,this.context=l}}class Wb extends Gu{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class dp extends Gu{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class hp extends Gu{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var _u;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(_u||(_u={}));class ex{constructor(n,{headers:i={},customFetch:l,region:u=_u.Any}={}){this.url=n,this.headers=i,this.region=u,this.fetch=Zb(l)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n){return Fb(this,arguments,void 0,function*(i,l={}){var u;let h,f;try{const{headers:g,method:m,body:y,signal:v,timeout:x}=l;let _={},{region:j}=l;j||(j=this.region);const A=new URL(`${this.url}/${i}`);j&&j!=="any"&&(_["x-region"]=j,A.searchParams.set("forceFunctionRegion",j));let R;y&&(g&&!Object.prototype.hasOwnProperty.call(g,"Content-Type")||!g)?typeof Blob<"u"&&y instanceof Blob||y instanceof ArrayBuffer?(_["Content-Type"]="application/octet-stream",R=y):typeof y=="string"?(_["Content-Type"]="text/plain",R=y):typeof FormData<"u"&&y instanceof FormData?R=y:(_["Content-Type"]="application/json",R=JSON.stringify(y)):R=y;let N=v;x&&(f=new AbortController,h=setTimeout(()=>f.abort(),x),v?(N=f.signal,v.addEventListener("abort",()=>f.abort())):N=f.signal);const O=yield this.fetch(A.toString(),{method:m||"POST",headers:Object.assign(Object.assign(Object.assign({},_),this.headers),g),body:R,signal:N}).catch(te=>{throw new Wb(te)}),M=O.headers.get("x-relay-error");if(M&&M==="true")throw new dp(O);if(!O.ok)throw new hp(O);let U=((u=O.headers.get("Content-Type"))!==null&&u!==void 0?u:"text/plain").split(";")[0].trim(),W;return U==="application/json"?W=yield O.json():U==="application/octet-stream"||U==="application/pdf"?W=yield O.blob():U==="text/event-stream"?W=O:U==="multipart/form-data"?W=yield O.formData():W=yield O.text(),{data:W,error:null,response:O}}catch(g){return{data:null,error:g,response:g instanceof hp||g instanceof dp?g.context:void 0}}finally{h&&clearTimeout(h)}})}}var tx=class extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}},ax=class{constructor(r){var n,i;this.shouldThrowOnError=!1,this.method=r.method,this.url=r.url,this.headers=new Headers(r.headers),this.schema=r.schema,this.body=r.body,this.shouldThrowOnError=(n=r.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=r.signal,this.isMaybeSingle=(i=r.isMaybeSingle)!==null&&i!==void 0?i:!1,r.fetch?this.fetch=r.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(r,n){return this.headers=new Headers(this.headers),this.headers.set(r,n),this}then(r,n){var i=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let u=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{let f=null,g=null,m=null,y=h.status,v=h.statusText;if(h.ok){var x,_;if(i.method!=="HEAD"){var j;const O=await h.text();O===""||(i.headers.get("Accept")==="text/csv"||i.headers.get("Accept")&&(!((j=i.headers.get("Accept"))===null||j===void 0)&&j.includes("application/vnd.pgrst.plan+text"))?g=O:g=JSON.parse(O))}const R=(x=i.headers.get("Prefer"))===null||x===void 0?void 0:x.match(/count=(exact|planned|estimated)/),N=(_=h.headers.get("content-range"))===null||_===void 0?void 0:_.split("/");R&&N&&N.length>1&&(m=parseInt(N[1])),i.isMaybeSingle&&i.method==="GET"&&Array.isArray(g)&&(g.length>1?(f={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,m=null,y=406,v="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{var A;const R=await h.text();try{f=JSON.parse(R),Array.isArray(f)&&h.status===404&&(g=[],f=null,y=200,v="OK")}catch{h.status===404&&R===""?(y=204,v="No Content"):f={message:R}}if(f&&i.isMaybeSingle&&(!(f==null||(A=f.details)===null||A===void 0)&&A.includes("0 rows"))&&(f=null,y=200,v="OK"),f&&i.shouldThrowOnError)throw new tx(f)}return{error:f,data:g,count:m,status:y,statusText:v}});return this.shouldThrowOnError||(u=u.catch(h=>{var f;let g="";const m=h?.cause;if(m){var y,v,x,_;const A=(y=m?.message)!==null&&y!==void 0?y:"",R=(v=m?.code)!==null&&v!==void 0?v:"";g=`${(x=h?.name)!==null&&x!==void 0?x:"FetchError"}: ${h?.message}`,g+=`

Caused by: ${(_=m?.name)!==null&&_!==void 0?_:"Error"}: ${A}`,R&&(g+=` (${R})`),m?.stack&&(g+=`
${m.stack}`)}else{var j;g=(j=h?.stack)!==null&&j!==void 0?j:""}return{error:{message:`${(f=h?.name)!==null&&f!==void 0?f:"FetchError"}: ${h?.message}`,details:g,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),u.then(r,n)}returns(){return this}overrideTypes(){return this}},nx=class extends ax{select(r){let n=!1;const i=(r??"*").split("").map(l=>/\s/.test(l)&&!n?"":(l==='"'&&(n=!n),l)).join("");return this.url.searchParams.set("select",i),this.headers.append("Prefer","return=representation"),this}order(r,{ascending:n=!0,nullsFirst:i,foreignTable:l,referencedTable:u=l}={}){const h=u?`${u}.order`:"order",f=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${f?`${f},`:""}${r}.${n?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(r,{foreignTable:n,referencedTable:i=n}={}){const l=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(l,`${r}`),this}range(r,n,{foreignTable:i,referencedTable:l=i}={}){const u=typeof l>"u"?"offset":`${l}.offset`,h=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${r}`),this.url.searchParams.set(h,`${n-r+1}`),this}abortSignal(r){return this.signal=r,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:r=!1,verbose:n=!1,settings:i=!1,buffers:l=!1,wal:u=!1,format:h="text"}={}){var f;const g=[r?"analyze":null,n?"verbose":null,i?"settings":null,l?"buffers":null,u?"wal":null].filter(Boolean).join("|"),m=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${h}; for="${m}"; options=${g};`),h==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(r){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${r}`),this}};const fp=new RegExp("[,()]");var Nr=class extends nx{eq(r,n){return this.url.searchParams.append(r,`eq.${n}`),this}neq(r,n){return this.url.searchParams.append(r,`neq.${n}`),this}gt(r,n){return this.url.searchParams.append(r,`gt.${n}`),this}gte(r,n){return this.url.searchParams.append(r,`gte.${n}`),this}lt(r,n){return this.url.searchParams.append(r,`lt.${n}`),this}lte(r,n){return this.url.searchParams.append(r,`lte.${n}`),this}like(r,n){return this.url.searchParams.append(r,`like.${n}`),this}likeAllOf(r,n){return this.url.searchParams.append(r,`like(all).{${n.join(",")}}`),this}likeAnyOf(r,n){return this.url.searchParams.append(r,`like(any).{${n.join(",")}}`),this}ilike(r,n){return this.url.searchParams.append(r,`ilike.${n}`),this}ilikeAllOf(r,n){return this.url.searchParams.append(r,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(r,n){return this.url.searchParams.append(r,`ilike(any).{${n.join(",")}}`),this}regexMatch(r,n){return this.url.searchParams.append(r,`match.${n}`),this}regexIMatch(r,n){return this.url.searchParams.append(r,`imatch.${n}`),this}is(r,n){return this.url.searchParams.append(r,`is.${n}`),this}isDistinct(r,n){return this.url.searchParams.append(r,`isdistinct.${n}`),this}in(r,n){const i=Array.from(new Set(n)).map(l=>typeof l=="string"&&fp.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(r,`in.(${i})`),this}notIn(r,n){const i=Array.from(new Set(n)).map(l=>typeof l=="string"&&fp.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(r,`not.in.(${i})`),this}contains(r,n){return typeof n=="string"?this.url.searchParams.append(r,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(r,`cs.{${n.join(",")}}`):this.url.searchParams.append(r,`cs.${JSON.stringify(n)}`),this}containedBy(r,n){return typeof n=="string"?this.url.searchParams.append(r,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(r,`cd.{${n.join(",")}}`):this.url.searchParams.append(r,`cd.${JSON.stringify(n)}`),this}rangeGt(r,n){return this.url.searchParams.append(r,`sr.${n}`),this}rangeGte(r,n){return this.url.searchParams.append(r,`nxl.${n}`),this}rangeLt(r,n){return this.url.searchParams.append(r,`sl.${n}`),this}rangeLte(r,n){return this.url.searchParams.append(r,`nxr.${n}`),this}rangeAdjacent(r,n){return this.url.searchParams.append(r,`adj.${n}`),this}overlaps(r,n){return typeof n=="string"?this.url.searchParams.append(r,`ov.${n}`):this.url.searchParams.append(r,`ov.{${n.join(",")}}`),this}textSearch(r,n,{config:i,type:l}={}){let u="";l==="plain"?u="pl":l==="phrase"?u="ph":l==="websearch"&&(u="w");const h=i===void 0?"":`(${i})`;return this.url.searchParams.append(r,`${u}fts${h}.${n}`),this}match(r){return Object.entries(r).forEach(([n,i])=>{this.url.searchParams.append(n,`eq.${i}`)}),this}not(r,n,i){return this.url.searchParams.append(r,`not.${n}.${i}`),this}or(r,{foreignTable:n,referencedTable:i=n}={}){const l=i?`${i}.or`:"or";return this.url.searchParams.append(l,`(${r})`),this}filter(r,n,i){return this.url.searchParams.append(r,`${n}.${i}`),this}},rx=class{constructor(r,{headers:n={},schema:i,fetch:l}){this.url=r,this.headers=new Headers(n),this.schema=i,this.fetch=l}select(r,n){const{head:i=!1,count:l}=n??{},u=i?"HEAD":"GET";let h=!1;const f=(r??"*").split("").map(g=>/\s/.test(g)&&!h?"":(g==='"'&&(h=!h),g)).join("");return this.url.searchParams.set("select",f),l&&this.headers.append("Prefer",`count=${l}`),new Nr({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(r,{count:n,defaultToNull:i=!0}={}){var l;const u="POST";if(n&&this.headers.append("Prefer",`count=${n}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(r)){const h=r.reduce((f,g)=>f.concat(Object.keys(g)),[]);if(h.length>0){const f=[...new Set(h)].map(g=>`"${g}"`);this.url.searchParams.set("columns",f.join(","))}}return new Nr({method:u,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(r,{onConflict:n,ignoreDuplicates:i=!1,count:l,defaultToNull:u=!0}={}){var h;const f="POST";if(this.headers.append("Prefer",`resolution=${i?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),l&&this.headers.append("Prefer",`count=${l}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(r)){const g=r.reduce((m,y)=>m.concat(Object.keys(y)),[]);if(g.length>0){const m=[...new Set(g)].map(y=>`"${y}"`);this.url.searchParams.set("columns",m.join(","))}}return new Nr({method:f,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}update(r,{count:n}={}){var i;const l="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new Nr({method:l,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}delete({count:r}={}){var n;const i="DELETE";return r&&this.headers.append("Prefer",`count=${r}`),new Nr({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}},ix=class cg{constructor(n,{headers:i={},schema:l,fetch:u}={}){this.url=n,this.headers=new Headers(i),this.schemaName=l,this.fetch=u}from(n){if(!n||typeof n!="string"||n.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new rx(new URL(`${this.url}/${n}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(n){return new cg(this.url,{headers:this.headers,schema:n,fetch:this.fetch})}rpc(n,i={},{head:l=!1,get:u=!1,count:h}={}){var f;let g;const m=new URL(`${this.url}/rpc/${n}`);let y;l||u?(g=l?"HEAD":"GET",Object.entries(i).filter(([x,_])=>_!==void 0).map(([x,_])=>[x,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([x,_])=>{m.searchParams.append(x,_)})):(g="POST",y=i);const v=new Headers(this.headers);return h&&v.set("Prefer",`count=${h}`),new Nr({method:g,url:m,headers:v,schema:this.schemaName,body:y,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}};class sx{constructor(){}static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const i=process.versions;if(i&&i.node){const l=i.node,u=parseInt(l.replace(/^v/,"").split(".")[0]);return u>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${u} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${u} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let i=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(i+=`

Suggested solution: ${n.workaround}`),new Error(i)}static createWebSocket(n,i){const l=this.getWebSocketConstructor();return new l(n,i)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const lx="2.89.0",ox=`realtime-js/${lx}`,ug="1.0.0",cx="2.0.0",mp=ug,wu=1e4,ux=1e3,dx=100;var dn;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(dn||(dn={}));var st;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(st||(st={}));var aa;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(aa||(aa={}));var Su;(function(r){r.websocket="websocket"})(Su||(Su={}));var Mn;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(Mn||(Mn={}));class hx{constructor(n){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=n??[]}encode(n,i){if(n.event===this.BROADCAST_EVENT&&!(n.payload instanceof ArrayBuffer)&&typeof n.payload.event=="string")return i(this._binaryEncodeUserBroadcastPush(n));let l=[n.join_ref,n.ref,n.topic,n.event,n.payload];return i(JSON.stringify(l))}_binaryEncodeUserBroadcastPush(n){var i;return this._isArrayBuffer((i=n.payload)===null||i===void 0?void 0:i.payload)?this._encodeBinaryUserBroadcastPush(n):this._encodeJsonUserBroadcastPush(n)}_encodeBinaryUserBroadcastPush(n){var i,l;const u=(l=(i=n.payload)===null||i===void 0?void 0:i.payload)!==null&&l!==void 0?l:new ArrayBuffer(0);return this._encodeUserBroadcastPush(n,this.BINARY_ENCODING,u)}_encodeJsonUserBroadcastPush(n){var i,l;const u=(l=(i=n.payload)===null||i===void 0?void 0:i.payload)!==null&&l!==void 0?l:{},f=new TextEncoder().encode(JSON.stringify(u)).buffer;return this._encodeUserBroadcastPush(n,this.JSON_ENCODING,f)}_encodeUserBroadcastPush(n,i,l){var u,h;const f=n.topic,g=(u=n.ref)!==null&&u!==void 0?u:"",m=(h=n.join_ref)!==null&&h!==void 0?h:"",y=n.payload.event,v=this.allowedMetadataKeys?this._pick(n.payload,this.allowedMetadataKeys):{},x=Object.keys(v).length===0?"":JSON.stringify(v);if(m.length>255)throw new Error(`joinRef length ${m.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`ref length ${g.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`topic length ${f.length} exceeds maximum of 255`);if(y.length>255)throw new Error(`userEvent length ${y.length} exceeds maximum of 255`);if(x.length>255)throw new Error(`metadata length ${x.length} exceeds maximum of 255`);const _=this.USER_BROADCAST_PUSH_META_LENGTH+m.length+g.length+f.length+y.length+x.length,j=new ArrayBuffer(this.HEADER_LENGTH+_);let A=new DataView(j),R=0;A.setUint8(R++,this.KINDS.userBroadcastPush),A.setUint8(R++,m.length),A.setUint8(R++,g.length),A.setUint8(R++,f.length),A.setUint8(R++,y.length),A.setUint8(R++,x.length),A.setUint8(R++,i),Array.from(m,O=>A.setUint8(R++,O.charCodeAt(0))),Array.from(g,O=>A.setUint8(R++,O.charCodeAt(0))),Array.from(f,O=>A.setUint8(R++,O.charCodeAt(0))),Array.from(y,O=>A.setUint8(R++,O.charCodeAt(0))),Array.from(x,O=>A.setUint8(R++,O.charCodeAt(0)));var N=new Uint8Array(j.byteLength+l.byteLength);return N.set(new Uint8Array(j),0),N.set(new Uint8Array(l),j.byteLength),N.buffer}decode(n,i){if(this._isArrayBuffer(n)){let l=this._binaryDecode(n);return i(l)}if(typeof n=="string"){const l=JSON.parse(n),[u,h,f,g,m]=l;return i({join_ref:u,ref:h,topic:f,event:g,payload:m})}return i({})}_binaryDecode(n){const i=new DataView(n),l=i.getUint8(0),u=new TextDecoder;if(l===this.KINDS.userBroadcast)return this._decodeUserBroadcast(n,i,u)}_decodeUserBroadcast(n,i,l){const u=i.getUint8(1),h=i.getUint8(2),f=i.getUint8(3),g=i.getUint8(4);let m=this.HEADER_LENGTH+4;const y=l.decode(n.slice(m,m+u));m=m+u;const v=l.decode(n.slice(m,m+h));m=m+h;const x=l.decode(n.slice(m,m+f));m=m+f;const _=n.slice(m,n.byteLength),j=g===this.JSON_ENCODING?JSON.parse(l.decode(_)):_,A={type:this.BROADCAST_EVENT,event:v,payload:j};return f>0&&(A.meta=JSON.parse(x)),{join_ref:null,ref:null,topic:y,event:this.BROADCAST_EVENT,payload:A}}_isArrayBuffer(n){var i;return n instanceof ArrayBuffer||((i=n?.constructor)===null||i===void 0?void 0:i.name)==="ArrayBuffer"}_pick(n,i){return!n||typeof n!="object"?{}:Object.fromEntries(Object.entries(n).filter(([l])=>i.includes(l)))}}class dg{constructor(n,i){this.callback=n,this.timerCalc=i,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=i}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Le;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(Le||(Le={}));const pp=(r,n,i={})=>{var l;const u=(l=i.skipTypes)!==null&&l!==void 0?l:[];return n?Object.keys(n).reduce((h,f)=>(h[f]=fx(f,r,n,u),h),{}):{}},fx=(r,n,i,l)=>{const u=n.find(g=>g.name===r),h=u?.type,f=i[r];return h&&!l.includes(h)?hg(h,f):ju(f)},hg=(r,n)=>{if(r.charAt(0)==="_"){const i=r.slice(1,r.length);return yx(n,i)}switch(r){case Le.bool:return mx(n);case Le.float4:case Le.float8:case Le.int2:case Le.int4:case Le.int8:case Le.numeric:case Le.oid:return px(n);case Le.json:case Le.jsonb:return gx(n);case Le.timestamp:return vx(n);case Le.abstime:case Le.date:case Le.daterange:case Le.int4range:case Le.int8range:case Le.money:case Le.reltime:case Le.text:case Le.time:case Le.timestamptz:case Le.timetz:case Le.tsrange:case Le.tstzrange:return ju(n);default:return ju(n)}},ju=r=>r,mx=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},px=r=>{if(typeof r=="string"){const n=parseFloat(r);if(!Number.isNaN(n))return n}return r},gx=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch{return r}return r},yx=(r,n)=>{if(typeof r!="string")return r;const i=r.length-1,l=r[i];if(r[0]==="{"&&l==="}"){let h;const f=r.slice(1,i);try{h=JSON.parse("["+f+"]")}catch{h=f?f.split(","):[]}return h.map(g=>hg(n,g))}return r},vx=r=>typeof r=="string"?r.replace(" ","T"):r,fg=r=>{const n=new URL(r);return n.protocol=n.protocol.replace(/^ws/i,"http"),n.pathname=n.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),n.pathname===""||n.pathname==="/"?n.pathname="/api/broadcast":n.pathname=n.pathname+"/api/broadcast",n.href};class ou{constructor(n,i,l={},u=wu){this.channel=n,this.event=i,this.payload=l,this.timeout=u,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,i){var l;return this._hasReceived(n)&&i((l=this.receivedResp)===null||l===void 0?void 0:l.response),this.recHooks.push({status:n,callback:i}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=i=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=i,this._matchReceive(i)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,i){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:i})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:i}){this.recHooks.filter(l=>l.status===n).forEach(l=>l.callback(i))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var gp;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(gp||(gp={}));class qi{constructor(n,i){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=i?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},u=>{const{onJoin:h,onLeave:f,onSync:g}=this.caller;this.joinRef=this.channel._joinRef(),this.state=qi.syncState(this.state,u,h,f),this.pendingDiffs.forEach(m=>{this.state=qi.syncDiff(this.state,m,h,f)}),this.pendingDiffs=[],g()}),this.channel._on(l.diff,{},u=>{const{onJoin:h,onLeave:f,onSync:g}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(u):(this.state=qi.syncDiff(this.state,u,h,f),g())}),this.onJoin((u,h,f)=>{this.channel._trigger("presence",{event:"join",key:u,currentPresences:h,newPresences:f})}),this.onLeave((u,h,f)=>{this.channel._trigger("presence",{event:"leave",key:u,currentPresences:h,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,i,l,u){const h=this.cloneDeep(n),f=this.transformState(i),g={},m={};return this.map(h,(y,v)=>{f[y]||(m[y]=v)}),this.map(f,(y,v)=>{const x=h[y];if(x){const _=v.map(N=>N.presence_ref),j=x.map(N=>N.presence_ref),A=v.filter(N=>j.indexOf(N.presence_ref)<0),R=x.filter(N=>_.indexOf(N.presence_ref)<0);A.length>0&&(g[y]=A),R.length>0&&(m[y]=R)}else g[y]=v}),this.syncDiff(h,{joins:g,leaves:m},l,u)}static syncDiff(n,i,l,u){const{joins:h,leaves:f}={joins:this.transformState(i.joins),leaves:this.transformState(i.leaves)};return l||(l=()=>{}),u||(u=()=>{}),this.map(h,(g,m)=>{var y;const v=(y=n[g])!==null&&y!==void 0?y:[];if(n[g]=this.cloneDeep(m),v.length>0){const x=n[g].map(j=>j.presence_ref),_=v.filter(j=>x.indexOf(j.presence_ref)<0);n[g].unshift(..._)}l(g,v,m)}),this.map(f,(g,m)=>{let y=n[g];if(!y)return;const v=m.map(x=>x.presence_ref);y=y.filter(x=>v.indexOf(x.presence_ref)<0),n[g]=y,u(g,y,m),y.length===0&&delete n[g]}),n}static map(n,i){return Object.getOwnPropertyNames(n).map(l=>i(l,n[l]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((i,l)=>{const u=n[l];return"metas"in u?i[l]=u.metas.map(h=>(h.presence_ref=h.phx_ref,delete h.phx_ref,delete h.phx_ref_prev,h)):i[l]=u,i},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var yp;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(yp||(yp={}));var $i;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})($i||($i={}));var za;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(za||(za={}));class Dr{constructor(n,i={config:{}},l){var u,h;if(this.topic=n,this.params=i,this.socket=l,this.bindings={},this.state=st.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},i.config),this.timeout=this.socket.timeout,this.joinPush=new ou(this,aa.join,this.params,this.timeout),this.rejoinTimer=new dg(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=st.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(f=>f.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=st.closed,this.socket._remove(this)}),this._onError(f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this._on(aa.reply,{},(f,g)=>{this._trigger(this._replyEventName(g),f)}),this.presence=new qi(this),this.broadcastEndpointURL=fg(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((h=(u=this.params.config)===null||u===void 0?void 0:u.broadcast)===null||h===void 0)&&h.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(n,i=this.timeout){var l,u,h;if(this.socket.isConnected()||this.socket.connect(),this.state==st.closed){const{config:{broadcast:f,presence:g,private:m}}=this.params,y=(u=(l=this.bindings.postgres_changes)===null||l===void 0?void 0:l.map(j=>j.filter))!==null&&u!==void 0?u:[],v=!!this.bindings[$i.PRESENCE]&&this.bindings[$i.PRESENCE].length>0||((h=this.params.config.presence)===null||h===void 0?void 0:h.enabled)===!0,x={},_={broadcast:f,presence:Object.assign(Object.assign({},g),{enabled:v}),postgres_changes:y,private:m};this.socket.accessTokenValue&&(x.access_token=this.socket.accessTokenValue),this._onError(j=>n?.(za.CHANNEL_ERROR,j)),this._onClose(()=>n?.(za.CLOSED)),this.updateJoinPayload(Object.assign({config:_},x)),this.joinedOnce=!0,this._rejoin(i),this.joinPush.receive("ok",async({postgres_changes:j})=>{var A;if(this.socket._isManualToken()||this.socket.setAuth(),j===void 0){n?.(za.SUBSCRIBED);return}else{const R=this.bindings.postgres_changes,N=(A=R?.length)!==null&&A!==void 0?A:0,O=[];for(let M=0;M<N;M++){const U=R[M],{filter:{event:W,schema:te,table:Y,filter:L}}=U,J=j&&j[M];if(J&&J.event===W&&Dr.isFilterValueEqual(J.schema,te)&&Dr.isFilterValueEqual(J.table,Y)&&Dr.isFilterValueEqual(J.filter,L))O.push(Object.assign(Object.assign({},U),{id:J.id}));else{this.unsubscribe(),this.state=st.errored,n?.(za.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=O,n&&n(za.SUBSCRIBED);return}}).receive("error",j=>{this.state=st.errored,n?.(za.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(j).join(", ")||"error")))}).receive("timeout",()=>{n?.(za.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,i={}){return await this.send({type:"presence",event:"track",payload:n},i.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,i,l){return this.state===st.joined&&n===$i.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(n,i,l)}async httpSend(n,i,l={}){var u;if(i==null)return Promise.reject("Payload is required for httpSend()");const h={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(h.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:h,body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:i,private:this.private}]})},g=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(u=l.timeout)!==null&&u!==void 0?u:this.timeout);if(g.status===202)return{success:!0};let m=g.statusText;try{const y=await g.json();m=y.error||y.message||m}catch{}return Promise.reject(new Error(m))}async send(n,i={}){var l,u;if(!this._canPush()&&n.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:h,payload:f}=n,g={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(g.Authorization=`Bearer ${this.socket.accessTokenValue}`);const m={method:"POST",headers:g,body:JSON.stringify({messages:[{topic:this.subTopic,event:h,payload:f,private:this.private}]})};try{const y=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(l=i.timeout)!==null&&l!==void 0?l:this.timeout);return await((u=y.body)===null||u===void 0?void 0:u.cancel()),y.ok?"ok":"error"}catch(y){return y.name==="AbortError"?"timed out":"error"}}else return new Promise(h=>{var f,g,m;const y=this._push(n.type,n,i.timeout||this.timeout);n.type==="broadcast"&&!(!((m=(g=(f=this.params)===null||f===void 0?void 0:f.config)===null||g===void 0?void 0:g.broadcast)===null||m===void 0)&&m.ack)&&h("ok"),y.receive("ok",()=>h("ok")),y.receive("error",()=>h("error")),y.receive("timeout",()=>h("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=st.leaving;const i=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(aa.close,"leave",this._joinRef())};this.joinPush.destroy();let l=null;return new Promise(u=>{l=new ou(this,aa.leave,{},n),l.receive("ok",()=>{i(),u("ok")}).receive("timeout",()=>{i(),u("timed out")}).receive("error",()=>{u("error")}),l.send(),this._canPush()||l.trigger("ok",{})}).finally(()=>{l?.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=st.closed,this.bindings={}}async _fetchWithTimeout(n,i,l){const u=new AbortController,h=setTimeout(()=>u.abort(),l),f=await this.socket.fetch(n,Object.assign(Object.assign({},i),{signal:u.signal}));return clearTimeout(h),f}_push(n,i,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let u=new ou(this,n,i,l);return this._canPush()?u.send():this._addToPushBuffer(u),u}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>dx){const i=this.pushBuffer.shift();i&&(i.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${i.event}`,i.payload))}}_onMessage(n,i,l){return i}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,i,l){var u,h;const f=n.toLocaleLowerCase(),{close:g,error:m,leave:y,join:v}=aa;if(l&&[g,m,y,v].indexOf(f)>=0&&l!==this._joinRef())return;let _=this._onMessage(f,i,l);if(i&&!_)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(u=this.bindings.postgres_changes)===null||u===void 0||u.filter(j=>{var A,R,N;return((A=j.filter)===null||A===void 0?void 0:A.event)==="*"||((N=(R=j.filter)===null||R===void 0?void 0:R.event)===null||N===void 0?void 0:N.toLocaleLowerCase())===f}).map(j=>j.callback(_,l)):(h=this.bindings[f])===null||h===void 0||h.filter(j=>{var A,R,N,O,M,U;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in j){const W=j.id,te=(A=j.filter)===null||A===void 0?void 0:A.event;return W&&((R=i.ids)===null||R===void 0?void 0:R.includes(W))&&(te==="*"||te?.toLocaleLowerCase()===((N=i.data)===null||N===void 0?void 0:N.type.toLocaleLowerCase()))}else{const W=(M=(O=j?.filter)===null||O===void 0?void 0:O.event)===null||M===void 0?void 0:M.toLocaleLowerCase();return W==="*"||W===((U=i?.event)===null||U===void 0?void 0:U.toLocaleLowerCase())}else return j.type.toLocaleLowerCase()===f}).map(j=>{if(typeof _=="object"&&"ids"in _){const A=_.data,{schema:R,table:N,commit_timestamp:O,type:M,errors:U}=A;_=Object.assign(Object.assign({},{schema:R,table:N,commit_timestamp:O,eventType:M,new:{},old:{},errors:U}),this._getPayloadRecords(A))}j.callback(_,l)})}_isClosed(){return this.state===st.closed}_isJoined(){return this.state===st.joined}_isJoining(){return this.state===st.joining}_isLeaving(){return this.state===st.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,i,l){const u=n.toLocaleLowerCase(),h={type:u,filter:i,callback:l};return this.bindings[u]?this.bindings[u].push(h):this.bindings[u]=[h],this}_off(n,i){const l=n.toLocaleLowerCase();return this.bindings[l]&&(this.bindings[l]=this.bindings[l].filter(u=>{var h;return!(((h=u.type)===null||h===void 0?void 0:h.toLocaleLowerCase())===l&&Dr.isEqual(u.filter,i))})),this}static isEqual(n,i){if(Object.keys(n).length!==Object.keys(i).length)return!1;for(const l in n)if(n[l]!==i[l])return!1;return!0}static isFilterValueEqual(n,i){return(n??void 0)===(i??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(aa.close,{},n)}_onError(n){this._on(aa.error,{},i=>n(i))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=st.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const i={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(i.new=pp(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(i.old=pp(n.columns,n.old_record)),i}}const cu=()=>{},yl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},bx=[1e3,2e3,5e3,1e4],xx=1e4,_x=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class wx{constructor(n,i){var l;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=wu,this.transport=null,this.heartbeatIntervalMs=yl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=cu,this.ref=0,this.reconnectTimer=null,this.vsn=mp,this.logger=cu,this.conn=null,this.sendBuffer=[],this.serializer=new hx,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=u=>u?(...h)=>u(...h):(...h)=>fetch(...h),!(!((l=i?.params)===null||l===void 0)&&l.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=i.params.apikey,this.endPoint=`${n}/${Su.websocket}`,this.httpEndpoint=fg(n),this._initializeOptions(i),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(i?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=sx.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const i=n.message;throw i.includes("Node.js")?new Error(`${i}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${i}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(n,i){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const l=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(l),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(n?this.conn.close(n,i??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const i=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),i}async removeAllChannels(){const n=await Promise.all(this.channels.map(i=>i.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,i,l){this.logger(n,i,l)}connectionState(){switch(this.conn&&this.conn.readyState){case dn.connecting:return Mn.Connecting;case dn.open:return Mn.Open;case dn.closing:return Mn.Closing;default:return Mn.Closed}}isConnected(){return this.connectionState()===Mn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,i={config:{}}){const l=`realtime:${n}`,u=this.getChannels().find(h=>h.topic===l);if(u)return u;{const h=new Dr(`realtime:${n}`,i,this);return this.channels.push(h),h}}push(n){const{topic:i,event:l,payload:u,ref:h}=n,f=()=>{this.encode(n,g=>{var m;(m=this.conn)===null||m===void 0||m.send(g)})};this.log("push",`${i} ${l} (${h})`,u),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(i){this.log("error","error in heartbeat callback",i)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(i){this.log("error","error in heartbeat callback",i)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(ux,"heartbeat timeout"),setTimeout(()=>{var i;this.isConnected()||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout()},yl.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(i){this.log("error","error in heartbeat callback",i)}this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let i=this.channels.find(l=>l.topic===n&&(l._isJoined()||l._isJoining()));i&&(this.log("transport",`leaving duplicate topic "${n}"`),i.unsubscribe())}_remove(n){this.channels=this.channels.filter(i=>i.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,i=>{if(i.topic==="phoenix"&&i.event==="phx_reply")try{this.heartbeatCallback(i.payload.status==="ok"?"ok":"error")}catch(y){this.log("error","error in heartbeat callback",y)}i.ref&&i.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:l,event:u,payload:h,ref:f}=i,g=f?`(${f})`:"",m=h.status||"";this.log("receive",`${m} ${l} ${u} ${g}`.trim(),h),this.channels.filter(y=>y._isMember(l)).forEach(y=>y._trigger(u,h,f)),this._triggerStateCallbacks("message",i)})}_clearTimer(n){var i;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((i=this.reconnectTimer)===null||i===void 0||i.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n),this.conn.readyState===dn.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===dn.open||this.conn.readyState===dn.connecting)try{this.conn.close()}catch(n){this.log("error","Error closing connection",n)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(i=>{this.log("error","error waiting for auth on connect",i),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=i=>{this.log("worker","worker error",i.message),this._terminateWorker()},this.workerRef.onmessage=i=>{i.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(n){var i;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n)}_triggerChanError(){this.channels.forEach(n=>n._trigger(aa.error))}_appendParams(n,i){if(Object.keys(i).length===0)return n;const l=n.match(/\?/)?"&":"?",u=new URLSearchParams(i);return`${n}${l}${u}`}_workerObjectUrl(n){let i;if(n)i=n;else{const l=new Blob([_x],{type:"application/javascript"});i=URL.createObjectURL(l)}return i}_setConnectionState(n,i=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=i)}async _performAuth(n=null){let i,l=!1;if(n)i=n,l=!0;else if(this.accessToken)try{i=await this.accessToken()}catch(u){this.log("error","Error fetching access token from callback",u),i=this.accessTokenValue}else i=this.accessTokenValue;l?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=i&&(this.accessTokenValue=i,this.channels.forEach(u=>{const h={access_token:i,version:ox};i&&u.updateJoinPayload(h),u.joinedOnce&&u._isJoined()&&u._push(aa.access_token,{access_token:i})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this._isManualToken()||this.setAuth().catch(i=>{this.log("error",`Error setting auth in ${n}`,i)})}_triggerStateCallbacks(n,i){try{this.stateChangeCallbacks[n].forEach(l=>{try{l(i)}catch(u){this.log("error",`error in ${n} callback`,u)}})}catch(l){this.log("error",`error triggering ${n} callbacks`,l)}}_setupReconnectionTimer(){this.reconnectTimer=new dg(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},yl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var i,l,u,h,f,g,m,y,v,x,_,j;switch(this.transport=(i=n?.transport)!==null&&i!==void 0?i:null,this.timeout=(l=n?.timeout)!==null&&l!==void 0?l:wu,this.heartbeatIntervalMs=(u=n?.heartbeatIntervalMs)!==null&&u!==void 0?u:yl.HEARTBEAT_INTERVAL,this.worker=(h=n?.worker)!==null&&h!==void 0?h:!1,this.accessToken=(f=n?.accessToken)!==null&&f!==void 0?f:null,this.heartbeatCallback=(g=n?.heartbeatCallback)!==null&&g!==void 0?g:cu,this.vsn=(m=n?.vsn)!==null&&m!==void 0?m:mp,n?.params&&(this.params=n.params),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(y=n?.reconnectAfterMs)!==null&&y!==void 0?y:(A=>bx[A-1]||xx),this.vsn){case ug:this.encode=(v=n?.encode)!==null&&v!==void 0?v:((A,R)=>R(JSON.stringify(A))),this.decode=(x=n?.decode)!==null&&x!==void 0?x:((A,R)=>R(JSON.parse(A)));break;case cx:this.encode=(_=n?.encode)!==null&&_!==void 0?_:this.serializer.encode.bind(this.serializer),this.decode=(j=n?.decode)!==null&&j!==void 0?j:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n?.workerUrl}}}var Ii=class extends Error{constructor(r,n){super(r),this.name="IcebergError",this.status=n.status,this.icebergType=n.icebergType,this.icebergCode=n.icebergCode,this.details=n.details,this.isCommitStateUnknown=n.icebergType==="CommitStateUnknownException"||[500,502,504].includes(n.status)&&n.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Sx(r,n,i){const l=new URL(n,r);if(i)for(const[u,h]of Object.entries(i))h!==void 0&&l.searchParams.set(u,h);return l.toString()}async function jx(r){return!r||r.type==="none"?{}:r.type==="bearer"?{Authorization:`Bearer ${r.token}`}:r.type==="header"?{[r.name]:r.value}:r.type==="custom"?await r.getHeaders():{}}function Ex(r){const n=r.fetchImpl??globalThis.fetch;return{async request({method:i,path:l,query:u,body:h,headers:f}){const g=Sx(r.baseUrl,l,u),m=await jx(r.auth),y=await n(g,{method:i,headers:{...h?{"Content-Type":"application/json"}:{},...m,...f},body:h?JSON.stringify(h):void 0}),v=await y.text(),x=(y.headers.get("content-type")||"").includes("application/json"),_=x&&v?JSON.parse(v):v;if(!y.ok){const j=x?_:void 0,A=j?.error;throw new Ii(A?.message??`Request failed with status ${y.status}`,{status:y.status,icebergType:A?.type,icebergCode:A?.code,details:j})}return{status:y.status,headers:y.headers,data:_}}}}function vl(r){return r.join("")}var Tx=class{constructor(r,n=""){this.client=r,this.prefix=n}async listNamespaces(r){const n=r?{parent:vl(r.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:n})).data.namespaces.map(l=>({namespace:l}))}async createNamespace(r,n){const i={namespace:r.namespace,properties:n?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:i})).data}async dropNamespace(r){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${vl(r.namespace)}`})}async loadNamespaceMetadata(r){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${vl(r.namespace)}`})).data.properties}}async namespaceExists(r){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${vl(r.namespace)}`}),!0}catch(n){if(n instanceof Ii&&n.status===404)return!1;throw n}}async createNamespaceIfNotExists(r,n){try{return await this.createNamespace(r,n)}catch(i){if(i instanceof Ii&&i.status===409)return;throw i}}};function jr(r){return r.join("")}var Ax=class{constructor(r,n="",i){this.client=r,this.prefix=n,this.accessDelegation=i}async listTables(r){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${jr(r.namespace)}/tables`})).data.identifiers}async createTable(r,n){const i={};return this.accessDelegation&&(i["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${jr(r.namespace)}/tables`,body:n,headers:i})).data.metadata}async updateTable(r,n){const i=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${jr(r.namespace)}/tables/${r.name}`,body:n});return{"metadata-location":i.data["metadata-location"],metadata:i.data.metadata}}async dropTable(r,n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${jr(r.namespace)}/tables/${r.name}`,query:{purgeRequested:String(n?.purge??!1)}})}async loadTable(r){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${jr(r.namespace)}/tables/${r.name}`,headers:n})).data.metadata}async tableExists(r){const n={};this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${jr(r.namespace)}/tables/${r.name}`,headers:n}),!0}catch(i){if(i instanceof Ii&&i.status===404)return!1;throw i}}async createTableIfNotExists(r,n){try{return await this.createTable(r,n)}catch(i){if(i instanceof Ii&&i.status===409)return await this.loadTable({namespace:r.namespace,name:n.name});throw i}}},Cx=class{constructor(r){let n="v1";r.catalogName&&(n+=`/${r.catalogName}`);const i=r.baseUrl.endsWith("/")?r.baseUrl:`${r.baseUrl}/`;this.client=Ex({baseUrl:i,auth:r.auth,fetchImpl:r.fetch}),this.accessDelegation=r.accessDelegation?.join(","),this.namespaceOps=new Tx(this.client,n),this.tableOps=new Ax(this.client,n,this.accessDelegation)}async listNamespaces(r){return this.namespaceOps.listNamespaces(r)}async createNamespace(r,n){return this.namespaceOps.createNamespace(r,n)}async dropNamespace(r){await this.namespaceOps.dropNamespace(r)}async loadNamespaceMetadata(r){return this.namespaceOps.loadNamespaceMetadata(r)}async listTables(r){return this.tableOps.listTables(r)}async createTable(r,n){return this.tableOps.createTable(r,n)}async updateTable(r,n){return this.tableOps.updateTable(r,n)}async dropTable(r,n){await this.tableOps.dropTable(r,n)}async loadTable(r){return this.tableOps.loadTable(r)}async namespaceExists(r){return this.namespaceOps.namespaceExists(r)}async tableExists(r){return this.tableOps.tableExists(r)}async createNamespaceIfNotExists(r,n){return this.namespaceOps.createNamespaceIfNotExists(r,n)}async createTableIfNotExists(r,n){return this.tableOps.createTableIfNotExists(r,n)}},Dl=class extends Error{constructor(r){super(r),this.__isStorageError=!0,this.name="StorageError"}};function Ve(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}var Rx=class extends Dl{constructor(r,n,i){super(r),this.name="StorageApiError",this.status=n,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Eu=class extends Dl{constructor(r,n){super(r),this.name="StorageUnknownError",this.originalError=n}};const Iu=r=>r?(...n)=>r(...n):(...n)=>fetch(...n),Nx=()=>Response,Tu=r=>{if(Array.isArray(r))return r.map(i=>Tu(i));if(typeof r=="function"||r!==Object(r))return r;const n={};return Object.entries(r).forEach(([i,l])=>{const u=i.replace(/([-_][a-z])/gi,h=>h.toUpperCase().replace(/[-_]/g,""));n[u]=Tu(l)}),n},Ox=r=>{if(typeof r!="object"||r===null)return!1;const n=Object.getPrototypeOf(r);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},kx=r=>!r||typeof r!="string"||r.length===0||r.length>100||r.trim()!==r||r.includes("/")||r.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(r);function Vi(r){"@babel/helpers - typeof";return Vi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Vi(r)}function Dx(r,n){if(Vi(r)!="object"||!r)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var l=i.call(r,n);if(Vi(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(r)}function zx(r){var n=Dx(r,"string");return Vi(n)=="symbol"?n:n+""}function Ux(r,n,i){return(n=zx(n))in r?Object.defineProperty(r,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[n]=i,r}function vp(r,n){var i=Object.keys(r);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(r);n&&(l=l.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),i.push.apply(i,l)}return i}function de(r){for(var n=1;n<arguments.length;n++){var i=arguments[n]!=null?arguments[n]:{};n%2?vp(Object(i),!0).forEach(function(l){Ux(r,l,i[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):vp(Object(i)).forEach(function(l){Object.defineProperty(r,l,Object.getOwnPropertyDescriptor(i,l))})}return r}const uu=r=>{var n;return r.msg||r.message||r.error_description||(typeof r.error=="string"?r.error:(n=r.error)===null||n===void 0?void 0:n.message)||JSON.stringify(r)},Mx=async(r,n,i)=>{r instanceof await Nx()&&!i?.noResolveJson?r.json().then(l=>{const u=r.status||500,h=l?.statusCode||u+"";n(new Rx(uu(l),u,h))}).catch(l=>{n(new Eu(uu(l),l))}):n(new Eu(uu(r),r))},Bx=(r,n,i,l)=>{const u={method:r,headers:n?.headers||{}};return r==="GET"||!l?u:(Ox(l)?(u.headers=de({"Content-Type":"application/json"},n?.headers),u.body=JSON.stringify(l)):u.body=l,n?.duplex&&(u.duplex=n.duplex),de(de({},u),i))};async function Zi(r,n,i,l,u,h){return new Promise((f,g)=>{r(i,Bx(n,l,u,h)).then(m=>{if(!m.ok)throw m;return l?.noResolveJson?m:m.json()}).then(m=>f(m)).catch(m=>Mx(m,g,l))})}async function Ki(r,n,i,l){return Zi(r,"GET",n,i,l)}async function ta(r,n,i,l,u){return Zi(r,"POST",n,l,u,i)}async function Au(r,n,i,l,u){return Zi(r,"PUT",n,l,u,i)}async function Lx(r,n,i,l){return Zi(r,"HEAD",n,de(de({},i),{},{noResolveJson:!0}),l)}async function Vu(r,n,i,l,u){return Zi(r,"DELETE",n,l,u,i)}var qx=class{constructor(r,n){this.downloadFn=r,this.shouldThrowOnError=n}then(r,n){return this.execute().then(r,n)}async execute(){var r=this;try{return{data:(await r.downloadFn()).body,error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ve(n))return{data:null,error:n};throw n}}};let mg;mg=Symbol.toStringTag;var $x=class{constructor(r,n){this.downloadFn=r,this.shouldThrowOnError=n,this[mg]="BlobDownloadBuilder",this.promise=null}asStream(){return new qx(this.downloadFn,this.shouldThrowOnError)}then(r,n){return this.getPromise().then(r,n)}catch(r){return this.getPromise().catch(r)}finally(r){return this.getPromise().finally(r)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var r=this;try{return{data:await(await r.downloadFn()).blob(),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ve(n))return{data:null,error:n};throw n}}};const Hx={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},bp={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Gx=class{constructor(r,n={},i,l){this.shouldThrowOnError=!1,this.url=r,this.headers=n,this.bucketId=i,this.fetch=Iu(l)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(r,n,i,l){var u=this;try{let h;const f=de(de({},bp),l);let g=de(de({},u.headers),r==="POST"&&{"x-upsert":String(f.upsert)});const m=f.metadata;typeof Blob<"u"&&i instanceof Blob?(h=new FormData,h.append("cacheControl",f.cacheControl),m&&h.append("metadata",u.encodeMetadata(m)),h.append("",i)):typeof FormData<"u"&&i instanceof FormData?(h=i,h.has("cacheControl")||h.append("cacheControl",f.cacheControl),m&&!h.has("metadata")&&h.append("metadata",u.encodeMetadata(m))):(h=i,g["cache-control"]=`max-age=${f.cacheControl}`,g["content-type"]=f.contentType,m&&(g["x-metadata"]=u.toBase64(u.encodeMetadata(m))),(typeof ReadableStream<"u"&&h instanceof ReadableStream||h&&typeof h=="object"&&"pipe"in h&&typeof h.pipe=="function")&&!f.duplex&&(f.duplex="half")),l?.headers&&(g=de(de({},g),l.headers));const y=u._removeEmptyFolders(n),v=u._getFinalPath(y),x=await(r=="PUT"?Au:ta)(u.fetch,`${u.url}/object/${v}`,h,de({headers:g},f?.duplex?{duplex:f.duplex}:{}));return{data:{path:y,id:x.Id,fullPath:x.Key},error:null}}catch(h){if(u.shouldThrowOnError)throw h;if(Ve(h))return{data:null,error:h};throw h}}async upload(r,n,i){return this.uploadOrUpdate("POST",r,n,i)}async uploadToSignedUrl(r,n,i,l){var u=this;const h=u._removeEmptyFolders(r),f=u._getFinalPath(h),g=new URL(u.url+`/object/upload/sign/${f}`);g.searchParams.set("token",n);try{let m;const y=de({upsert:bp.upsert},l),v=de(de({},u.headers),{"x-upsert":String(y.upsert)});return typeof Blob<"u"&&i instanceof Blob?(m=new FormData,m.append("cacheControl",y.cacheControl),m.append("",i)):typeof FormData<"u"&&i instanceof FormData?(m=i,m.append("cacheControl",y.cacheControl)):(m=i,v["cache-control"]=`max-age=${y.cacheControl}`,v["content-type"]=y.contentType),{data:{path:h,fullPath:(await Au(u.fetch,g.toString(),m,{headers:v})).Key},error:null}}catch(m){if(u.shouldThrowOnError)throw m;if(Ve(m))return{data:null,error:m};throw m}}async createSignedUploadUrl(r,n){var i=this;try{let l=i._getFinalPath(r);const u=de({},i.headers);n?.upsert&&(u["x-upsert"]="true");const h=await ta(i.fetch,`${i.url}/object/upload/sign/${l}`,{},{headers:u}),f=new URL(i.url+h.url),g=f.searchParams.get("token");if(!g)throw new Dl("No token returned by API");return{data:{signedUrl:f.toString(),path:r,token:g},error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(Ve(l))return{data:null,error:l};throw l}}async update(r,n,i){return this.uploadOrUpdate("PUT",r,n,i)}async move(r,n,i){var l=this;try{return{data:await ta(l.fetch,`${l.url}/object/move`,{bucketId:l.bucketId,sourceKey:r,destinationKey:n,destinationBucket:i?.destinationBucket},{headers:l.headers}),error:null}}catch(u){if(l.shouldThrowOnError)throw u;if(Ve(u))return{data:null,error:u};throw u}}async copy(r,n,i){var l=this;try{return{data:{path:(await ta(l.fetch,`${l.url}/object/copy`,{bucketId:l.bucketId,sourceKey:r,destinationKey:n,destinationBucket:i?.destinationBucket},{headers:l.headers})).Key},error:null}}catch(u){if(l.shouldThrowOnError)throw u;if(Ve(u))return{data:null,error:u};throw u}}async createSignedUrl(r,n,i){var l=this;try{let u=l._getFinalPath(r),h=await ta(l.fetch,`${l.url}/object/sign/${u}`,de({expiresIn:n},i?.transform?{transform:i.transform}:{}),{headers:l.headers});const f=i?.download?`&download=${i.download===!0?"":i.download}`:"";return h={signedUrl:encodeURI(`${l.url}${h.signedURL}${f}`)},{data:h,error:null}}catch(u){if(l.shouldThrowOnError)throw u;if(Ve(u))return{data:null,error:u};throw u}}async createSignedUrls(r,n,i){var l=this;try{const u=await ta(l.fetch,`${l.url}/object/sign/${l.bucketId}`,{expiresIn:n,paths:r},{headers:l.headers}),h=i?.download?`&download=${i.download===!0?"":i.download}`:"";return{data:u.map(f=>de(de({},f),{},{signedUrl:f.signedURL?encodeURI(`${l.url}${f.signedURL}${h}`):null})),error:null}}catch(u){if(l.shouldThrowOnError)throw u;if(Ve(u))return{data:null,error:u};throw u}}download(r,n){const i=typeof n?.transform<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString(n?.transform||{}),u=l?`?${l}`:"",h=this._getFinalPath(r),f=()=>Ki(this.fetch,`${this.url}/${i}/${h}${u}`,{headers:this.headers,noResolveJson:!0});return new $x(f,this.shouldThrowOnError)}async info(r){var n=this;const i=n._getFinalPath(r);try{return{data:Tu(await Ki(n.fetch,`${n.url}/object/info/${i}`,{headers:n.headers})),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Ve(l))return{data:null,error:l};throw l}}async exists(r){var n=this;const i=n._getFinalPath(r);try{return await Lx(n.fetch,`${n.url}/object/${i}`,{headers:n.headers}),{data:!0,error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Ve(l)&&l instanceof Eu){const u=l.originalError;if([400,404].includes(u?.status))return{data:!1,error:l}}throw l}}getPublicUrl(r,n){const i=this._getFinalPath(r),l=[],u=n?.download?`download=${n.download===!0?"":n.download}`:"";u!==""&&l.push(u);const h=typeof n?.transform<"u"?"render/image":"object",f=this.transformOptsToQueryString(n?.transform||{});f!==""&&l.push(f);let g=l.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${i}${g}`)}}}async remove(r){var n=this;try{return{data:await Vu(n.fetch,`${n.url}/object/${n.bucketId}`,{prefixes:r},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Ve(i))return{data:null,error:i};throw i}}async list(r,n,i){var l=this;try{const u=de(de(de({},Hx),n),{},{prefix:r||""});return{data:await ta(l.fetch,`${l.url}/object/list/${l.bucketId}`,u,{headers:l.headers},i),error:null}}catch(u){if(l.shouldThrowOnError)throw u;if(Ve(u))return{data:null,error:u};throw u}}async listV2(r,n){var i=this;try{const l=de({},r);return{data:await ta(i.fetch,`${i.url}/object/list-v2/${i.bucketId}`,l,{headers:i.headers},n),error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(Ve(l))return{data:null,error:l};throw l}}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r.replace(/^\/+/,"")}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const n=[];return r.width&&n.push(`width=${r.width}`),r.height&&n.push(`height=${r.height}`),r.resize&&n.push(`resize=${r.resize}`),r.format&&n.push(`format=${r.format}`),r.quality&&n.push(`quality=${r.quality}`),n.join("&")}};const pg="2.89.0",gg={"X-Client-Info":`storage-js/${pg}`};var Ix=class{constructor(r,n={},i,l){this.shouldThrowOnError=!1;const u=new URL(r);l?.useNewHostname&&/supabase\.(co|in|red)$/.test(u.hostname)&&!u.hostname.includes("storage.supabase.")&&(u.hostname=u.hostname.replace("supabase.","storage.supabase.")),this.url=u.href.replace(/\/$/,""),this.headers=de(de({},gg),n),this.fetch=Iu(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(r){var n=this;try{const i=n.listBucketOptionsToQueryString(r);return{data:await Ki(n.fetch,`${n.url}/bucket${i}`,{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Ve(i))return{data:null,error:i};throw i}}async getBucket(r){var n=this;try{return{data:await Ki(n.fetch,`${n.url}/bucket/${r}`,{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Ve(i))return{data:null,error:i};throw i}}async createBucket(r,n={public:!1}){var i=this;try{return{data:await ta(i.fetch,`${i.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:i.headers}),error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(Ve(l))return{data:null,error:l};throw l}}async updateBucket(r,n){var i=this;try{return{data:await Au(i.fetch,`${i.url}/bucket/${r}`,{id:r,name:r,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:i.headers}),error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(Ve(l))return{data:null,error:l};throw l}}async emptyBucket(r){var n=this;try{return{data:await ta(n.fetch,`${n.url}/bucket/${r}/empty`,{},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Ve(i))return{data:null,error:i};throw i}}async deleteBucket(r){var n=this;try{return{data:await Vu(n.fetch,`${n.url}/bucket/${r}`,{},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Ve(i))return{data:null,error:i};throw i}}listBucketOptionsToQueryString(r){const n={};return r&&("limit"in r&&(n.limit=String(r.limit)),"offset"in r&&(n.offset=String(r.offset)),r.search&&(n.search=r.search),r.sortColumn&&(n.sortColumn=r.sortColumn),r.sortOrder&&(n.sortOrder=r.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}},Vx=class{constructor(r,n={},i){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=de(de({},gg),n),this.fetch=Iu(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(r){var n=this;try{return{data:await ta(n.fetch,`${n.url}/bucket`,{name:r},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Ve(i))return{data:null,error:i};throw i}}async listBuckets(r){var n=this;try{const i=new URLSearchParams;r?.limit!==void 0&&i.set("limit",r.limit.toString()),r?.offset!==void 0&&i.set("offset",r.offset.toString()),r?.sortColumn&&i.set("sortColumn",r.sortColumn),r?.sortOrder&&i.set("sortOrder",r.sortOrder),r?.search&&i.set("search",r.search);const l=i.toString(),u=l?`${n.url}/bucket?${l}`:`${n.url}/bucket`;return{data:await Ki(n.fetch,u,{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Ve(i))return{data:null,error:i};throw i}}async deleteBucket(r){var n=this;try{return{data:await Vu(n.fetch,`${n.url}/bucket/${r}`,{},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Ve(i))return{data:null,error:i};throw i}}from(r){var n=this;if(!kx(r))throw new Dl("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const i=new Cx({baseUrl:this.url,catalogName:r,auth:{type:"custom",getHeaders:async()=>n.headers},fetch:this.fetch}),l=this.shouldThrowOnError;return new Proxy(i,{get(u,h){const f=u[h];return typeof f!="function"?f:async(...g)=>{try{return{data:await f.apply(u,g),error:null}}catch(m){if(l)throw m;return{data:null,error:m}}}}})}};const Ku={"X-Client-Info":`storage-js/${pg}`,"Content-Type":"application/json"};var yg=class extends Error{constructor(r){super(r),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Bt(r){return typeof r=="object"&&r!==null&&"__isStorageVectorsError"in r}var du=class extends yg{constructor(r,n,i){super(r),this.name="StorageVectorsApiError",this.status=n,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Kx=class extends yg{constructor(r,n){super(r),this.name="StorageVectorsUnknownError",this.originalError=n}};const Yu=r=>r?(...n)=>r(...n):(...n)=>fetch(...n),Yx=r=>{if(typeof r!="object"||r===null)return!1;const n=Object.getPrototypeOf(r);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},xp=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),Xx=async(r,n,i)=>{if(r&&typeof r=="object"&&"status"in r&&"ok"in r&&typeof r.status=="number"&&!i?.noResolveJson){const l=r.status||500,u=r;if(typeof u.json=="function")u.json().then(h=>{const f=h?.statusCode||h?.code||l+"";n(new du(xp(h),l,f))}).catch(()=>{const h=l+"";n(new du(u.statusText||`HTTP ${l} error`,l,h))});else{const h=l+"";n(new du(u.statusText||`HTTP ${l} error`,l,h))}}else n(new Kx(xp(r),r))},Px=(r,n,i,l)=>{const u={method:r,headers:n?.headers||{}};return l?(Yx(l)?(u.headers=de({"Content-Type":"application/json"},n?.headers),u.body=JSON.stringify(l)):u.body=l,de(de({},u),i)):u};async function Jx(r,n,i,l,u,h){return new Promise((f,g)=>{r(i,Px(n,l,u,h)).then(m=>{if(!m.ok)throw m;if(l?.noResolveJson)return m;const y=m.headers.get("content-type");return!y||!y.includes("application/json")?{}:m.json()}).then(m=>f(m)).catch(m=>Xx(m,g,l))})}async function Lt(r,n,i,l,u){return Jx(r,"POST",n,l,u,i)}var Qx=class{constructor(r,n={},i){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=de(de({},Ku),n),this.fetch=Yu(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(r){var n=this;try{return{data:await Lt(n.fetch,`${n.url}/CreateIndex`,r,{headers:n.headers})||{},error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Bt(i))return{data:null,error:i};throw i}}async getIndex(r,n){var i=this;try{return{data:await Lt(i.fetch,`${i.url}/GetIndex`,{vectorBucketName:r,indexName:n},{headers:i.headers}),error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(Bt(l))return{data:null,error:l};throw l}}async listIndexes(r){var n=this;try{return{data:await Lt(n.fetch,`${n.url}/ListIndexes`,r,{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Bt(i))return{data:null,error:i};throw i}}async deleteIndex(r,n){var i=this;try{return{data:await Lt(i.fetch,`${i.url}/DeleteIndex`,{vectorBucketName:r,indexName:n},{headers:i.headers})||{},error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(Bt(l))return{data:null,error:l};throw l}}},Fx=class{constructor(r,n={},i){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=de(de({},Ku),n),this.fetch=Yu(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(r){var n=this;try{if(r.vectors.length<1||r.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Lt(n.fetch,`${n.url}/PutVectors`,r,{headers:n.headers})||{},error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Bt(i))return{data:null,error:i};throw i}}async getVectors(r){var n=this;try{return{data:await Lt(n.fetch,`${n.url}/GetVectors`,r,{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Bt(i))return{data:null,error:i};throw i}}async listVectors(r){var n=this;try{if(r.segmentCount!==void 0){if(r.segmentCount<1||r.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(r.segmentIndex!==void 0&&(r.segmentIndex<0||r.segmentIndex>=r.segmentCount))throw new Error(`segmentIndex must be between 0 and ${r.segmentCount-1}`)}return{data:await Lt(n.fetch,`${n.url}/ListVectors`,r,{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Bt(i))return{data:null,error:i};throw i}}async queryVectors(r){var n=this;try{return{data:await Lt(n.fetch,`${n.url}/QueryVectors`,r,{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Bt(i))return{data:null,error:i};throw i}}async deleteVectors(r){var n=this;try{if(r.keys.length<1||r.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Lt(n.fetch,`${n.url}/DeleteVectors`,r,{headers:n.headers})||{},error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Bt(i))return{data:null,error:i};throw i}}},Zx=class{constructor(r,n={},i){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=de(de({},Ku),n),this.fetch=Yu(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(r){var n=this;try{return{data:await Lt(n.fetch,`${n.url}/CreateVectorBucket`,{vectorBucketName:r},{headers:n.headers})||{},error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Bt(i))return{data:null,error:i};throw i}}async getBucket(r){var n=this;try{return{data:await Lt(n.fetch,`${n.url}/GetVectorBucket`,{vectorBucketName:r},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Bt(i))return{data:null,error:i};throw i}}async listBuckets(r={}){var n=this;try{return{data:await Lt(n.fetch,`${n.url}/ListVectorBuckets`,r,{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Bt(i))return{data:null,error:i};throw i}}async deleteBucket(r){var n=this;try{return{data:await Lt(n.fetch,`${n.url}/DeleteVectorBucket`,{vectorBucketName:r},{headers:n.headers})||{},error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Bt(i))return{data:null,error:i};throw i}}},Wx=class extends Zx{constructor(r,n={}){super(r,n.headers||{},n.fetch)}from(r){return new e1(this.url,this.headers,r,this.fetch)}async createBucket(r){var n=()=>super.createBucket,i=this;return n().call(i,r)}async getBucket(r){var n=()=>super.getBucket,i=this;return n().call(i,r)}async listBuckets(r={}){var n=()=>super.listBuckets,i=this;return n().call(i,r)}async deleteBucket(r){var n=()=>super.deleteBucket,i=this;return n().call(i,r)}},e1=class extends Qx{constructor(r,n,i,l){super(r,n,l),this.vectorBucketName=i}async createIndex(r){var n=()=>super.createIndex,i=this;return n().call(i,de(de({},r),{},{vectorBucketName:i.vectorBucketName}))}async listIndexes(r={}){var n=()=>super.listIndexes,i=this;return n().call(i,de(de({},r),{},{vectorBucketName:i.vectorBucketName}))}async getIndex(r){var n=()=>super.getIndex,i=this;return n().call(i,i.vectorBucketName,r)}async deleteIndex(r){var n=()=>super.deleteIndex,i=this;return n().call(i,i.vectorBucketName,r)}index(r){return new t1(this.url,this.headers,this.vectorBucketName,r,this.fetch)}},t1=class extends Fx{constructor(r,n,i,l,u){super(r,n,u),this.vectorBucketName=i,this.indexName=l}async putVectors(r){var n=()=>super.putVectors,i=this;return n().call(i,de(de({},r),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async getVectors(r){var n=()=>super.getVectors,i=this;return n().call(i,de(de({},r),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async listVectors(r={}){var n=()=>super.listVectors,i=this;return n().call(i,de(de({},r),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async queryVectors(r){var n=()=>super.queryVectors,i=this;return n().call(i,de(de({},r),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async deleteVectors(r){var n=()=>super.deleteVectors,i=this;return n().call(i,de(de({},r),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}},a1=class extends Ix{constructor(r,n={},i,l){super(r,n,i,l)}from(r){return new Gx(this.url,this.headers,r,this.fetch)}get vectors(){return new Wx(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Vx(this.url+"/iceberg",this.headers,this.fetch)}};const vg="2.89.0",Or=30*1e3,Cu=3,hu=Cu*Or,n1="http://localhost:9999",r1="supabase.auth.token",i1={"X-Client-Info":`gotrue-js/${vg}`},Ru="X-Supabase-Api-Version",bg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},s1=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,l1=600*1e3;class Yi extends Error{constructor(n,i,l){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=i,this.code=l}}function ne(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class o1 extends Yi{constructor(n,i,l){super(n,i,l),this.name="AuthApiError",this.status=i,this.code=l}}function c1(r){return ne(r)&&r.name==="AuthApiError"}class Bn extends Yi{constructor(n,i){super(n),this.name="AuthUnknownError",this.originalError=i}}class Ba extends Yi{constructor(n,i,l,u){super(n,l,u),this.name=i,this.status=l}}class Mt extends Ba{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function u1(r){return ne(r)&&r.name==="AuthSessionMissingError"}class Er extends Ba{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class bl extends Ba{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class xl extends Ba{constructor(n,i=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function d1(r){return ne(r)&&r.name==="AuthImplicitGrantRedirectError"}class _p extends Ba{constructor(n,i=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class h1 extends Ba{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Nu extends Ba{constructor(n,i){super(n,"AuthRetryableFetchError",i,void 0)}}function fu(r){return ne(r)&&r.name==="AuthRetryableFetchError"}class wp extends Ba{constructor(n,i,l){super(n,"AuthWeakPasswordError",i,"weak_password"),this.reasons=l}}class Ou extends Ba{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const Tl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Sp=` 	
\r=`.split(""),f1=(()=>{const r=new Array(128);for(let n=0;n<r.length;n+=1)r[n]=-1;for(let n=0;n<Sp.length;n+=1)r[Sp[n].charCodeAt(0)]=-2;for(let n=0;n<Tl.length;n+=1)r[Tl[n].charCodeAt(0)]=n;return r})();function jp(r,n,i){if(r!==null)for(n.queue=n.queue<<8|r,n.queuedBits+=8;n.queuedBits>=6;){const l=n.queue>>n.queuedBits-6&63;i(Tl[l]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const l=n.queue>>n.queuedBits-6&63;i(Tl[l]),n.queuedBits-=6}}function xg(r,n,i){const l=f1[r];if(l>-1)for(n.queue=n.queue<<6|l,n.queuedBits+=6;n.queuedBits>=8;)i(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(l===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function Ep(r){const n=[],i=f=>{n.push(String.fromCodePoint(f))},l={utf8seq:0,codepoint:0},u={queue:0,queuedBits:0},h=f=>{g1(f,l,i)};for(let f=0;f<r.length;f+=1)xg(r.charCodeAt(f),u,h);return n.join("")}function m1(r,n){if(r<=127){n(r);return}else if(r<=2047){n(192|r>>6),n(128|r&63);return}else if(r<=65535){n(224|r>>12),n(128|r>>6&63),n(128|r&63);return}else if(r<=1114111){n(240|r>>18),n(128|r>>12&63),n(128|r>>6&63),n(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function p1(r,n){for(let i=0;i<r.length;i+=1){let l=r.charCodeAt(i);if(l>55295&&l<=56319){const u=(l-55296)*1024&65535;l=(r.charCodeAt(i+1)-56320&65535|u)+65536,i+=1}m1(l,n)}}function g1(r,n,i){if(n.utf8seq===0){if(r<=127){i(r);return}for(let l=1;l<6;l+=1)if((r>>7-l&1)===0){n.utf8seq=l;break}if(n.utf8seq===2)n.codepoint=r&31;else if(n.utf8seq===3)n.codepoint=r&15;else if(n.utf8seq===4)n.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|r&63,n.utf8seq-=1,n.utf8seq===0&&i(n.codepoint)}}function Ur(r){const n=[],i={queue:0,queuedBits:0},l=u=>{n.push(u)};for(let u=0;u<r.length;u+=1)xg(r.charCodeAt(u),i,l);return new Uint8Array(n)}function y1(r){const n=[];return p1(r,i=>n.push(i)),new Uint8Array(n)}function Ln(r){const n=[],i={queue:0,queuedBits:0},l=u=>{n.push(u)};return r.forEach(u=>jp(u,i,l)),jp(null,i,l),n.join("")}function v1(r){return Math.round(Date.now()/1e3)+r}function b1(){return Symbol("auth-callback")}const gt=()=>typeof window<"u"&&typeof document<"u",kn={tested:!1,writable:!1},_g=()=>{if(!gt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(kn.tested)return kn.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),kn.tested=!0,kn.writable=!0}catch{kn.tested=!0,kn.writable=!1}return kn.writable};function x1(r){const n={},i=new URL(r);if(i.hash&&i.hash[0]==="#")try{new URLSearchParams(i.hash.substring(1)).forEach((u,h)=>{n[h]=u})}catch{}return i.searchParams.forEach((l,u)=>{n[u]=l}),n}const wg=r=>r?(...n)=>r(...n):(...n)=>fetch(...n),_1=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",kr=async(r,n,i)=>{await r.setItem(n,JSON.stringify(i))},Dn=async(r,n)=>{const i=await r.getItem(n);if(!i)return null;try{return JSON.parse(i)}catch{return i}},pt=async(r,n)=>{await r.removeItem(n)};class zl{constructor(){this.promise=new zl.promiseConstructor((n,i)=>{this.resolve=n,this.reject=i})}}zl.promiseConstructor=Promise;function mu(r){const n=r.split(".");if(n.length!==3)throw new Ou("Invalid JWT structure");for(let l=0;l<n.length;l++)if(!s1.test(n[l]))throw new Ou("JWT not in base64url format");return{header:JSON.parse(Ep(n[0])),payload:JSON.parse(Ep(n[1])),signature:Ur(n[2]),raw:{header:n[0],payload:n[1]}}}async function w1(r){return await new Promise(n=>{setTimeout(()=>n(null),r)})}function S1(r,n){return new Promise((l,u)=>{(async()=>{for(let h=0;h<1/0;h++)try{const f=await r(h);if(!n(h,null,f)){l(f);return}}catch(f){if(!n(h,f)){u(f);return}}})()})}function j1(r){return("0"+r.toString(16)).substr(-2)}function E1(){const n=new Uint32Array(56);if(typeof crypto>"u"){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=i.length;let u="";for(let h=0;h<56;h++)u+=i.charAt(Math.floor(Math.random()*l));return u}return crypto.getRandomValues(n),Array.from(n,j1).join("")}async function T1(r){const i=new TextEncoder().encode(r),l=await crypto.subtle.digest("SHA-256",i),u=new Uint8Array(l);return Array.from(u).map(h=>String.fromCharCode(h)).join("")}async function A1(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const i=await T1(r);return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Tr(r,n,i=!1){const l=E1();let u=l;i&&(u+="/PASSWORD_RECOVERY"),await kr(r,`${n}-code-verifier`,u);const h=await A1(l);return[h,l===h?"plain":"s256"]}const C1=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function R1(r){const n=r.headers.get(Ru);if(!n||!n.match(C1))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function N1(r){if(!r)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(r<=n)throw new Error("JWT has expired")}function O1(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const k1=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ar(r){if(!k1.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function pu(){const r={};return new Proxy(r,{get:(n,i)=>{if(i==="__isUserNotAvailableProxy")return!0;if(typeof i=="symbol"){const l=i.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${i}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function D1(r,n){return new Proxy(r,{get:(i,l,u)=>{if(l==="__isInsecureUserWarningProxy")return!0;if(typeof l=="symbol"){const h=l.toString();if(h==="Symbol(Symbol.toPrimitive)"||h==="Symbol(Symbol.toStringTag)"||h==="Symbol(util.inspect.custom)"||h==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(i,l,u)}return!n.value&&typeof l=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),n.value=!0),Reflect.get(i,l,u)}})}function Tp(r){return JSON.parse(JSON.stringify(r))}const zn=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),z1=[502,503,504];async function Ap(r){var n;if(!_1(r))throw new Nu(zn(r),0);if(z1.includes(r.status))throw new Nu(zn(r),r.status);let i;try{i=await r.json()}catch(h){throw new Bn(zn(h),h)}let l;const u=R1(r);if(u&&u.getTime()>=bg["2024-01-01"].timestamp&&typeof i=="object"&&i&&typeof i.code=="string"?l=i.code:typeof i=="object"&&i&&typeof i.error_code=="string"&&(l=i.error_code),l){if(l==="weak_password")throw new wp(zn(i),r.status,((n=i.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(l==="session_not_found")throw new Mt}else if(typeof i=="object"&&i&&typeof i.weak_password=="object"&&i.weak_password&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.reasons.reduce((h,f)=>h&&typeof f=="string",!0))throw new wp(zn(i),r.status,i.weak_password.reasons);throw new o1(zn(i),r.status||500,l)}const U1=(r,n,i,l)=>{const u={method:r,headers:n?.headers||{}};return r==="GET"?u:(u.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),u.body=JSON.stringify(l),Object.assign(Object.assign({},u),i))};async function ue(r,n,i,l){var u;const h=Object.assign({},l?.headers);h[Ru]||(h[Ru]=bg["2024-01-01"].name),l?.jwt&&(h.Authorization=`Bearer ${l.jwt}`);const f=(u=l?.query)!==null&&u!==void 0?u:{};l?.redirectTo&&(f.redirect_to=l.redirectTo);const g=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",m=await M1(r,n,i+g,{headers:h,noResolveJson:l?.noResolveJson},{},l?.body);return l?.xform?l?.xform(m):{data:Object.assign({},m),error:null}}async function M1(r,n,i,l,u,h){const f=U1(n,l,u,h);let g;try{g=await r(i,Object.assign({},f))}catch(m){throw console.error(m),new Nu(zn(m),0)}if(g.ok||await Ap(g),l?.noResolveJson)return g;try{return await g.json()}catch(m){await Ap(m)}}function ea(r){var n;let i=null;q1(r)&&(i=Object.assign({},r),r.expires_at||(i.expires_at=v1(r.expires_in)));const l=(n=r.user)!==null&&n!==void 0?n:r;return{data:{session:i,user:l},error:null}}function Cp(r){const n=ea(r);return!n.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((i,l)=>i&&typeof l=="string",!0)&&(n.data.weak_password=r.weak_password),n}function hn(r){var n;return{data:{user:(n=r.user)!==null&&n!==void 0?n:r},error:null}}function B1(r){return{data:r,error:null}}function L1(r){const{action_link:n,email_otp:i,hashed_token:l,redirect_to:u,verification_type:h}=r,f=kl(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),g={action_link:n,email_otp:i,hashed_token:l,redirect_to:u,verification_type:h},m=Object.assign({},f);return{data:{properties:g,user:m},error:null}}function Rp(r){return r}function q1(r){return r.access_token&&r.refresh_token&&r.expires_in}const gu=["global","local","others"];class $1{constructor({url:n="",headers:i={},fetch:l}){this.url=n,this.headers=i,this.fetch=wg(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(n,i=gu[0]){if(gu.indexOf(i)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${gu.join(", ")}`);try{return await ue(this.fetch,"POST",`${this.url}/logout?scope=${i}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(l){if(ne(l))return{data:null,error:l};throw l}}async inviteUserByEmail(n,i={}){try{return await ue(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:i.data},headers:this.headers,redirectTo:i.redirectTo,xform:hn})}catch(l){if(ne(l))return{data:{user:null},error:l};throw l}}async generateLink(n){try{const{options:i}=n,l=kl(n,["options"]),u=Object.assign(Object.assign({},l),i);return"newEmail"in l&&(u.new_email=l?.newEmail,delete u.newEmail),await ue(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:u,headers:this.headers,xform:L1,redirectTo:i?.redirectTo})}catch(i){if(ne(i))return{data:{properties:null,user:null},error:i};throw i}}async createUser(n){try{return await ue(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:hn})}catch(i){if(ne(i))return{data:{user:null},error:i};throw i}}async listUsers(n){var i,l,u,h,f,g,m;try{const y={nextPage:null,lastPage:0,total:0},v=await ue(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(i=n?.page)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:"",per_page:(h=(u=n?.perPage)===null||u===void 0?void 0:u.toString())!==null&&h!==void 0?h:""},xform:Rp});if(v.error)throw v.error;const x=await v.json(),_=(f=v.headers.get("x-total-count"))!==null&&f!==void 0?f:0,j=(m=(g=v.headers.get("link"))===null||g===void 0?void 0:g.split(","))!==null&&m!==void 0?m:[];return j.length>0&&(j.forEach(A=>{const R=parseInt(A.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(A.split(";")[1].split("=")[1]);y[`${N}Page`]=R}),y.total=parseInt(_)),{data:Object.assign(Object.assign({},x),y),error:null}}catch(y){if(ne(y))return{data:{users:[]},error:y};throw y}}async getUserById(n){Ar(n);try{return await ue(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:hn})}catch(i){if(ne(i))return{data:{user:null},error:i};throw i}}async updateUserById(n,i){Ar(n);try{return await ue(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:i,headers:this.headers,xform:hn})}catch(l){if(ne(l))return{data:{user:null},error:l};throw l}}async deleteUser(n,i=!1){Ar(n);try{return await ue(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:i},xform:hn})}catch(l){if(ne(l))return{data:{user:null},error:l};throw l}}async _listFactors(n){Ar(n.userId);try{const{data:i,error:l}=await ue(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:u=>({data:{factors:u},error:null})});return{data:i,error:l}}catch(i){if(ne(i))return{data:null,error:i};throw i}}async _deleteFactor(n){Ar(n.userId),Ar(n.id);try{return{data:await ue(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(i){if(ne(i))return{data:null,error:i};throw i}}async _listOAuthClients(n){var i,l,u,h,f,g,m;try{const y={nextPage:null,lastPage:0,total:0},v=await ue(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(i=n?.page)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:"",per_page:(h=(u=n?.perPage)===null||u===void 0?void 0:u.toString())!==null&&h!==void 0?h:""},xform:Rp});if(v.error)throw v.error;const x=await v.json(),_=(f=v.headers.get("x-total-count"))!==null&&f!==void 0?f:0,j=(m=(g=v.headers.get("link"))===null||g===void 0?void 0:g.split(","))!==null&&m!==void 0?m:[];return j.length>0&&(j.forEach(A=>{const R=parseInt(A.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(A.split(";")[1].split("=")[1]);y[`${N}Page`]=R}),y.total=parseInt(_)),{data:Object.assign(Object.assign({},x),y),error:null}}catch(y){if(ne(y))return{data:{clients:[]},error:y};throw y}}async _createOAuthClient(n){try{return await ue(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:n,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(ne(i))return{data:null,error:i};throw i}}async _getOAuthClient(n){try{return await ue(this.fetch,"GET",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(ne(i))return{data:null,error:i};throw i}}async _updateOAuthClient(n,i){try{return await ue(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${n}`,{body:i,headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(ne(l))return{data:null,error:l};throw l}}async _deleteOAuthClient(n){try{return await ue(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(i){if(ne(i))return{data:null,error:i};throw i}}async _regenerateOAuthClientSecret(n){try{return await ue(this.fetch,"POST",`${this.url}/admin/oauth/clients/${n}/regenerate_secret`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(ne(i))return{data:null,error:i};throw i}}}function Np(r={}){return{getItem:n=>r[n]||null,setItem:(n,i)=>{r[n]=i},removeItem:n=>{delete r[n]}}}const Cr={debug:!!(globalThis&&_g()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Sg extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class H1 extends Sg{}async function G1(r,n,i){Cr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,n);const l=new globalThis.AbortController;return n>0&&setTimeout(()=>{l.abort(),Cr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:l.signal},async u=>{if(u){Cr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,u.name);try{return await i()}finally{Cr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,u.name)}}else{if(n===0)throw Cr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new H1(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(Cr.debug)try{const h=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(h,null,"  "))}catch(h){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",h)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await i()}}))}function I1(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function jg(r){if(!/^0x[a-fA-F0-9]{40}$/.test(r))throw new Error(`@supabase/auth-js: Address "${r}" is invalid.`);return r.toLowerCase()}function V1(r){return parseInt(r,16)}function K1(r){const n=new TextEncoder().encode(r);return"0x"+Array.from(n,l=>l.toString(16).padStart(2,"0")).join("")}function Y1(r){var n;const{chainId:i,domain:l,expirationTime:u,issuedAt:h=new Date,nonce:f,notBefore:g,requestId:m,resources:y,scheme:v,uri:x,version:_}=r;{if(!Number.isInteger(i))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${i}`);if(!l)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(f&&f.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${f}`);if(!x)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(_!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${_}`);if(!((n=r.statement)===null||n===void 0)&&n.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${r.statement}`)}const j=jg(r.address),A=v?`${v}://${l}`:l,R=r.statement?`${r.statement}
`:"",N=`${A} wants you to sign in with your Ethereum account:
${j}

${R}`;let O=`URI: ${x}
Version: ${_}
Chain ID: ${i}${f?`
Nonce: ${f}`:""}
Issued At: ${h.toISOString()}`;if(u&&(O+=`
Expiration Time: ${u.toISOString()}`),g&&(O+=`
Not Before: ${g.toISOString()}`),m&&(O+=`
Request ID: ${m}`),y){let M=`
Resources:`;for(const U of y){if(!U||typeof U!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${U}`);M+=`
- ${U}`}O+=M}return`${N}
${O}`}class rt extends Error{constructor({message:n,code:i,cause:l,name:u}){var h;super(n,{cause:l}),this.__isWebAuthnError=!0,this.name=(h=u??(l instanceof Error?l.name:void 0))!==null&&h!==void 0?h:"Unknown Error",this.code=i}}class Al extends rt{constructor(n,i){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i,message:n}),this.name="WebAuthnUnknownError",this.originalError=i}}function X1({error:r,options:n}){var i,l,u;const{publicKey:h}=n;if(!h)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(n.signal instanceof AbortSignal)return new rt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else if(r.name==="ConstraintError"){if(((i=h.authenticatorSelection)===null||i===void 0?void 0:i.requireResidentKey)===!0)return new rt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:r});if(n.mediation==="conditional"&&((l=h.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new rt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:r});if(((u=h.authenticatorSelection)===null||u===void 0?void 0:u.userVerification)==="required")return new rt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:r})}else{if(r.name==="InvalidStateError")return new rt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:r});if(r.name==="NotAllowedError")return new rt({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="NotSupportedError")return h.pubKeyCredParams.filter(g=>g.type==="public-key").length===0?new rt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:r}):new rt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:r});if(r.name==="SecurityError"){const f=window.location.hostname;if(Eg(f)){if(h.rp.id!==f)return new rt({message:`The RP ID "${h.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new rt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="TypeError"){if(h.user.id.byteLength<1||h.user.id.byteLength>64)return new rt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:r})}else if(r.name==="UnknownError")return new rt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new rt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}function P1({error:r,options:n}){const{publicKey:i}=n;if(!i)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(n.signal instanceof AbortSignal)return new rt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else{if(r.name==="NotAllowedError")return new rt({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="SecurityError"){const l=window.location.hostname;if(Eg(l)){if(i.rpId!==l)return new rt({message:`The RP ID "${i.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new rt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="UnknownError")return new rt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new rt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}class J1{createNewAbortSignal(){if(this.controller){const i=new Error("Cancelling existing WebAuthn API call for new one");i.name="AbortError",this.controller.abort(i)}const n=new AbortController;return this.controller=n,n.signal}cancelCeremony(){if(this.controller){const n=new Error("Manually cancelling existing WebAuthn API call");n.name="AbortError",this.controller.abort(n),this.controller=void 0}}}const Q1=new J1;function F1(r){if(!r)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(r);const{challenge:n,user:i,excludeCredentials:l}=r,u=kl(r,["challenge","user","excludeCredentials"]),h=Ur(n).buffer,f=Object.assign(Object.assign({},i),{id:Ur(i.id).buffer}),g=Object.assign(Object.assign({},u),{challenge:h,user:f});if(l&&l.length>0){g.excludeCredentials=new Array(l.length);for(let m=0;m<l.length;m++){const y=l[m];g.excludeCredentials[m]=Object.assign(Object.assign({},y),{id:Ur(y.id).buffer,type:y.type||"public-key",transports:y.transports})}}return g}function Z1(r){if(!r)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(r);const{challenge:n,allowCredentials:i}=r,l=kl(r,["challenge","allowCredentials"]),u=Ur(n).buffer,h=Object.assign(Object.assign({},l),{challenge:u});if(i&&i.length>0){h.allowCredentials=new Array(i.length);for(let f=0;f<i.length;f++){const g=i[f];h.allowCredentials[f]=Object.assign(Object.assign({},g),{id:Ur(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return h}function W1(r){var n;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const i=r;return{id:r.id,rawId:r.id,response:{attestationObject:Ln(new Uint8Array(r.response.attestationObject)),clientDataJSON:Ln(new Uint8Array(r.response.clientDataJSON))},type:"public-key",clientExtensionResults:r.getClientExtensionResults(),authenticatorAttachment:(n=i.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function e_(r){var n;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const i=r,l=r.getClientExtensionResults(),u=r.response;return{id:r.id,rawId:r.id,response:{authenticatorData:Ln(new Uint8Array(u.authenticatorData)),clientDataJSON:Ln(new Uint8Array(u.clientDataJSON)),signature:Ln(new Uint8Array(u.signature)),userHandle:u.userHandle?Ln(new Uint8Array(u.userHandle)):void 0},type:"public-key",clientExtensionResults:l,authenticatorAttachment:(n=i.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function Eg(r){return r==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(r)}function Op(){var r,n;return!!(gt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((r=navigator?.credentials)===null||r===void 0?void 0:r.create)=="function"&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.get)=="function")}async function t_(r){try{const n=await navigator.credentials.create(r);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new Al("Browser returned unexpected credential type",n)}:{data:null,error:new Al("Empty credential response",n)}}catch(n){return{data:null,error:X1({error:n,options:r})}}}async function a_(r){try{const n=await navigator.credentials.get(r);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new Al("Browser returned unexpected credential type",n)}:{data:null,error:new Al("Empty credential response",n)}}catch(n){return{data:null,error:P1({error:n,options:r})}}}const n_={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},r_={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Cl(...r){const n=u=>u!==null&&typeof u=="object"&&!Array.isArray(u),i=u=>u instanceof ArrayBuffer||ArrayBuffer.isView(u),l={};for(const u of r)if(u)for(const h in u){const f=u[h];if(f!==void 0)if(Array.isArray(f))l[h]=f;else if(i(f))l[h]=f;else if(n(f)){const g=l[h];n(g)?l[h]=Cl(g,f):l[h]=Cl(f)}else l[h]=f}return l}function i_(r,n){return Cl(n_,r,n||{})}function s_(r,n){return Cl(r_,r,n||{})}class l_{constructor(n){this.client=n,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(n){return this.client.mfa.enroll(Object.assign(Object.assign({},n),{factorType:"webauthn"}))}async _challenge({factorId:n,webauthn:i,friendlyName:l,signal:u},h){try{const{data:f,error:g}=await this.client.mfa.challenge({factorId:n,webauthn:i});if(!f)return{data:null,error:g};const m=u??Q1.createNewAbortSignal();if(f.webauthn.type==="create"){const{user:y}=f.webauthn.credential_options.publicKey;y.name||(y.name=`${y.id}:${l}`),y.displayName||(y.displayName=y.name)}switch(f.webauthn.type){case"create":{const y=i_(f.webauthn.credential_options.publicKey,h?.create),{data:v,error:x}=await t_({publicKey:y,signal:m});return v?{data:{factorId:n,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:v}},error:null}:{data:null,error:x}}case"request":{const y=s_(f.webauthn.credential_options.publicKey,h?.request),{data:v,error:x}=await a_(Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:y,signal:m}));return v?{data:{factorId:n,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:v}},error:null}:{data:null,error:x}}}}catch(f){return ne(f)?{data:null,error:f}:{data:null,error:new Bn("Unexpected error in challenge",f)}}}async _verify({challengeId:n,factorId:i,webauthn:l}){return this.client.mfa.verify({factorId:i,challengeId:n,webauthn:l})}async _authenticate({factorId:n,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:u}={}},h){if(!i)return{data:null,error:new Yi("rpId is required for WebAuthn authentication")};try{if(!Op())return{data:null,error:new Bn("Browser does not support WebAuthn",null)};const{data:f,error:g}=await this.challenge({factorId:n,webauthn:{rpId:i,rpOrigins:l},signal:u},{request:h});if(!f)return{data:null,error:g};const{webauthn:m}=f;return this._verify({factorId:n,challengeId:f.challengeId,webauthn:{type:m.type,rpId:i,rpOrigins:l,credential_response:m.credential_response}})}catch(f){return ne(f)?{data:null,error:f}:{data:null,error:new Bn("Unexpected error in authenticate",f)}}}async _register({friendlyName:n,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:u}={}},h){if(!i)return{data:null,error:new Yi("rpId is required for WebAuthn registration")};try{if(!Op())return{data:null,error:new Bn("Browser does not support WebAuthn",null)};const{data:f,error:g}=await this._enroll({friendlyName:n});if(!f)return await this.client.mfa.listFactors().then(v=>{var x;return(x=v.data)===null||x===void 0?void 0:x.all.find(_=>_.factor_type==="webauthn"&&_.friendly_name===n&&_.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v?.id}):void 0),{data:null,error:g};const{data:m,error:y}=await this._challenge({factorId:f.id,friendlyName:f.friendly_name,webauthn:{rpId:i,rpOrigins:l},signal:u},{create:h});return m?this._verify({factorId:f.id,challengeId:m.challengeId,webauthn:{rpId:i,rpOrigins:l,type:m.webauthn.type,credential_response:m.webauthn.credential_response}}):{data:null,error:y}}catch(f){return ne(f)?{data:null,error:f}:{data:null,error:new Bn("Unexpected error in register",f)}}}}I1();const o_={url:n1,storageKey:r1,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:i1,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function kp(r,n,i){return await i()}const Rr={};class Xi{get jwks(){var n,i;return(i=(n=Rr[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&i!==void 0?i:{keys:[]}}set jwks(n){Rr[this.storageKey]=Object.assign(Object.assign({},Rr[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,i;return(i=(n=Rr[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&i!==void 0?i:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){Rr[this.storageKey]=Object.assign(Object.assign({},Rr[this.storageKey]),{cachedAt:n})}constructor(n){var i,l,u;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const h=Object.assign(Object.assign({},o_),n);if(this.storageKey=h.storageKey,this.instanceID=(i=Xi.nextInstanceID[this.storageKey])!==null&&i!==void 0?i:0,Xi.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!h.debug,typeof h.debug=="function"&&(this.logger=h.debug),this.instanceID>0&&gt()){const f=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(f),this.logDebugMessages&&console.trace(f)}if(this.persistSession=h.persistSession,this.autoRefreshToken=h.autoRefreshToken,this.admin=new $1({url:h.url,headers:h.headers,fetch:h.fetch}),this.url=h.url,this.headers=h.headers,this.fetch=wg(h.fetch),this.lock=h.lock||kp,this.detectSessionInUrl=h.detectSessionInUrl,this.flowType=h.flowType,this.hasCustomAuthorizationHeader=h.hasCustomAuthorizationHeader,this.throwOnError=h.throwOnError,h.lock?this.lock=h.lock:this.persistSession&&gt()&&(!((l=globalThis?.navigator)===null||l===void 0)&&l.locks)?this.lock=G1:this.lock=kp,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new l_(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(h.storage?this.storage=h.storage:_g()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Np(this.memoryStorage)),h.userStorage&&(this.userStorage=h.userStorage)):(this.memoryStorage={},this.storage=Np(this.memoryStorage)),gt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(f){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",f)}(u=this.broadcastChannel)===null||u===void 0||u.addEventListener("message",async f=>{this._debug("received broadcast notification from other tab or client",f),await this._notifyAllSubscribers(f.data.event,f.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${vg}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{let i={},l="none";if(gt()&&(i=x1(window.location.href),this._isImplicitGrantCallback(i)?l="implicit":await this._isPKCECallback(i)&&(l="pkce")),gt()&&this.detectSessionInUrl&&l!=="none"){const{data:u,error:h}=await this._getSessionFromURL(i,l);if(h){if(this._debug("#_initialize()","error detecting session from URL",h),d1(h)){const m=(n=h.details)===null||n===void 0?void 0:n.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:h}}return await this._removeSession(),{error:h}}const{session:f,redirectType:g}=u;return this._debug("#_initialize()","detected session in URL",f,"redirect type",g),await this._saveSession(f),setTimeout(async()=>{g==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(i){return ne(i)?this._returnResult({error:i}):this._returnResult({error:new Bn("Unexpected error during initialization",i)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var i,l,u;try{const h=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(l=(i=n?.options)===null||i===void 0?void 0:i.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:(u=n?.options)===null||u===void 0?void 0:u.captchaToken}},xform:ea}),{data:f,error:g}=h;if(g||!f)return this._returnResult({data:{user:null,session:null},error:g});const m=f.session,y=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:y,session:m},error:null})}catch(h){if(ne(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async signUp(n){var i,l,u;try{let h;if("email"in n){const{email:v,password:x,options:_}=n;let j=null,A=null;this.flowType==="pkce"&&([j,A]=await Tr(this.storage,this.storageKey)),h=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:_?.emailRedirectTo,body:{email:v,password:x,data:(i=_?.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:_?.captchaToken},code_challenge:j,code_challenge_method:A},xform:ea})}else if("phone"in n){const{phone:v,password:x,options:_}=n;h=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:x,data:(l=_?.data)!==null&&l!==void 0?l:{},channel:(u=_?.channel)!==null&&u!==void 0?u:"sms",gotrue_meta_security:{captcha_token:_?.captchaToken}},xform:ea})}else throw new bl("You must provide either an email or phone number and a password");const{data:f,error:g}=h;if(g||!f)return await pt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:g});const m=f.session,y=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:y,session:m},error:null})}catch(h){if(await pt(this.storage,`${this.storageKey}-code-verifier`),ne(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async signInWithPassword(n){try{let i;if("email"in n){const{email:h,password:f,options:g}=n;i=await ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:h,password:f,gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:Cp})}else if("phone"in n){const{phone:h,password:f,options:g}=n;i=await ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:h,password:f,gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:Cp})}else throw new bl("You must provide either an email or phone number and a password");const{data:l,error:u}=i;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const h=new Er;return this._returnResult({data:{user:null,session:null},error:h})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign({user:l.user,session:l.session},l.weak_password?{weakPassword:l.weak_password}:null),error:u})}catch(i){if(ne(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOAuth(n){var i,l,u,h;return await this._handleProviderSignIn(n.provider,{redirectTo:(i=n.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=n.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=n.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:(h=n.options)===null||h===void 0?void 0:h.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:i}=n;switch(i){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${i}"`)}}async signInWithEthereum(n){var i,l,u,h,f,g,m,y,v,x,_;let j,A;if("message"in n)j=n.message,A=n.signature;else{const{chain:R,wallet:N,statement:O,options:M}=n;let U;if(gt())if(typeof N=="object")U=N;else{const K=window;if("ethereum"in K&&typeof K.ethereum=="object"&&"request"in K.ethereum&&typeof K.ethereum.request=="function")U=K.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!M?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");U=N}const W=new URL((i=M?.url)!==null&&i!==void 0?i:window.location.href),te=await U.request({method:"eth_requestAccounts"}).then(K=>K).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!te||te.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const Y=jg(te[0]);let L=(l=M?.signInWithEthereum)===null||l===void 0?void 0:l.chainId;if(!L){const K=await U.request({method:"eth_chainId"});L=V1(K)}const J={domain:W.host,address:Y,statement:O,uri:W.href,version:"1",chainId:L,nonce:(u=M?.signInWithEthereum)===null||u===void 0?void 0:u.nonce,issuedAt:(f=(h=M?.signInWithEthereum)===null||h===void 0?void 0:h.issuedAt)!==null&&f!==void 0?f:new Date,expirationTime:(g=M?.signInWithEthereum)===null||g===void 0?void 0:g.expirationTime,notBefore:(m=M?.signInWithEthereum)===null||m===void 0?void 0:m.notBefore,requestId:(y=M?.signInWithEthereum)===null||y===void 0?void 0:y.requestId,resources:(v=M?.signInWithEthereum)===null||v===void 0?void 0:v.resources};j=Y1(J),A=await U.request({method:"personal_sign",params:[K1(j),Y]})}try{const{data:R,error:N}=await ue(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:j,signature:A},!((x=n.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(_=n.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:ea});if(N)throw N;if(!R||!R.session||!R.user){const O=new Er;return this._returnResult({data:{user:null,session:null},error:O})}return R.session&&(await this._saveSession(R.session),await this._notifyAllSubscribers("SIGNED_IN",R.session)),this._returnResult({data:Object.assign({},R),error:N})}catch(R){if(ne(R))return this._returnResult({data:{user:null,session:null},error:R});throw R}}async signInWithSolana(n){var i,l,u,h,f,g,m,y,v,x,_,j;let A,R;if("message"in n)A=n.message,R=n.signature;else{const{chain:N,wallet:O,statement:M,options:U}=n;let W;if(gt())if(typeof O=="object")W=O;else{const Y=window;if("solana"in Y&&typeof Y.solana=="object"&&("signIn"in Y.solana&&typeof Y.solana.signIn=="function"||"signMessage"in Y.solana&&typeof Y.solana.signMessage=="function"))W=Y.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof O!="object"||!U?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");W=O}const te=new URL((i=U?.url)!==null&&i!==void 0?i:window.location.href);if("signIn"in W&&W.signIn){const Y=await W.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},U?.signInWithSolana),{version:"1",domain:te.host,uri:te.href}),M?{statement:M}:null));let L;if(Array.isArray(Y)&&Y[0]&&typeof Y[0]=="object")L=Y[0];else if(Y&&typeof Y=="object"&&"signedMessage"in Y&&"signature"in Y)L=Y;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in L&&"signature"in L&&(typeof L.signedMessage=="string"||L.signedMessage instanceof Uint8Array)&&L.signature instanceof Uint8Array)A=typeof L.signedMessage=="string"?L.signedMessage:new TextDecoder().decode(L.signedMessage),R=L.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in W)||typeof W.signMessage!="function"||!("publicKey"in W)||typeof W!="object"||!W.publicKey||!("toBase58"in W.publicKey)||typeof W.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");A=[`${te.host} wants you to sign in with your Solana account:`,W.publicKey.toBase58(),...M?["",M,""]:[""],"Version: 1",`URI: ${te.href}`,`Issued At: ${(u=(l=U?.signInWithSolana)===null||l===void 0?void 0:l.issuedAt)!==null&&u!==void 0?u:new Date().toISOString()}`,...!((h=U?.signInWithSolana)===null||h===void 0)&&h.notBefore?[`Not Before: ${U.signInWithSolana.notBefore}`]:[],...!((f=U?.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${U.signInWithSolana.expirationTime}`]:[],...!((g=U?.signInWithSolana)===null||g===void 0)&&g.chainId?[`Chain ID: ${U.signInWithSolana.chainId}`]:[],...!((m=U?.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${U.signInWithSolana.nonce}`]:[],...!((y=U?.signInWithSolana)===null||y===void 0)&&y.requestId?[`Request ID: ${U.signInWithSolana.requestId}`]:[],...!((x=(v=U?.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||x===void 0)&&x.length?["Resources",...U.signInWithSolana.resources.map(L=>`- ${L}`)]:[]].join(`
`);const Y=await W.signMessage(new TextEncoder().encode(A),"utf8");if(!Y||!(Y instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");R=Y}}try{const{data:N,error:O}=await ue(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:A,signature:Ln(R)},!((_=n.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(j=n.options)===null||j===void 0?void 0:j.captchaToken}}:null),xform:ea});if(O)throw O;if(!N||!N.session||!N.user){const M=new Er;return this._returnResult({data:{user:null,session:null},error:M})}return N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),this._returnResult({data:Object.assign({},N),error:O})}catch(N){if(ne(N))return this._returnResult({data:{user:null,session:null},error:N});throw N}}async _exchangeCodeForSession(n){const i=await Dn(this.storage,`${this.storageKey}-code-verifier`),[l,u]=(i??"").split("/");try{if(!l&&this.flowType==="pkce")throw new h1;const{data:h,error:f}=await ue(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:l},xform:ea});if(await pt(this.storage,`${this.storageKey}-code-verifier`),f)throw f;if(!h||!h.session||!h.user){const g=new Er;return this._returnResult({data:{user:null,session:null,redirectType:null},error:g})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:Object.assign(Object.assign({},h),{redirectType:u??null}),error:f})}catch(h){if(await pt(this.storage,`${this.storageKey}-code-verifier`),ne(h))return this._returnResult({data:{user:null,session:null,redirectType:null},error:h});throw h}}async signInWithIdToken(n){try{const{options:i,provider:l,token:u,access_token:h,nonce:f}=n,g=await ue(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:l,id_token:u,access_token:h,nonce:f,gotrue_meta_security:{captcha_token:i?.captchaToken}},xform:ea}),{data:m,error:y}=g;if(y)return this._returnResult({data:{user:null,session:null},error:y});if(!m||!m.session||!m.user){const v=new Er;return this._returnResult({data:{user:null,session:null},error:v})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:m,error:y})}catch(i){if(ne(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOtp(n){var i,l,u,h,f;try{if("email"in n){const{email:g,options:m}=n;let y=null,v=null;this.flowType==="pkce"&&([y,v]=await Tr(this.storage,this.storageKey));const{error:x}=await ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:g,data:(i=m?.data)!==null&&i!==void 0?i:{},create_user:(l=m?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},code_challenge:y,code_challenge_method:v},redirectTo:m?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:x})}if("phone"in n){const{phone:g,options:m}=n,{data:y,error:v}=await ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:g,data:(u=m?.data)!==null&&u!==void 0?u:{},create_user:(h=m?.shouldCreateUser)!==null&&h!==void 0?h:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},channel:(f=m?.channel)!==null&&f!==void 0?f:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:y?.message_id},error:v})}throw new bl("You must provide either an email or phone number.")}catch(g){if(await pt(this.storage,`${this.storageKey}-code-verifier`),ne(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async verifyOtp(n){var i,l;try{let u,h;"options"in n&&(u=(i=n.options)===null||i===void 0?void 0:i.redirectTo,h=(l=n.options)===null||l===void 0?void 0:l.captchaToken);const{data:f,error:g}=await ue(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:h}}),redirectTo:u,xform:ea});if(g)throw g;if(!f)throw new Error("An error occurred on token verification.");const m=f.session,y=f.user;return m?.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),this._returnResult({data:{user:y,session:m},error:null})}catch(u){if(ne(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithSSO(n){var i,l,u,h,f;try{let g=null,m=null;this.flowType==="pkce"&&([g,m]=await Tr(this.storage,this.storageKey));const y=await ue(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(l=(i=n.options)===null||i===void 0?void 0:i.redirectTo)!==null&&l!==void 0?l:void 0}),!((u=n?.options)===null||u===void 0)&&u.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:g,code_challenge_method:m}),headers:this.headers,xform:B1});return!((h=y.data)===null||h===void 0)&&h.url&&gt()&&!(!((f=n.options)===null||f===void 0)&&f.skipBrowserRedirect)&&window.location.assign(y.data.url),this._returnResult(y)}catch(g){if(await pt(this.storage,`${this.storageKey}-code-verifier`),ne(g))return this._returnResult({data:null,error:g});throw g}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:i},error:l}=n;if(l)throw l;if(!i)throw new Mt;const{error:u}=await ue(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:i.access_token});return this._returnResult({data:{user:null,session:null},error:u})})}catch(n){if(ne(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async resend(n){try{const i=`${this.url}/resend`;if("email"in n){const{email:l,type:u,options:h}=n,{error:f}=await ue(this.fetch,"POST",i,{headers:this.headers,body:{email:l,type:u,gotrue_meta_security:{captcha_token:h?.captchaToken}},redirectTo:h?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}else if("phone"in n){const{phone:l,type:u,options:h}=n,{data:f,error:g}=await ue(this.fetch,"POST",i,{headers:this.headers,body:{phone:l,type:u,gotrue_meta_security:{captcha_token:h?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:g})}throw new bl("You must provide either an email or phone number and a type")}catch(i){if(ne(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async i=>i))}async _acquireLock(n,i){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const l=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),u=(async()=>(await l,await i()))();return this.pendingInLock.push((async()=>{try{await u}catch{}})()),u}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const l=i();for(this.pendingInLock.push((async()=>{try{await l}catch{}})()),await l;this.pendingInLock.length;){const u=[...this.pendingInLock];await Promise.all(u),this.pendingInLock.splice(0,u.length)}return await l}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const i=await this.__loadSession();return await n(i)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const i=await Dn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?n=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const l=n.expires_at?n.expires_at*1e3-Date.now()<hu:!1;if(this._debug("#__loadSession()",`session has${l?"":" not"} expired`,"expires_at",n.expires_at),!l){if(this.userStorage){const f=await Dn(this.userStorage,this.storageKey+"-user");f?.user?n.user=f.user:n.user=pu()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){const f={value:this.suppressGetSessionWarning};n.user=D1(n.user,f),f.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}const{data:u,error:h}=await this._callRefreshToken(n.refresh_token);return h?this._returnResult({data:{session:null},error:h}):this._returnResult({data:{session:u},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(n){if(n)return await this._getUser(n);await this.initializePromise;const i=await this._acquireLock(-1,async()=>await this._getUser());return i.data.user&&(this.suppressGetSessionWarning=!0),i}async _getUser(n){try{return n?await ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:hn}):await this._useSession(async i=>{var l,u,h;const{data:f,error:g}=i;if(g)throw g;return!(!((l=f.session)===null||l===void 0)&&l.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Mt}:await ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(h=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&h!==void 0?h:void 0,xform:hn})})}catch(i){if(ne(i))return u1(i)&&(await this._removeSession(),await pt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:i});throw i}}async updateUser(n,i={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(n,i))}async _updateUser(n,i={}){try{return await this._useSession(async l=>{const{data:u,error:h}=l;if(h)throw h;if(!u.session)throw new Mt;const f=u.session;let g=null,m=null;this.flowType==="pkce"&&n.email!=null&&([g,m]=await Tr(this.storage,this.storageKey));const{data:y,error:v}=await ue(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:i?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:g,code_challenge_method:m}),jwt:f.access_token,xform:hn});if(v)throw v;return f.user=y.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),this._returnResult({data:{user:f.user},error:null})})}catch(l){if(await pt(this.storage,`${this.storageKey}-code-verifier`),ne(l))return this._returnResult({data:{user:null},error:l});throw l}}async setSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new Mt;const i=Date.now()/1e3;let l=i,u=!0,h=null;const{payload:f}=mu(n.access_token);if(f.exp&&(l=f.exp,u=l<=i),u){const{data:g,error:m}=await this._callRefreshToken(n.refresh_token);if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!g)return{data:{user:null,session:null},error:null};h=g}else{const{data:g,error:m}=await this._getUser(n.access_token);if(m)throw m;h={access_token:n.access_token,refresh_token:n.refresh_token,user:g.user,token_type:"bearer",expires_in:l-i,expires_at:l},await this._saveSession(h),await this._notifyAllSubscribers("SIGNED_IN",h)}return this._returnResult({data:{user:h.user,session:h},error:null})}catch(i){if(ne(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async i=>{var l;if(!n){const{data:f,error:g}=i;if(g)throw g;n=(l=f.session)!==null&&l!==void 0?l:void 0}if(!n?.refresh_token)throw new Mt;const{data:u,error:h}=await this._callRefreshToken(n.refresh_token);return h?this._returnResult({data:{user:null,session:null},error:h}):u?this._returnResult({data:{user:u.user,session:u},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(i){if(ne(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async _getSessionFromURL(n,i){try{if(!gt())throw new xl("No browser detected.");if(n.error||n.error_description||n.error_code)throw new xl(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(i){case"implicit":if(this.flowType==="pkce")throw new _p("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new xl("Not a valid implicit grant flow url.");break;default:}if(i==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new _p("No code detected.");const{data:M,error:U}=await this._exchangeCodeForSession(n.code);if(U)throw U;const W=new URL(window.location.href);return W.searchParams.delete("code"),window.history.replaceState(window.history.state,"",W.toString()),{data:{session:M.session,redirectType:null},error:null}}const{provider_token:l,provider_refresh_token:u,access_token:h,refresh_token:f,expires_in:g,expires_at:m,token_type:y}=n;if(!h||!g||!f||!y)throw new xl("No session defined in URL");const v=Math.round(Date.now()/1e3),x=parseInt(g);let _=v+x;m&&(_=parseInt(m));const j=_-v;j*1e3<=Or&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${j}s, should have been closer to ${x}s`);const A=_-x;v-A>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",A,_,v):v-A<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",A,_,v);const{data:R,error:N}=await this._getUser(h);if(N)throw N;const O={provider_token:l,provider_refresh_token:u,access_token:h,expires_in:x,expires_at:_,refresh_token:f,token_type:y,user:R.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:O,redirectType:n.type},error:null})}catch(l){if(ne(l))return this._returnResult({data:{session:null,redirectType:null},error:l});throw l}}_isImplicitGrantCallback(n){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),n):!!(n.access_token||n.error_description)}async _isPKCECallback(n){const i=await Dn(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&i)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async i=>{var l;const{data:u,error:h}=i;if(h)return this._returnResult({error:h});const f=(l=u.session)===null||l===void 0?void 0:l.access_token;if(f){const{error:g}=await this.admin.signOut(f,n);if(g&&!(c1(g)&&(g.status===404||g.status===401||g.status===403)))return this._returnResult({error:g})}return n!=="others"&&(await this._removeSession(),await pt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(n){const i=b1(),l={id:i,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,l),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(i)})))(),{data:{subscription:l}}}async _emitInitialSession(n){return await this._useSession(async i=>{var l,u;try{const{data:{session:h},error:f}=i;if(f)throw f;await((l=this.stateChangeEmitters.get(n))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",h)),this._debug("INITIAL_SESSION","callback id",n,"session",h)}catch(h){await((u=this.stateChangeEmitters.get(n))===null||u===void 0?void 0:u.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",h),console.error(h)}})}async resetPasswordForEmail(n,i={}){let l=null,u=null;this.flowType==="pkce"&&([l,u]=await Tr(this.storage,this.storageKey,!0));try{return await ue(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:l,code_challenge_method:u,gotrue_meta_security:{captcha_token:i.captchaToken}},headers:this.headers,redirectTo:i.redirectTo})}catch(h){if(await pt(this.storage,`${this.storageKey}-code-verifier`),ne(h))return this._returnResult({data:null,error:h});throw h}}async getUserIdentities(){var n;try{const{data:i,error:l}=await this.getUser();if(l)throw l;return this._returnResult({data:{identities:(n=i.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(i){if(ne(i))return this._returnResult({data:null,error:i});throw i}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var i;try{const{data:l,error:u}=await this._useSession(async h=>{var f,g,m,y,v;const{data:x,error:_}=h;if(_)throw _;const j=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(f=n.options)===null||f===void 0?void 0:f.redirectTo,scopes:(g=n.options)===null||g===void 0?void 0:g.scopes,queryParams:(m=n.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await ue(this.fetch,"GET",j,{headers:this.headers,jwt:(v=(y=x.session)===null||y===void 0?void 0:y.access_token)!==null&&v!==void 0?v:void 0})});if(u)throw u;return gt()&&!(!((i=n.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(l?.url),this._returnResult({data:{provider:n.provider,url:l?.url},error:null})}catch(l){if(ne(l))return this._returnResult({data:{provider:n.provider,url:null},error:l});throw l}}async linkIdentityIdToken(n){return await this._useSession(async i=>{var l;try{const{error:u,data:{session:h}}=i;if(u)throw u;const{options:f,provider:g,token:m,access_token:y,nonce:v}=n,x=await ue(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(l=h?.access_token)!==null&&l!==void 0?l:void 0,body:{provider:g,id_token:m,access_token:y,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:ea}),{data:_,error:j}=x;return j?this._returnResult({data:{user:null,session:null},error:j}):!_||!_.session||!_.user?this._returnResult({data:{user:null,session:null},error:new Er}):(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("USER_UPDATED",_.session)),this._returnResult({data:_,error:j}))}catch(u){if(await pt(this.storage,`${this.storageKey}-code-verifier`),ne(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}})}async unlinkIdentity(n){try{return await this._useSession(async i=>{var l,u;const{data:h,error:f}=i;if(f)throw f;return await ue(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(u=(l=h.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0})})}catch(i){if(ne(i))return this._returnResult({data:null,error:i});throw i}}async _refreshAccessToken(n){const i=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(i,"begin");try{const l=Date.now();return await S1(async u=>(u>0&&await w1(200*Math.pow(2,u-1)),this._debug(i,"refreshing attempt",u),await ue(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:ea})),(u,h)=>{const f=200*Math.pow(2,u);return h&&fu(h)&&Date.now()+f-l<Or})}catch(l){if(this._debug(i,"error",l),ne(l))return this._returnResult({data:{session:null,user:null},error:l});throw l}finally{this._debug(i,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,i){const l=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:i.redirectTo,scopes:i.scopes,queryParams:i.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",i,"url",l),gt()&&!i.skipBrowserRedirect&&window.location.assign(l),{data:{provider:n,url:l},error:null}}async _recoverAndRefresh(){var n,i;const l="#_recoverAndRefresh()";this._debug(l,"begin");try{const u=await Dn(this.storage,this.storageKey);if(u&&this.userStorage){let f=await Dn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:u.user},await kr(this.userStorage,this.storageKey+"-user",f)),u.user=(n=f?.user)!==null&&n!==void 0?n:pu()}else if(u&&!u.user&&!u.user){const f=await Dn(this.storage,this.storageKey+"-user");f&&f?.user?(u.user=f.user,await pt(this.storage,this.storageKey+"-user"),await kr(this.storage,this.storageKey,u)):u.user=pu()}if(this._debug(l,"session from storage",u),!this._isValidSession(u)){this._debug(l,"session is not valid"),u!==null&&await this._removeSession();return}const h=((i=u.expires_at)!==null&&i!==void 0?i:1/0)*1e3-Date.now()<hu;if(this._debug(l,`session has${h?"":" not"} expired with margin of ${hu}s`),h){if(this.autoRefreshToken&&u.refresh_token){const{error:f}=await this._callRefreshToken(u.refresh_token);f&&(console.error(f),fu(f)||(this._debug(l,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(u.user&&u.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:g}=await this._getUser(u.access_token);!g&&f?.user?(u.user=f.user,await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)):this._debug(l,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(l,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",u)}catch(u){this._debug(l,"error",u),console.error(u);return}finally{this._debug(l,"end")}}async _callRefreshToken(n){var i,l;if(!n)throw new Mt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const u=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(u,"begin");try{this.refreshingDeferred=new zl;const{data:h,error:f}=await this._refreshAccessToken(n);if(f)throw f;if(!h.session)throw new Mt;await this._saveSession(h.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",h.session);const g={data:h.session,error:null};return this.refreshingDeferred.resolve(g),g}catch(h){if(this._debug(u,"error",h),ne(h)){const f={data:null,error:h};return fu(h)||await this._removeSession(),(i=this.refreshingDeferred)===null||i===void 0||i.resolve(f),f}throw(l=this.refreshingDeferred)===null||l===void 0||l.reject(h),h}finally{this.refreshingDeferred=null,this._debug(u,"end")}}async _notifyAllSubscribers(n,i,l=!0){const u=`#_notifyAllSubscribers(${n})`;this._debug(u,"begin",i,`broadcast = ${l}`);try{this.broadcastChannel&&l&&this.broadcastChannel.postMessage({event:n,session:i});const h=[],f=Array.from(this.stateChangeEmitters.values()).map(async g=>{try{await g.callback(n,i)}catch(m){h.push(m)}});if(await Promise.all(f),h.length>0){for(let g=0;g<h.length;g+=1)console.error(h[g]);throw h[0]}}finally{this._debug(u,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,await pt(this.storage,`${this.storageKey}-code-verifier`);const i=Object.assign({},n),l=i.user&&i.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!l&&i.user&&await kr(this.userStorage,this.storageKey+"-user",{user:i.user});const u=Object.assign({},i);delete u.user;const h=Tp(u);await kr(this.storage,this.storageKey,h)}else{const u=Tp(i);await kr(this.storage,this.storageKey,u)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await pt(this.storage,this.storageKey),await pt(this.storage,this.storageKey+"-code-verifier"),await pt(this.storage,this.storageKey+"-user"),this.userStorage&&await pt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&gt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(i){console.error("removing visibilitychange callback failed",i)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),Or);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async i=>{const{data:{session:l}}=i;if(!l||!l.refresh_token||!l.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const u=Math.floor((l.expires_at*1e3-n)/Or);this._debug("#_autoRefreshTokenTick()",`access token expires in ${u} ticks, a tick lasts ${Or}ms, refresh threshold is ${Cu} ticks`),u<=Cu&&await this._callRefreshToken(l.refresh_token)})}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof Sg)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!gt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const i=`#_onVisibilityChanged(${n})`;this._debug(i,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,i,l){const u=[`provider=${encodeURIComponent(i)}`];if(l?.redirectTo&&u.push(`redirect_to=${encodeURIComponent(l.redirectTo)}`),l?.scopes&&u.push(`scopes=${encodeURIComponent(l.scopes)}`),this.flowType==="pkce"){const[h,f]=await Tr(this.storage,this.storageKey),g=new URLSearchParams({code_challenge:`${encodeURIComponent(h)}`,code_challenge_method:`${encodeURIComponent(f)}`});u.push(g.toString())}if(l?.queryParams){const h=new URLSearchParams(l.queryParams);u.push(h.toString())}return l?.skipBrowserRedirect&&u.push(`skip_http_redirect=${l.skipBrowserRedirect}`),`${n}?${u.join("&")}`}async _unenroll(n){try{return await this._useSession(async i=>{var l;const{data:u,error:h}=i;return h?this._returnResult({data:null,error:h}):await ue(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(l=u?.session)===null||l===void 0?void 0:l.access_token})})}catch(i){if(ne(i))return this._returnResult({data:null,error:i});throw i}}async _enroll(n){try{return await this._useSession(async i=>{var l,u;const{data:h,error:f}=i;if(f)return this._returnResult({data:null,error:f});const g=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:m,error:y}=await ue(this.fetch,"POST",`${this.url}/factors`,{body:g,headers:this.headers,jwt:(l=h?.session)===null||l===void 0?void 0:l.access_token});return y?this._returnResult({data:null,error:y}):(n.factorType==="totp"&&m.type==="totp"&&(!((u=m?.totp)===null||u===void 0)&&u.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),this._returnResult({data:m,error:null}))})}catch(i){if(ne(i))return this._returnResult({data:null,error:i});throw i}}async _verify(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var l;const{data:u,error:h}=i;if(h)return this._returnResult({data:null,error:h});const f=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?W1(n.webauthn.credential_response):e_(n.webauthn.credential_response)})}:{code:n.code}),{data:g,error:m}=await ue(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:f,headers:this.headers,jwt:(l=u?.session)===null||l===void 0?void 0:l.access_token});return m?this._returnResult({data:null,error:m}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+g.expires_in},g)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",g),this._returnResult({data:g,error:m}))})}catch(i){if(ne(i))return this._returnResult({data:null,error:i});throw i}})}async _challenge(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var l;const{data:u,error:h}=i;if(h)return this._returnResult({data:null,error:h});const f=await ue(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(l=u?.session)===null||l===void 0?void 0:l.access_token});if(f.error)return f;const{data:g}=f;if(g.type!=="webauthn")return{data:g,error:null};switch(g.webauthn.type){case"create":return{data:Object.assign(Object.assign({},g),{webauthn:Object.assign(Object.assign({},g.webauthn),{credential_options:Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:F1(g.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},g),{webauthn:Object.assign(Object.assign({},g.webauthn),{credential_options:Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:Z1(g.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(i){if(ne(i))return this._returnResult({data:null,error:i});throw i}})}async _challengeAndVerify(n){const{data:i,error:l}=await this._challenge({factorId:n.factorId});return l?this._returnResult({data:null,error:l}):await this._verify({factorId:n.factorId,challengeId:i.id,code:n.code})}async _listFactors(){var n;const{data:{user:i},error:l}=await this.getUser();if(l)return{data:null,error:l};const u={all:[],phone:[],totp:[],webauthn:[]};for(const h of(n=i?.factors)!==null&&n!==void 0?n:[])u.all.push(h),h.status==="verified"&&u[h.factor_type].push(h);return{data:u,error:null}}async _getAuthenticatorAssuranceLevel(){var n,i;const{data:{session:l},error:u}=await this.getSession();if(u)return this._returnResult({data:null,error:u});if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:h}=mu(l.access_token);let f=null;h.aal&&(f=h.aal);let g=f;((i=(n=l.user.factors)===null||n===void 0?void 0:n.filter(v=>v.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(g="aal2");const y=h.amr||[];return{data:{currentLevel:f,nextLevel:g,currentAuthenticationMethods:y},error:null}}async _getAuthorizationDetails(n){try{return await this._useSession(async i=>{const{data:{session:l},error:u}=i;return u?this._returnResult({data:null,error:u}):l?await ue(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:l.access_token,xform:h=>({data:h,error:null})}):this._returnResult({data:null,error:new Mt})})}catch(i){if(ne(i))return this._returnResult({data:null,error:i});throw i}}async _approveAuthorization(n,i){try{return await this._useSession(async l=>{const{data:{session:u},error:h}=l;if(h)return this._returnResult({data:null,error:h});if(!u)return this._returnResult({data:null,error:new Mt});const f=await ue(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:u.access_token,body:{action:"approve"},xform:g=>({data:g,error:null})});return f.data&&f.data.redirect_url&&gt()&&!i?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(l){if(ne(l))return this._returnResult({data:null,error:l});throw l}}async _denyAuthorization(n,i){try{return await this._useSession(async l=>{const{data:{session:u},error:h}=l;if(h)return this._returnResult({data:null,error:h});if(!u)return this._returnResult({data:null,error:new Mt});const f=await ue(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:u.access_token,body:{action:"deny"},xform:g=>({data:g,error:null})});return f.data&&f.data.redirect_url&&gt()&&!i?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(l){if(ne(l))return this._returnResult({data:null,error:l});throw l}}async _listOAuthGrants(){try{return await this._useSession(async n=>{const{data:{session:i},error:l}=n;return l?this._returnResult({data:null,error:l}):i?await ue(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new Mt})})}catch(n){if(ne(n))return this._returnResult({data:null,error:n});throw n}}async _revokeOAuthGrant(n){try{return await this._useSession(async i=>{const{data:{session:l},error:u}=i;return u?this._returnResult({data:null,error:u}):l?(await ue(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:l.access_token,query:{client_id:n.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Mt})})}catch(i){if(ne(i))return this._returnResult({data:null,error:i});throw i}}async fetchJwk(n,i={keys:[]}){let l=i.keys.find(g=>g.kid===n);if(l)return l;const u=Date.now();if(l=this.jwks.keys.find(g=>g.kid===n),l&&this.jwks_cached_at+l1>u)return l;const{data:h,error:f}=await ue(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!h.keys||h.keys.length===0||(this.jwks=h,this.jwks_cached_at=u,l=h.keys.find(g=>g.kid===n),!l)?null:l}async getClaims(n,i={}){try{let l=n;if(!l){const{data:j,error:A}=await this.getSession();if(A||!j.session)return this._returnResult({data:null,error:A});l=j.session.access_token}const{header:u,payload:h,signature:f,raw:{header:g,payload:m}}=mu(l);i?.allowExpired||N1(h.exp);const y=!u.alg||u.alg.startsWith("HS")||!u.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(u.kid,i?.keys?{keys:i.keys}:i?.jwks);if(!y){const{error:j}=await this.getUser(l);if(j)throw j;return{data:{claims:h,header:u,signature:f},error:null}}const v=O1(u.alg),x=await crypto.subtle.importKey("jwk",y,v,!0,["verify"]);if(!await crypto.subtle.verify(v,x,f,y1(`${g}.${m}`)))throw new Ou("Invalid JWT signature");return{data:{claims:h,header:u,signature:f},error:null}}catch(l){if(ne(l))return this._returnResult({data:null,error:l});throw l}}}Xi.nextInstanceID={};const c_=Xi,u_="2.89.0";let Li="";typeof Deno<"u"?Li="deno":typeof document<"u"?Li="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Li="react-native":Li="node";const d_={"X-Client-Info":`supabase-js-${Li}/${u_}`},h_={headers:d_},f_={schema:"public"},m_={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},p_={};function Pi(r){"@babel/helpers - typeof";return Pi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Pi(r)}function g_(r,n){if(Pi(r)!="object"||!r)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var l=i.call(r,n);if(Pi(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(r)}function y_(r){var n=g_(r,"string");return Pi(n)=="symbol"?n:n+""}function v_(r,n,i){return(n=y_(n))in r?Object.defineProperty(r,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[n]=i,r}function Dp(r,n){var i=Object.keys(r);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(r);n&&(l=l.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),i.push.apply(i,l)}return i}function Je(r){for(var n=1;n<arguments.length;n++){var i=arguments[n]!=null?arguments[n]:{};n%2?Dp(Object(i),!0).forEach(function(l){v_(r,l,i[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):Dp(Object(i)).forEach(function(l){Object.defineProperty(r,l,Object.getOwnPropertyDescriptor(i,l))})}return r}const b_=r=>r?(...n)=>r(...n):(...n)=>fetch(...n),x_=()=>Headers,__=(r,n,i)=>{const l=b_(i),u=x_();return async(h,f)=>{var g;const m=(g=await n())!==null&&g!==void 0?g:r;let y=new u(f?.headers);return y.has("apikey")||y.set("apikey",r),y.has("Authorization")||y.set("Authorization",`Bearer ${m}`),l(h,Je(Je({},f),{},{headers:y}))}};function w_(r){return r.endsWith("/")?r:r+"/"}function S_(r,n){var i,l;const{db:u,auth:h,realtime:f,global:g}=r,{db:m,auth:y,realtime:v,global:x}=n,_={db:Je(Je({},m),u),auth:Je(Je({},y),h),realtime:Je(Je({},v),f),storage:{},global:Je(Je(Je({},x),g),{},{headers:Je(Je({},(i=x?.headers)!==null&&i!==void 0?i:{}),(l=g?.headers)!==null&&l!==void 0?l:{})}),accessToken:async()=>""};return r.accessToken?_.accessToken=r.accessToken:delete _.accessToken,_}function j_(r){const n=r?.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(w_(n))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var E_=class extends c_{constructor(r){super(r)}},T_=class{constructor(r,n,i){var l,u;this.supabaseUrl=r,this.supabaseKey=n;const h=j_(r);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",h),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",h),this.storageUrl=new URL("storage/v1",h),this.functionsUrl=new URL("functions/v1",h);const f=`sb-${h.hostname.split(".")[0]}-auth-token`,g={db:f_,realtime:p_,auth:Je(Je({},m_),{},{storageKey:f}),global:h_},m=S_(i??{},g);if(this.storageKey=(l=m.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(u=m.global.headers)!==null&&u!==void 0?u:{},m.accessToken)this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(v,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}});else{var y;this.auth=this._initSupabaseAuthClient((y=m.auth)!==null&&y!==void 0?y:{},this.headers,m.global.fetch)}this.fetch=__(n,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Je({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.accessToken&&this.accessToken().then(v=>this.realtime.setAuth(v)).catch(v=>console.warn("Failed to set initial Realtime auth token:",v)),this.rest=new ix(new URL("rest/v1",h).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),this.storage=new a1(this.storageUrl.href,this.headers,this.fetch,i?.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new ex(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,n={},i={head:!1,get:!1,count:void 0}){return this.rest.rpc(r,n,i)}channel(r,n={config:{}}){return this.realtime.channel(r,n)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var r=this,n,i;if(r.accessToken)return await r.accessToken();const{data:l}=await r.auth.getSession();return(n=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&n!==void 0?n:r.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:n,detectSessionInUrl:i,storage:l,userStorage:u,storageKey:h,flowType:f,lock:g,debug:m,throwOnError:y},v,x){const _={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new E_({url:this.authUrl.href,headers:Je(Je({},_),v),storageKey:h,autoRefreshToken:r,persistSession:n,detectSessionInUrl:i,storage:l,userStorage:u,flowType:f,lock:g,debug:m,throwOnError:y,fetch:x,hasCustomAuthorizationHeader:Object.keys(this.headers).some(j=>j.toLowerCase()==="authorization")})}_initRealtimeClient(r){return new wx(this.realtimeUrl.href,Je(Je({},r),{},{params:Je(Je({},{apikey:this.supabaseKey}),r?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n?.access_token)})}_handleTokenChanged(r,n,i){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==i?(this.changedAccessToken=i,this.realtime.setAuth(i)):r==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const A_=(r,n,i)=>new T_(r,n,i);function C_(){if(typeof window<"u"||typeof process>"u")return!1;const r=process.version;if(r==null)return!1;const n=r.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}C_()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const R_="https://igjedwdxqwkpbgrmtrrq.supabase.co",N_="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlnamVkd2R4cXdrcGJncm10cnJxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU3MzQxMjQsImV4cCI6MjA4MTMxMDEyNH0.KyKd_kMFNGZbDtOpsu4ll5elOoc01D4HDk6rKgpDJcI",ie=A_(R_,N_);const O_=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),k_=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,i,l)=>l?l.toUpperCase():i.toLowerCase()),zp=r=>{const n=k_(r);return n.charAt(0).toUpperCase()+n.slice(1)},Tg=(...r)=>r.filter((n,i,l)=>!!n&&n.trim()!==""&&l.indexOf(n)===i).join(" ").trim(),D_=r=>{for(const n in r)if(n.startsWith("aria-")||n==="role"||n==="title")return!0};var z_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const U_=w.forwardRef(({color:r="currentColor",size:n=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:u="",children:h,iconNode:f,...g},m)=>w.createElement("svg",{ref:m,...z_,width:n,height:n,stroke:r,strokeWidth:l?Number(i)*24/Number(n):i,className:Tg("lucide",u),...!h&&!D_(g)&&{"aria-hidden":"true"},...g},[...f.map(([y,v])=>w.createElement(y,v)),...Array.isArray(h)?h:[h]]));const pe=(r,n)=>{const i=w.forwardRef(({className:l,...u},h)=>w.createElement(U_,{ref:h,iconNode:n,className:Tg(`lucide-${O_(zp(r))}`,`lucide-${r}`,l),...u}));return i.displayName=zp(r),i};const M_=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Ag=pe("activity",M_);const B_=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Cg=pe("award",B_);const L_=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],q_=pe("ban",L_);const $_=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Up=pe("calendar",$_);const H_=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],ku=pe("camera",H_);const G_=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Un=pe("check",G_);const I_=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],yu=pe("chevron-left",I_);const V_=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Rg=pe("chevron-right",V_);const K_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Ji=pe("circle-alert",K_);const Y_=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],qn=pe("circle-check-big",Y_);const X_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],P_=pe("circle-check",X_);const J_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Du=pe("circle-x",J_);const Q_=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],F_=pe("clipboard-list",Q_);const Z_=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Hi=pe("clock",Z_);const W_=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],ew=pe("credit-card",W_);const tw=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Ng=pe("dollar-sign",tw);const aw=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],nw=pe("ellipsis",aw);const rw=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],iw=pe("eye",rw);const sw=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Og=pe("file-text",sw);const lw=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],ow=pe("funnel",lw);const cw=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],uw=pe("gamepad-2",cw);const dw=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],hw=pe("history",dw);const fw=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],mw=pe("key",fw);const pw=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],zr=pe("loader",pw);const gw=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],yw=pe("lock",gw);const vw=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],kg=pe("log-out",vw);const bw=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],xw=pe("pause",bw);const _w=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Mp=pe("play",_w);const ww=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Dg=pe("plus",ww);const Sw=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],jw=pe("refresh-cw",Sw);const Ew=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Tw=pe("save",Ew);const Aw=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Xu=pe("search",Aw);const Cw=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],zg=pe("settings",Cw);const Rw=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],ha=pe("shield",Rw);const Nw=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],Bp=pe("skull",Nw);const Ow=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],kw=pe("square",Ow);const Dw=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],zw=pe("trending-up",Dw);const Uw=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Ul=pe("triangle-alert",Uw);const Mw=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Bw=pe("upload",Mw);const Lw=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],qw=pe("user-plus",Lw);const $w=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Ug=pe("user",$w);const Hw=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Rl=pe("users",Hw);const Gw=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Iw=pe("wallet",Gw);const Vw=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Kw=pe("x",Vw),Yw=()=>{const[r,n]=w.useState(!1);fa();const i=async()=>{n(!0);try{const{error:l}=await ie.auth.signInWithOAuth({provider:"discord",options:{redirectTo:`${window.location.origin}/nacionmx-postulaciones/`,scopes:"guilds guilds.members.read",queryParams:{prompt:"consent"}}});if(l)throw l}catch(l){console.error("Error logging in with Discord:",l.message),n(!1)}};return c.jsx("div",{style:ua.container,children:c.jsxs("div",{style:ua.card,children:[c.jsxs("div",{style:ua.header,children:[c.jsx("div",{style:ua.iconWrapper,children:c.jsx(ha,{size:48,color:"#e74c3c"})}),c.jsx("h1",{style:ua.title,children:"PANEL ADMINISTRATIVO"}),c.jsx("p",{style:ua.subtitle,children:"Acceso Restringido - Nacin MX"})]}),c.jsxs("div",{style:ua.content,children:[c.jsxs("p",{style:ua.description,children:["rea exclusiva para el staff de Nacin MX.",c.jsx("br",{}),"Utiliza tu cuenta de Discord vinculada para ingresar."]}),c.jsx("button",{onClick:i,style:ua.discordButton,disabled:r,children:r?"Redirigiendo...":c.jsxs(c.Fragment,{children:[c.jsx("svg",{width:"24",height:"24",viewBox:"0 0 127.14 96.36",fill:"white",style:{marginRight:"0.5rem"},children:c.jsx("path",{d:"M107.7,8.07A105.15,105.15,0,0,0,81.47,0a72.06,72.06,0,0,0-3.36,6.83A97.68,97.68,0,0,0,49,6.83,72.37,72.37,0,0,0,45.64,0,105.09,105.09,0,0,0,19.39,8.09C2.79,32.65-1.71,56.6.54,80.21h0A105.73,105.73,0,0,0,32.71,96.36,77.11,77.11,0,0,0,39.6,85.25a68.42,68.42,0,0,1-10.85-5.18c.91-.66,1.8-1.34,2.66-2a75.57,75.57,0,0,0,64.32,0c.87.71,1.76,1.39,2.66,2a68.68,68.68,0,0,1-10.87,5.19,77,77,0,0,0,6.89,11.1A105.89,105.89,0,0,0,126.6,80.22c2.36-24.44-5-47.25-18.9-72.15ZM42.45,65.69C36.18,65.69,31,60,31,53s5-12.74,11.43-12.74S54,46,53.89,53,48.84,65.69,42.45,65.69Zm42.24,0C78.41,65.69,73.25,60,73.25,53s5-12.74,11.44-12.74S96.23,46,96.12,53,91.08,65.69,84.69,65.69Z"})}),"Iniciar Sesin con Discord"]})})]}),c.jsx("div",{style:ua.footer,children:c.jsx("small",{children:"Acceso monitoreado. Solo personal autorizado."})})]})})},ua={container:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"radial-gradient(circle at center, #1a1a1a 0%, #000000 100%)"},card:{background:"var(--bg-card)",padding:"3rem",borderRadius:"var(--radius-lg)",border:"1px solid var(--border)",width:"100%",maxWidth:"450px",boxShadow:"0 20px 50px rgba(231, 76, 60, 0.15)",backdropFilter:"blur(10px)",textAlign:"center"},iconWrapper:{width:"80px",height:"80px",background:"rgba(231, 76, 60, 0.1)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1rem"},header:{marginBottom:"2rem"},title:{fontSize:"2rem",fontWeight:"800",color:"var(--text-main)",marginTop:"1rem",letterSpacing:"1px"},subtitle:{color:"#e74c3c",textTransform:"uppercase",letterSpacing:"2px",fontSize:"0.85rem",marginTop:"0.5rem"},content:{display:"flex",flexDirection:"column",gap:"1.5rem"},description:{color:"var(--text-muted)",fontSize:"0.95rem",marginBottom:"1rem"},discordButton:{background:"#5865F2",color:"#fff",padding:"1rem",borderRadius:"var(--radius)",fontSize:"1rem",fontWeight:"600",border:"none",transition:"var(--transition)",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},footer:{marginTop:"2rem",textAlign:"center",color:"var(--text-muted)",borderTop:"1px solid var(--border)",paddingTop:"1.5rem"}},Lp="1398525215134318713",qp="1460059764494041211",Xw=1800*1e3,vu=["1412882240991658177","1449856794980516032","1412882245735420006","1460064525297647812","1412882248411381872","1412887079612059660","1412887167654690908"],Mg=()=>{const[r,n]=w.useState(!1),[i,l]=w.useState(!1),[u,h]=w.useState(null),[f,g]=w.useState(null),m=w.useCallback(async y=>{if(!y?.provider_token)return h("No provider token found"),!1;n(!0);try{const v=`discord_member_v3_${y.user.id}`,x=sessionStorage.getItem(v);if(x)try{const N=JSON.parse(x),O=Date.now()-(N.timestamp||0);if(O<Xw)return console.log("[StaffCheck] Using cached staff status (age: "+Math.round(O/1e3)+"s)"),g(N.memberData),l(N.isStaff),n(!1),N.isStaff;console.log("[StaffCheck] Cache expired, refreshing..."),sessionStorage.removeItem(v)}catch{console.warn("[StaffCheck] Invalid cache, clearing..."),sessionStorage.removeItem(v)}const _=async(N,O)=>{try{const M=await fetch(`https://discord.com/api/users/@me/guilds/${N}/member`,{headers:{Authorization:`Bearer ${y.provider_token}`}});if(M.status===429){console.warn(`[StaffCheck] Rate limited by Discord API for ${O}`);const U=M.headers.get("Retry-After")||5;return console.log(`[StaffCheck] Retry after ${U} seconds`),null}return M.ok?await M.json():(console.warn(`[StaffCheck] ${O} returned ${M.status}`),null)}catch(M){return console.error(`[StaffCheck] Error fetching ${O}:`,M),null}};console.log("[StaffCheck] Checking Main Guild:",Lp);let j=await _(Lp,"Main Guild"),A=!1;if(j&&j.roles&&(console.log("[StaffCheck] Main Guild roles:",j.roles),A=j.roles.some(N=>vu.includes(N)),A))return console.log("[StaffCheck]  Staff role found in Main Guild"),g(j),l(!0),sessionStorage.setItem(v,JSON.stringify({isStaff:!0,memberData:j,timestamp:Date.now()})),n(!1),!0;console.log("[StaffCheck] Checking Staff Guild:",qp);const R=await _(qp,"Staff Guild");return R&&R.roles&&(console.log("[StaffCheck] Staff Guild roles:",R.roles),R.roles.some(O=>vu.includes(O)))?(console.log("[StaffCheck]  Staff role found in Staff Guild"),g(R),l(!0),sessionStorage.setItem(v,JSON.stringify({isStaff:!0,memberData:R,timestamp:Date.now()})),n(!1),!0):(console.warn("[StaffCheck]  No staff roles found in Main or Staff guilds."),console.warn("[StaffCheck] ALLOWED_ROLE_IDS:",vu),l(!1),g(j||R),sessionStorage.setItem(v,JSON.stringify({isStaff:!1,memberData:j||R,timestamp:Date.now()})),n(!1),!1)}catch(v){return console.error("[StaffCheck] Error:",v),h(v.message),l(!1),n(!1),!1}},[]);return{loading:r,isStaff:i,error:u,memberData:f,checkStaffStatus:m}},Bg=w.createContext(null),Pw=()=>w.useContext(Bg),Lg=({children:r})=>{const n=fa(),{loading:i,isStaff:l,memberData:u,checkStaffStatus:h}=Mg(),[f,g]=wl.useState(!0);return w.useEffect(()=>{let m=!0;const y=async()=>{const{data:{session:x}}=await ie.auth.getSession();if(!x){if(window.location.hash.includes("access_token"))return;m&&n("/login");return}m&&(await h(x),g(!1))},{data:{subscription:v}}=ie.auth.onAuthStateChange(async(x,_)=>{x==="SIGNED_IN"&&_?(await h(_),m&&g(!1)):x==="SIGNED_OUT"&&m&&n("/login")});return y(),()=>{m=!1,v.unsubscribe()}},[]),w.useEffect(()=>{!f&&!i&&(l||(alert(" Acceso Restringido: No tienes permisos de Staff para ver esta seccin."),n("/")))},[f,i,l,n]),f||i?c.jsxs("div",{style:Jw.center,children:[c.jsx(zr,{size:48,className:"animate-spin",color:"var(--primary)"}),c.jsx("p",{style:{marginTop:"1rem",color:"var(--text-muted)"},children:"Verificando credenciales..."}),c.jsx("style",{children:`
                    .animate-spin { animation: spin 1s linear infinite; }
                    @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
                `})]}):c.jsx(Bg.Provider,{value:u,children:l?r:null})},Jw={center:{height:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",background:"var(--bg-dark)",color:"var(--text-main)"}},Qw=()=>{const r=fa(),n=Pw(),[i,l]=w.useState({username:"Usuario",role:"Miembro",avatar:null});w.useEffect(()=>{if(n&&n.user){let h=n.nick||n.user.username,f=null;n.user.avatar&&(f=`https://cdn.discordapp.com/avatars/${n.user.id}/${n.user.avatar}.png`);let g="Miembro";const m=n.roles||[];m.includes("1412882240991658177")?g="Owner":m.includes("1449856794980516032")?g="Co-Owner":m.includes("1412882245735420006")||m.includes("1460064525297647812")?g="Junta Directiva":m.includes("1412882248411381872")?g="Administrador":m.includes("1412887079612059660")?g="Staff":m.includes("1412887167654690908")&&(g="Staff Ent."),l({username:h,role:g,avatar:f})}},[n]);const u=async()=>{sessionStorage.clear(),await ie.auth.signOut(),r("/login")};return c.jsxs("div",{className:"layout-container",children:[c.jsxs("aside",{className:"sidebar",children:[c.jsxs("div",{className:"sidebar-header",children:[c.jsx(ha,{size:32,color:"var(--primary)"}),c.jsx("span",{className:"sidebar-title",children:"NACIN MX"}),c.jsx("p",{style:{fontSize:"0.7rem",color:"var(--text-muted)",marginTop:"0.25rem"},children:"Portal de Postulaciones"})]}),c.jsxs("nav",{className:"nav-links",children:[c.jsxs(da,{to:"/dashboard",end:!0,className:({isActive:h})=>`nav-item ${h?"active":""}`,children:[c.jsx(Og,{size:20}),c.jsx("span",{children:"Solicitudes"})]}),c.jsxs(da,{to:"/dashboard/staff",className:({isActive:h})=>`nav-item ${h?"active":""}`,children:[c.jsx(Rl,{size:20}),c.jsx("span",{children:"Staff Hub"})]}),c.jsxs(da,{to:"/dashboard/shifts",className:({isActive:h})=>`nav-item ${h?"active":""}`,children:[c.jsx(Hi,{size:20}),c.jsx("span",{children:"Turnos"})]}),c.jsxs(da,{to:"/dashboard/finance",className:({isActive:h})=>`nav-item ${h?"active":""}`,children:[c.jsx(Ng,{size:20}),c.jsx("span",{children:"Finanzas"})]}),c.jsxs(da,{to:"/dashboard/bolo",className:({isActive:h})=>`nav-item ${h?"active":""}`,children:[c.jsx(Ul,{size:20}),c.jsx("span",{children:"BOLO"})]}),c.jsxs(da,{to:"/dashboard/logs",className:({isActive:h})=>`nav-item ${h?"active":""}`,children:[c.jsx(F_,{size:20}),c.jsx("span",{children:"Registros"})]}),c.jsxs(da,{to:"/dashboard/status",className:({isActive:h})=>`nav-item ${h?"active":""}`,children:[c.jsx(Ag,{size:20}),c.jsx("span",{children:"Estado"})]}),c.jsxs(da,{to:"/dashboard/admin",className:({isActive:h})=>`nav-item ${h?"active":""}`,children:[c.jsx(Rl,{size:20}),c.jsx("span",{children:"Admin"})]}),c.jsxs(da,{to:"/dashboard/settings",className:({isActive:h})=>`nav-item ${h?"active":""}`,children:[c.jsx(zg,{size:20}),c.jsx("span",{children:"Configuracin"})]})]}),c.jsxs("div",{className:"user-profile",children:[i.avatar?c.jsx("img",{src:i.avatar,alt:"Profile",className:"user-avatar"}):c.jsx("div",{className:"user-avatar-placeholder",children:i.username.charAt(0)}),c.jsxs("div",{className:"user-info",children:[c.jsx("h4",{children:i.username}),c.jsx("span",{className:"user-role-badge",children:i.role})]}),c.jsx("button",{onClick:u,className:"nav-item logout-btn",title:"Cerrar Sesin",children:c.jsx(kg,{size:18})})]})]}),c.jsx("main",{className:"main-content",children:c.jsx(yb,{})})]})},Fw=({questions:r})=>{const[n,i]=w.useState({}),[l,u]=w.useState({}),h=(y,v)=>{i(x=>({...x,[y]:x[y]===v?null:v}))},f=(y,v)=>{u(x=>({...x,[y]:v}))},m=(()=>{const y=Object.keys(n).length;if(y===0)return{total:0,max:0,percentage:0};const v=Object.values(n).reduce((j,A)=>A==="correct"?j+1:A==="partial"?j+.5:j,0),x=y,_=x>0?Math.round(v/x*100):0;return{total:v,max:x,percentage:_}})();return console.log("[QuestionReview] Rendering with questions:",r),console.log("[QuestionReview] Questions array length:",r?.length),!r||r.length===0?c.jsx("div",{style:{padding:"1rem",color:"#e74c3c"},children:"No hay preguntas disponibles para calificar"}):c.jsxs("div",{style:Pe.container,children:[c.jsxs("div",{style:Pe.scoreCounter,children:[c.jsx("div",{style:Pe.scoreLabel,children:"Puntuacin"}),c.jsxs("div",{style:Pe.scoreValue,children:[m.total.toFixed(1)," / ",m.max]}),c.jsxs("div",{style:Pe.scorePercentage,children:[m.percentage,"%"]})]}),c.jsx("div",{style:Pe.questionsList,children:r.map((y,v)=>{const x=n[v],_=y.question||y.pregunta,j=y.answer||y.respuesta;return c.jsxs("div",{style:Pe.questionCard,children:[c.jsx("div",{style:Pe.questionHeader,children:c.jsxs("strong",{children:["P",v+1]})}),c.jsx("div",{style:Pe.questionText,children:c.jsx("strong",{children:_})}),c.jsx("div",{style:Pe.answerText,children:j}),c.jsxs("div",{style:Pe.scoreButtons,children:[c.jsxs("button",{onClick:()=>h(v,"correct"),style:{...Pe.scoreBtn,...x==="correct"?Pe.scoreBtnCorrectActive:Pe.scoreBtnCorrect},title:"Correcta (1 punto)",children:[c.jsx(qn,{size:16})," Correcta"]}),c.jsxs("button",{onClick:()=>h(v,"partial"),style:{...Pe.scoreBtn,...x==="partial"?Pe.scoreBtnPartialActive:Pe.scoreBtnPartial},title:"Parcial (0.5 puntos)",children:[c.jsx(Ul,{size:16})," Parcial"]}),c.jsxs("button",{onClick:()=>h(v,"incorrect"),style:{...Pe.scoreBtn,...x==="incorrect"?Pe.scoreBtnIncorrectActive:Pe.scoreBtnIncorrect},title:"Incorrecta (0 puntos)",children:[c.jsx(Du,{size:16})," Incorrecta"]})]}),c.jsx("div",{style:Pe.noteContainer,children:c.jsx("input",{type:"text",placeholder:"Nota para esta pregunta (opcional)...",value:l[v]||"",onChange:A=>f(v,A.target.value),style:Pe.noteInput})})]},v)})})]})},Pe={container:{display:"flex",flexDirection:"column",gap:"1.5rem"},scoreCounter:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",borderRadius:"12px",padding:"1.5rem",textAlign:"center",color:"white",boxShadow:"0 4px 12px rgba(102, 126, 234, 0.3)"},scoreLabel:{fontSize:"0.9rem",opacity:.9,marginBottom:"0.5rem",textTransform:"uppercase",letterSpacing:"1px"},scoreValue:{fontSize:"2.5rem",fontWeight:"bold",marginBottom:"0.25rem"},scorePercentage:{fontSize:"1.25rem",opacity:.95},questionsList:{display:"flex",flexDirection:"column",gap:"1rem"},questionCard:{border:"1px solid #e0e0e0",borderRadius:"10px",padding:"1rem",background:"#ffffff",transition:"box-shadow 0.2s",":hover":{boxShadow:"0 2px 8px rgba(0,0,0,0.1)"}},questionHeader:{fontSize:"0.85rem",color:"#667eea",marginBottom:"0.5rem",fontWeight:"600"},questionText:{marginBottom:"0.75rem",fontSize:"0.95rem",color:"#2c3e50"},answerText:{padding:"0.75rem",background:"#f8f9fa",borderRadius:"6px",marginBottom:"1rem",fontSize:"0.9rem",color:"#495057",lineHeight:"1.6"},scoreButtons:{display:"flex",gap:"0.5rem",marginBottom:"0.75rem",flexWrap:"wrap"},scoreBtn:{flex:"1",minWidth:"100px",padding:"0.6rem 1rem",borderRadius:"8px",border:"2px solid transparent",cursor:"pointer",fontWeight:"600",fontSize:"0.85rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",transition:"all 0.2s",opacity:.7},scoreBtnCorrect:{background:"#ffffff",border:"2px solid #2ecc71",color:"#2ecc71"},scoreBtnCorrectActive:{background:"#2ecc71",color:"white",opacity:1,transform:"scale(1.05)"},scoreBtnPartial:{background:"#ffffff",border:"2px solid #f39c12",color:"#f39c12"},scoreBtnPartialActive:{background:"#f39c12",color:"white",opacity:1,transform:"scale(1.05)"},scoreBtnIncorrect:{background:"#ffffff",border:"2px solid #e74c3c",color:"#e74c3c"},scoreBtnIncorrectActive:{background:"#e74c3c",color:"white",opacity:1,transform:"scale(1.05)"},noteContainer:{marginTop:"0.5rem"},noteInput:{width:"100%",padding:"0.6rem",border:"1px solid #dee2e6",borderRadius:"6px",fontSize:"0.85rem",outline:"none",transition:"border-color 0.2s",":focus":{borderColor:"#667eea"}}},Zw=()=>{const[r,n]=w.useState([]),[i,l]=w.useState(null),[u,h]=w.useState(!0),[f,g]=w.useState([]),[m,y]=w.useState(!1),[v,x]=w.useState(null),[_,j]=w.useState(""),[A,R]=w.useState(""),[N,O]=w.useState(!1);w.useEffect(()=>{M()},[]),w.useEffect(()=>{i&&i.applicant_discord_id&&(U(i.applicant_discord_id),j(i.internal_notes||""),R(i.rejection_reason||""),x(null))},[i]);const M=async()=>{h(!0);const{data:Y,error:L}=await ie.from("applications").select("*").order("created_at",{ascending:!1});L?console.error(L):n(Y||[]),h(!1)},U=async Y=>{y(!0);const{data:L}=await ie.from("applications").select("*").eq("applicant_discord_id",Y).neq("id",i?.id).order("created_at",{ascending:!1});g(L||[]),y(!1)},W=async()=>{if(!i||!v)return;O(!0);const Y=v==="approve"?"approved":"rejected",{data:{user:L}}=await ie.auth.getUser(),J={status:Y,internal_notes:_,rejection_reason:v==="reject"?A:null,processed_by:L?.email||"Admin",processed_at:new Date().toISOString()},{error:K}=await ie.from("applications").update(J).eq("id",i.id);if(K)alert("Error actualizando: "+K.message);else{if(Y==="approved")try{(await fetch("http://localhost:3001/api/assign-postulante-role",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer default"},body:JSON.stringify({discord_user_id:i.applicant_discord_id,application_id:i.id})})).ok||(console.error("Failed to assign role via webhook"),alert(" Aplicacin aprobada, pero el rol no pudo ser asignado automticamente. Usa /aceptar postu en Discord."))}catch(le){console.error("Webhook error:",le),alert(" Aplicacin aprobada, pero el rol no pudo ser asignado automticamente. Usa /aceptar postu en Discord.")}M(),l(null)}O(!1)},te=Y=>{const L={pending:{bg:"#f39c1220",color:"#f39c12",icon:c.jsx(Up,{size:14})},approved:{bg:"#2ecc7120",color:"#2ecc71",icon:c.jsx(qn,{size:14})},rejected:{bg:"#e74c3c20",color:"#e74c3c",icon:c.jsx(Du,{size:14})}},J=L[Y]||L.pending;return c.jsxs("span",{style:{background:J.bg,color:J.color,padding:"0.4rem 0.8rem",borderRadius:"6px",display:"inline-flex",alignItems:"center",gap:"0.4rem",fontSize:"0.85rem",fontWeight:"700",textTransform:"uppercase"},children:[J.icon," ",Y]})};return c.jsxs("div",{style:oe.container,children:[c.jsx("div",{style:oe.header,children:c.jsxs("div",{children:[c.jsx("h1",{style:oe.title,children:"Postulaciones de Staff"}),c.jsx("p",{style:oe.subtitle,children:"Revisa y gestiona las solicitudes recibidas"})]})}),u?c.jsx("div",{style:oe.loading,children:"Cargando postulaciones..."}):r.length===0?c.jsxs("div",{style:oe.empty,children:[c.jsx(Og,{size:64,color:"var(--text-muted)"}),c.jsx("p",{children:"No se han recibido postulaciones an"})]}):c.jsx("div",{style:oe.grid,children:r.map(Y=>{let L={};try{const le=Y.content||Y.form_data;L=typeof le=="string"?JSON.parse(le):le}catch{L={}}const J=L?.edad||L?.personal_info?.edad||"N/A",K=L?.experiencia||(typeof L?.experiencia=="string"?L.experiencia.substring(0,50)+"...":"N/A");return c.jsxs("div",{style:oe.card,children:[c.jsxs("div",{style:oe.cardHeader,children:[c.jsxs("div",{style:oe.avatarWrap,children:[c.jsx("div",{style:oe.avatar,children:Y.applicant_username?.charAt(0).toUpperCase()||"A"}),c.jsxs("div",{children:[c.jsx("h3",{style:oe.name,children:Y.applicant_username}),c.jsxs("span",{style:oe.date,children:[c.jsx(Up,{size:14})," ",new Date(Y.created_at).toLocaleDateString("es-MX")]})]})]}),te(Y.status)]}),c.jsxs("div",{style:oe.cardBody,children:[c.jsxs("div",{style:oe.infoRow,children:[c.jsx("span",{style:oe.label,children:"Tipo:"}),c.jsx("span",{style:oe.value,children:Y.type})]}),c.jsxs("div",{style:oe.infoRow,children:[c.jsx("span",{style:oe.label,children:"Edad:"}),c.jsx("span",{style:oe.value,children:J})]}),c.jsxs("div",{style:oe.infoRow,children:[c.jsx("span",{style:oe.label,children:"Experiencia:"}),c.jsx("span",{style:oe.value,children:K})]})]}),c.jsxs("button",{onClick:()=>l(Y),style:oe.viewBtn,children:[c.jsx(iw,{size:16})," Ver Detalles"]})]},Y.id)})}),i&&c.jsx("div",{style:oe.overlay,onClick:()=>l(null),children:c.jsxs("div",{style:oe.modal,onClick:Y=>Y.stopPropagation(),children:[c.jsxs("div",{style:oe.modalHeader,children:[c.jsx("h2",{children:"Detalles de Postulacin"}),c.jsx("button",{onClick:()=>l(null),style:oe.closeBtn,children:""})]}),c.jsxs("div",{style:oe.modalContainer,children:[c.jsxs("div",{style:oe.modalContent,children:[c.jsxs("div",{style:oe.detailSection,children:[c.jsx("h3",{children:"Informacin Personal"}),c.jsxs("p",{children:[c.jsx("strong",{children:"Nombre:"})," ",i.applicant_username]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Discord ID:"})," ",i.applicant_discord_id]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Estado:"})," ",te(i.status)]}),i.processed_by&&c.jsxs("p",{style:{fontSize:"0.85rem",color:"var(--text-muted)"},children:["Procesado por: ",i.processed_by]})]}),i.rejection_reason&&c.jsxs("div",{style:{...oe.detailSection,background:"rgba(231, 76, 60, 0.1)",padding:"1rem",borderRadius:"8px",border:"1px solid #e74c3c"},children:[c.jsx("h3",{style:{color:"#e74c3c",marginTop:0},children:"Razn de Rechazo"}),c.jsx("p",{style:{margin:0},children:i.rejection_reason})]}),i.internal_notes&&c.jsxs("div",{style:{...oe.detailSection,background:"rgba(241, 196, 15, 0.1)",padding:"1rem",borderRadius:"8px",border:"1px solid #f1c40f"},children:[c.jsx("h3",{style:{color:"#f1c40f",marginTop:0},children:"Notas Internas"}),c.jsx("p",{style:{margin:0},children:i.internal_notes})]}),i.content&&c.jsxs("div",{style:oe.detailSection,children:[c.jsx("h3",{children:"Respuestas / Contenido"}),(()=>{try{const Y=typeof i.content=="string"?JSON.parse(i.content):i.content,L=J=>{if(!J||typeof J!="string")return[];const K=[],le=J.split(`
`);let _e=null,Te=null;for(const lt of le){const Ke=lt.trim(),Ie=Ke.match(/^Q(\d+):\s*(.+)/);Ie&&(_e&&Te&&K.push({question:_e,answer:Te}),_e=Ie[2],Te=null);const q=Ke.match(/^R:\s*(.+)/);q&&_e&&(Te=q[1])}return _e&&Te&&K.push({question:_e,answer:Te}),K};if(Y.personal_info||Y.experiencia){let J=[];return Array.isArray(Y.respuestas)&&Y.respuestas.length>0?J=Y.respuestas:typeof i.content=="string"&&(J=L(i.content)),c.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[Y.experiencia&&c.jsxs("div",{children:[" ",c.jsx("h4",{style:oe.subHeader,children:"Experiencia"})," ",c.jsx("p",{style:oe.textBlock,children:Y.experiencia})," "]}),Y.motivacion&&c.jsxs("div",{children:[" ",c.jsx("h4",{style:oe.subHeader,children:"Motivacin"})," ",c.jsx("p",{style:oe.textBlock,children:Y.motivacion})," "]}),Y.disponibilidad&&c.jsxs("div",{children:[" ",c.jsx("h4",{style:oe.subHeader,children:"Disponibilidad"})," ",c.jsx("p",{style:oe.textBlock,children:Y.disponibilidad})," "]}),J.length>0&&c.jsxs("div",{children:[c.jsx("h4",{style:oe.subHeader,children:"Test de Conocimiento"}),c.jsx(Fw,{questions:J})]})]})}else return Object.entries(Y).map(([J,K])=>c.jsxs("p",{children:[c.jsxs("strong",{children:[J,":"]})," ",K]},J))}catch{return c.jsx("p",{style:{whiteSpace:"pre-wrap"},children:i.content})}})()]})]}),c.jsxs("div",{style:oe.modalSidebar,children:[i.status==="pending"&&c.jsxs("div",{style:oe.sectionCard,children:[c.jsx("h3",{style:{marginTop:0,marginBottom:"1rem"},children:"Acciones"}),v?c.jsxs("div",{className:"fade-in",children:[c.jsxs("div",{style:{marginBottom:"1rem"},children:[c.jsx("label",{style:oe.label,children:v==="approve"?"Notas Internas (Opcional)":"Razn de Rechazo (Requerido)"}),v==="reject"?c.jsx("textarea",{style:oe.textarea,value:A,onChange:Y=>R(Y.target.value),placeholder:"Explica por qu se rechaza..."}):c.jsx("textarea",{style:oe.textarea,value:_,onChange:Y=>j(Y.target.value),placeholder:"Notas para otros staffs..."})]}),c.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[c.jsx("button",{onClick:()=>x(null),style:{...oe.actionBtn,background:"var(--bg-dark)",border:"1px solid var(--border)"},children:"Cancelar"}),c.jsx("button",{onClick:W,disabled:N||v==="reject"&&!A.trim(),style:{...oe.actionBtn,background:v==="approve"?"#2ecc71":"#e74c3c",color:v==="approve"?"black":"white",opacity:N||v==="reject"&&!A.trim()?.5:1},children:N?"...":"Confirmar"})]})]}):c.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[c.jsxs("button",{onClick:()=>x("approve"),style:{...oe.actionBtn,background:"#2ecc71",color:"black"},children:[c.jsx(qn,{size:18})," Aprobar"]}),c.jsxs("button",{onClick:()=>x("reject"),style:{...oe.actionBtn,background:"#e74c3c",color:"white"},children:[c.jsx(Du,{size:18})," Rechazar"]})]})]}),c.jsxs("div",{style:oe.sectionCard,children:[c.jsxs("h3",{style:{marginTop:0,display:"flex",alignItems:"center",gap:"0.5rem"},children:[c.jsx(hw,{size:18})," Historial"]}),m?c.jsx("p",{children:"Cargando..."}):c.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:f.length===0?c.jsx("p",{style:{color:"var(--text-muted)",fontSize:"0.9rem"},children:"Sin historial previo."}):f.map(Y=>c.jsxs("div",{style:oe.historyItem,children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.25rem"},children:[c.jsx("span",{style:{fontSize:"0.8rem",color:"var(--text-muted)"},children:new Date(Y.created_at).toLocaleDateString()}),te(Y.status)]}),c.jsx("div",{style:{fontSize:"0.85rem"},children:c.jsx("strong",{children:Y.type})}),Y.rejection_reason&&c.jsxs("div",{style:{fontSize:"0.8rem",color:"#e74c3c",marginTop:"0.25rem"},children:['"',Y.rejection_reason,'"']})]},Y.id))})]})]})]})]})})]})},oe={container:{paddingBottom:"2rem"},header:{marginBottom:"2rem"},title:{fontSize:"2rem",fontWeight:"800",color:"var(--text-main)"},subtitle:{color:"var(--text-muted)",marginTop:"0.25rem"},loading:{textAlign:"center",padding:"3rem",color:"var(--text-muted)",fontSize:"1.1rem"},empty:{textAlign:"center",padding:"4rem",color:"var(--text-muted)"},grid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(320px, 1fr))",gap:"1.5rem"},card:{background:"var(--bg-card)",border:"1px solid var(--border)",borderRadius:"12px",padding:"1.5rem",transition:"0.2s"},cardHeader:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"1.5rem"},avatarWrap:{display:"flex",gap:"1rem",alignItems:"center"},avatar:{width:"48px",height:"48px",borderRadius:"50%",background:"var(--primary)",color:"black",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"900",fontSize:"1.25rem"},name:{fontSize:"1.1rem",fontWeight:"700",margin:0},date:{fontSize:"0.85rem",color:"var(--text-muted)",display:"flex",alignItems:"center",gap:"0.3rem"},cardBody:{marginBottom:"1.25rem"},infoRow:{display:"flex",justifyContent:"space-between",padding:"0.5rem 0",borderBottom:"1px solid var(--border)"},label:{color:"var(--text-muted)",fontSize:"0.9rem",fontWeight:"600"},value:{fontWeight:"700"},viewBtn:{width:"100%",background:"var(--primary)",color:"black",border:"none",padding:"0.75rem",borderRadius:"8px",fontWeight:"700",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",transition:"0.2s"},overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},modal:{background:"var(--bg-card)",borderRadius:"16px",maxWidth:"1100px",width:"95%",height:"85vh",display:"flex",flexDirection:"column",border:"1px solid var(--border)"},modalHeader:{padding:"1.5rem",borderBottom:"1px solid var(--border)",display:"flex",justifyContent:"space-between",alignItems:"center"},closeBtn:{background:"transparent",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"var(--text-muted)"},modalContainer:{display:"flex",flex:1,overflow:"hidden"},modalContent:{flex:2,padding:"1.5rem",overflowY:"auto"},modalSidebar:{flex:1,padding:"1.5rem",background:"var(--bg-dark)",borderLeft:"1px solid var(--border)",overflowY:"auto",display:"flex",flexDirection:"column",gap:"1.5rem"},detailSection:{marginBottom:"1.5rem"},actionBtn:{flex:1,padding:"0.75rem",borderRadius:"8px",border:"none",fontWeight:"700",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},subHeader:{color:"var(--primary)",marginTop:0,marginBottom:"0.5rem",fontSize:"1rem"},textBlock:{background:"rgba(255,255,255,0.05)",padding:"1rem",borderRadius:"8px",lineHeight:"1.6",fontSize:"0.95rem"},qaBlock:{marginBottom:"1rem",background:"rgba(255,255,255,0.03)",padding:"1rem",borderRadius:"8px"},question:{display:"block",color:"#ffd700",marginBottom:"0.5rem",fontSize:"0.95rem"},answer:{margin:0,color:"#e0e0e0",lineHeight:"1.5"},sectionCard:{background:"var(--bg-card)",padding:"1rem",borderRadius:"8px",border:"1px solid var(--border)"},textarea:{width:"100%",minHeight:"80px",background:"var(--bg)",border:"1px solid var(--border)",borderRadius:"6px",color:"white",padding:"0.5rem",fontFamily:"inherit"},historyItem:{padding:"0.75rem",background:"var(--bg)",borderRadius:"6px",border:"1px solid var(--border)"}},Ww=()=>{const[r,n]=w.useState([]),[i,l]=w.useState(!0),[u,h]=w.useState({totalStaff:0,activeNow:0,totalHours:0}),[f,g]=w.useState(""),[m,y]=w.useState("list");w.useEffect(()=>{m==="list"&&v()},[m]);const v=async()=>{l(!0);try{const{data:_,error:j}=await ie.from("profiles").select("*").order("role");if(j)throw j;const{data:A,error:R}=await ie.from("time_logs").select("user_id, duration_minutes, status");if(R)throw R;const N=_.map(O=>{const M=A.filter(L=>L.user_id===O.id),W=(M.reduce((L,J)=>L+(J.duration_minutes||0),0)/60).toFixed(1),Y=M.some(L=>L.status==="active")?"online":O.status||"offline";return{...O,totalHours:W,status:Y,actions:M.length}});n(N),h({totalStaff:_.length,activeNow:N.filter(O=>O.status==="online").length,totalHours:N.reduce((O,M)=>O+parseFloat(M.totalHours),0).toFixed(0)})}catch(_){console.error("Error fetching staff data:",_)}finally{l(!1)}},x=r.filter(_=>(_.username||"").toLowerCase().includes(f.toLowerCase())||(_.full_name||"").toLowerCase().includes(f.toLowerCase()));return c.jsxs("div",{className:"staff-hub-container",children:[c.jsxs("div",{className:"page-header",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"page-title",children:"Directorio de Staff"}),c.jsx("p",{className:"page-subtitle",children:"Gestin de horas y actividad del equipo."})]}),c.jsxs("button",{className:"btn-add",children:[c.jsx(qw,{size:18})," Nuevo Miembro"]})]}),c.jsxs("div",{className:"stats-grid",children:[c.jsxs("div",{className:"stat-card",children:[c.jsx("div",{className:"stat-icon",style:{background:"rgba(52, 152, 219, 0.2)",color:"#3498db"},children:c.jsx(ha,{size:24})}),c.jsxs("div",{className:"stat-info",children:[c.jsx("h3",{children:"Total Staff"}),c.jsx("p",{children:u.totalStaff})]})]}),c.jsxs("div",{className:"stat-card",children:[c.jsx("div",{className:"stat-icon",style:{background:"rgba(46, 204, 113, 0.2)",color:"#2ecc71"},children:c.jsx(Hi,{size:24})}),c.jsxs("div",{className:"stat-info",children:[c.jsx("h3",{children:"Activos Ahora"}),c.jsx("p",{children:u.activeNow})]})]}),c.jsxs("div",{className:"stat-card",children:[c.jsx("div",{className:"stat-icon",style:{background:"rgba(241, 196, 15, 0.2)",color:"#f1c40f"},children:c.jsx(Cg,{size:24})}),c.jsxs("div",{className:"stat-info",children:[c.jsx("h3",{children:"Horas Totales"}),c.jsxs("p",{children:[u.totalHours," hrs"]})]})]})]}),c.jsxs("div",{className:"search-bar",children:[c.jsx(Xu,{size:18,color:"var(--text-muted)"}),c.jsx("input",{type:"text",placeholder:"Buscar por nombre o rol...",value:f,onChange:_=>g(_.target.value)})]}),i?c.jsx("div",{style:{textAlign:"center",padding:"2rem",color:"var(--text-muted)"},children:"Cargando datos..."}):c.jsxs("div",{className:"staff-sections",children:[c.jsx(Mi,{title:" Dueos / Co-Owners",roles:["owner","co_owner"],staff:x}),c.jsx(Mi,{title:" Junta Directiva",roles:["board"],staff:x}),c.jsx(Mi,{title:" Administradores",roles:["admin"],staff:x}),c.jsx(Mi,{title:" Staff Oficial",roles:["moderator","staff"],staff:x}),c.jsx(Mi,{title:" Staff en Entrenamiento",roles:["training","developer"],staff:x})]}),c.jsx("style",{children:`
                .page-header {
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                    margin-bottom: 2rem;
                }
                .btn-add {
                    background: var(--primary);
                    color: black;
                    border: none;
                    padding: 0.75rem 1.5rem;
                    border-radius: var(--radius);
                    font-weight: bold;
                    display: flex;
                    align-items: center;
                    gap: 0.5rem;
                    cursor: pointer;
                }
                .search-bar {
                    background: var(--bg-card);
                    padding: 0.75rem 1rem;
                    border-radius: var(--radius);
                    border: 1px solid var(--border);
                    display: flex;
                    align-items: center;
                    gap: 1rem;
                    margin-bottom: 2rem;
                }
                .search-bar input {
                    background: transparent;
                    border: none;
                    color: var(--text-main);
                    width: 100%;
                    outline: none;
                }
                .stats-grid {
                    display: grid;
                    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
                    gap: 1.5rem;
                    margin-bottom: 2rem;
                }
                .stat-card {
                    background: var(--bg-card);
                    padding: 1.5rem;
                    border-radius: var(--radius);
                    border: 1px solid var(--border);
                    display: flex;
                    align-items: center;
                    gap: 1rem;
                }
                .stat-icon {
                    width: 48px;
                    height: 48px;
                    border-radius: 12px;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                }
                .stat-info h3 {
                    font-size: 0.9rem;
                    color: var(--text-muted);
                    margin-bottom: 0.25rem;
                }
                .stat-info p {
                    font-size: 1.25rem;
                    font-weight: 700;
                    color: var(--text-main);
                }
                .staff-grid {
                    display: grid;
                    grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
                    gap: 1.5rem;
                    margin-bottom: 2rem;
                }
                .staff-card {
                    padding: 1.5rem;
                    display: flex;
                    flex-direction: column;
                    gap: 1.5rem;
                    transition: var(--transition);
                }
                .staff-card:hover {
                    transform: translateY(-5px);
                    border-color: var(--primary);
                }
                .staff-header {
                    display: flex;
                    align-items: center;
                    gap: 1rem;
                }
                .staff-avatar-container {
                    position: relative;
                }
                .staff-avatar {
                    width: 56px;
                    height: 56px;
                    border-radius: 50%;
                    object-fit: cover;
                    border: 2px solid var(--border);
                }
                .staff-avatar-placeholder {
                    width: 56px;
                    height: 56px;
                    background: var(--bg-card-hover);
                    border-radius: 50%;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    font-size: 1.5rem;
                    font-weight: 700;
                    color: var(--text-muted);
                    border: 2px solid var(--border);
                }
                .status-indicator {
                    width: 14px;
                    height: 14px;
                    border-radius: 50%;
                    position: absolute;
                    bottom: 0;
                    right: 0;
                    border: 2px solid var(--bg-card);
                }
                .staff-identity h3 {
                    font-size: 1.1rem;
                    margin-bottom: 0.25rem;
                    white-space: nowrap;
                    overflow: hidden;
                    text-overflow: ellipsis;
                    max-width: 150px;
                }
                .role-badge {
                    font-size: 0.75rem;
                    border: 1px solid;
                    padding: 2px 8px;
                    border-radius: 12px;
                    font-weight: 600;
                    text-transform: uppercase;
                }
                .staff-stats {
                    display: flex;
                    justify-content: space-between;
                    padding-top: 1rem;
                    border-top: 1px solid var(--border);
                }
                .mini-stat {
                    display: flex;
                    flex-direction: column;
                    gap: 0.25rem;
                }
                .mini-stat .label {
                    font-size: 0.75rem;
                    color: var(--text-muted);
                }
                .mini-stat .value {
                    font-size: 0.95rem;
                    font-weight: 600;
                }
            `})]})},Mi=({title:r,roles:n,staff:i})=>{const l=i.filter(h=>n.includes((h.role||"").toLowerCase()));if(l.length===0)return null;const u=h=>{if(!h)return"#95a5a6";const f=h.toLowerCase();return f.includes("owner")?"#e74c3c":f.includes("board")?"#8e44ad":f.includes("admin")?"#f1c40f":f.includes("mod")?"#2ecc71":"#95a5a6"};return c.jsxs("div",{className:"staff-section",children:[c.jsx("h2",{className:"section-title",children:r}),c.jsx("div",{className:"staff-grid",children:l.map(h=>c.jsxs("div",{className:"staff-card card",children:[c.jsxs("div",{className:"staff-header",children:[c.jsxs("div",{className:"staff-avatar-container",children:[h.avatar_url?c.jsx("img",{src:h.avatar_url,className:"staff-avatar",alt:"avatar"}):c.jsx("div",{className:"staff-avatar-placeholder",children:(h.username||"?").charAt(0).toUpperCase()}),c.jsx("div",{className:"status-indicator",style:{background:h.status==="online"?"#2ecc71":"#7f8c8d"},title:h.status})]}),c.jsxs("div",{className:"staff-identity",children:[c.jsx("h3",{children:h.username||"Sin Nombre"}),c.jsx("span",{className:"role-badge",style:{borderColor:u(h.role),color:u(h.role)},children:h.role||"Miembro"})]})]}),c.jsxs("div",{className:"staff-stats",children:[c.jsxs("div",{className:"mini-stat",children:[c.jsx("span",{className:"label",children:"Turnos"}),c.jsx("span",{className:"value",children:h.actions})]}),c.jsxs("div",{className:"mini-stat",children:[c.jsx("span",{className:"label",children:"Horas Totales"}),c.jsxs("span",{className:"value",style:{color:"var(--primary)"},children:[h.totalHours," h"]})]}),c.jsxs("div",{className:"mini-stat",children:[c.jsx("span",{className:"label",children:"Discord ID"}),c.jsx("span",{className:"value",style:{fontSize:"0.7rem",opacity:.7},children:h.discord_id?" Vinculado":" Sin Vincular"})]})]})]},h.id))})]})},$p=30,eS=()=>{const[r,n]=w.useState(null),[i,l]=w.useState("idle"),[u,h]=w.useState(0),[f,g]=w.useState(!0),[m,y]=w.useState(null),[v,x]=w.useState(""),[_,j]=w.useState(Array(6).fill(null));w.useEffect(()=>{A()},[]),w.useEffect(()=>{let L;return i==="active"&&r&&(L=setInterval(()=>{const J=Date.now(),K=new Date(r.clock_in).getTime();let le=0;r.breaks&&r.breaks.forEach(_e=>{_e.end&&(le+=new Date(_e.end).getTime()-new Date(_e.start).getTime())}),h(J-K-le)},1e3)),()=>clearInterval(L)},[i,r]);const A=async()=>{g(!0);const{data:{user:L}}=await ie.auth.getUser();if(!L)return;const{data:J,error:K}=await ie.from("time_logs").select("*").eq("user_id",L.id).in("status",["active","paused"]).single();if(J){n(J),l(J.status);const le=Date.now(),_e=new Date(J.clock_in).getTime();let Te=0;J.breaks&&J.breaks.forEach(lt=>{const Ke=new Date(lt.start).getTime(),Ie=lt.end?new Date(lt.end).getTime():le;Te+=Ie-Ke}),h(le-_e-Te)}else l("idle"),n(null);g(!1)},R=async()=>{y(null);const{data:{user:L}}=await ie.auth.getUser(),{data:J,error:K}=await ie.from("time_logs").insert([{user_id:L.id,clock_in:new Date().toISOString(),status:"active",breaks:[]}]).select().single();K?(y("Error al iniciar turno."),console.error(K)):(n(J),l("active"))},N=async()=>{if(!r)return;const L={start:new Date().toISOString(),end:null},J=[...r.breaks||[],L],{error:K}=await ie.from("time_logs").update({status:"paused",breaks:J}).eq("id",r.id);K||(n({...r,status:"paused",breaks:J}),l("paused"))},O=async()=>{if(!r)return;const L=[...r.breaks||[]];L.length>0&&(L[L.length-1].end=new Date().toISOString());const{error:J}=await ie.from("time_logs").update({status:"active",breaks:L}).eq("id",r.id);J||(n({...r,status:"active",breaks:L}),l("active"))},M=()=>{const L=Math.floor(u/6e4);if(L<$p){y(`Debes cumplir mnimo ${$p} minutos. Llevas ${L}.`);return}l("ending")},U=()=>{l(r.status),y(null)},W=async(L,J)=>{if(!J)return;const K=[..._];K[L]={file:J,status:"uploading"},j(K);try{const le=J.name.split(".").pop(),_e=`${r.id}_${L}_${Date.now()}.${le}`,Te=`${r.user_id}/${_e}`,{data:lt,error:Ke}=await ie.storage.from("evidence").upload(Te,J);if(Ke)throw Ke;const{data:{publicUrl:Ie}}=ie.storage.from("evidence").getPublicUrl(Te);K[L]={url:Ie,status:"done"},j(K)}catch(le){console.error(le),K[L]={status:"error"},j(K),y("Error al subir imagen.")}},te=async()=>{if(!v.trim()){y("La descripcin es obligatoria.");return}const L=_.filter(_e=>_e&&_e.status==="done").map(_e=>_e.url),J=new Date,K=Math.floor(u/6e4),{error:le}=await ie.from("time_logs").update({clock_out:J.toISOString(),status:"completed",duration_minutes:K,description:v,photos:L}).eq("id",r.id);le?y("Error al guardar el registro."):(l("idle"),n(null),h(0),x(""),j(Array(6).fill(null)))},Y=L=>{const J=Math.max(0,Math.floor(L/1e3)),K=Math.floor(J/3600),le=Math.floor(J%3600/60),_e=J%60;return`${K.toString().padStart(2,"0")}:${le.toString().padStart(2,"0")}:${_e.toString().padStart(2,"0")}`};return f?c.jsxs("div",{style:ke.center,children:[c.jsx(Hi,{className:"animate-spin"})," Cargando..."]}):c.jsxs("div",{style:ke.container,children:[c.jsxs("header",{style:ke.header,children:[c.jsx("h1",{style:ke.title,children:"Gestin de Turno"}),c.jsx("p",{style:ke.subtitle,children:"Panel de Control de Asistencia"})]}),m&&c.jsxs("div",{style:ke.errorBanner,children:[c.jsx(Ul,{size:20}),m]}),c.jsxs("div",{style:ke.mainCard,children:[i==="idle"&&c.jsxs("div",{style:ke.idleState,children:[c.jsx("div",{style:ke.iconCircle,children:c.jsx(Hi,{size:48,color:"var(--primary)"})}),c.jsx("h2",{children:"No hay turno activo"}),c.jsxs("button",{style:ke.btnStart,onClick:R,children:[c.jsx(Mp,{size:20,fill:"currentColor"})," INICIAR SERVICIO"]})]}),(i==="active"||i==="paused")&&c.jsxs("div",{style:ke.activeState,children:[c.jsxs("div",{style:ke.timerDisplay,children:[c.jsx("span",{style:ke.timerLabel,children:"TIEMPO TRANSCURRIDO"}),c.jsx("div",{style:ke.time,children:Y(u)}),c.jsx("div",{style:{...ke.statusBadge,background:i==="active"?"#27ae60":"#f39c12"},children:i==="active"?"EN CURSO":"PAUSADO"})]}),c.jsxs("div",{style:ke.controlsGrid,children:[i==="active"?c.jsxs("button",{style:ke.btnPause,onClick:N,children:[c.jsx(xw,{size:20,fill:"currentColor"})," PAUSAR"]}):c.jsxs("button",{style:ke.btnResume,onClick:O,children:[c.jsx(Mp,{size:20,fill:"currentColor"})," CONTINUAR"]}),c.jsxs("button",{style:ke.btnEnd,onClick:M,children:[c.jsx(kw,{size:20,fill:"currentColor"})," TERMINAR"]})]})]}),i==="ending"&&c.jsxs("div",{style:ke.endingState,children:[c.jsx("h2",{children:"Finalizar Turno"}),c.jsx("p",{style:{color:"#aaa",marginBottom:"1rem"},children:"Completa el reporte para cerrar tu sesin."}),c.jsxs("div",{style:ke.formGroup,children:[c.jsx("label",{children:"Descripcin de los Hechos"}),c.jsx("textarea",{style:ke.textarea,placeholder:"Describe brevemente lo realizado durante el turno...",value:v,onChange:L=>x(L.target.value)})]}),c.jsxs("div",{style:ke.formGroup,children:[c.jsx("label",{children:"Evidencia Fotogrfica (6 Fotos)"}),c.jsx("div",{style:ke.photoGrid,children:_.map((L,J)=>c.jsxs("label",{style:{...ke.photoSlot,backgroundImage:L?.url?`url(${L.url})`:"none",backgroundSize:"cover",border:L?.status==="error"?"1px solid red":ke.photoSlot.border},children:[!L?.url&&c.jsxs(c.Fragment,{children:[L?.status==="uploading"?c.jsx(Hi,{className:"animate-spin",size:24,color:"var(--primary)"}):c.jsx(ku,{size:24,color:"#555"}),c.jsx("span",{style:{fontSize:"10px",color:"#555"},children:L?.status==="uploading"?"Subiendo...":`Foto ${J+1}`})]}),c.jsx("input",{type:"file",accept:"image/*",style:{display:"none"},onChange:K=>W(J,K.target.files[0]),disabled:L?.status==="uploading"})]},J))})]}),c.jsxs("div",{style:ke.actionButtons,children:[c.jsx("button",{style:ke.btnCancel,onClick:U,children:"Cancelar"}),c.jsxs("button",{style:ke.btnConfirm,onClick:te,children:[c.jsx(Bw,{size:18})," Enviar y Cerrar"]})]})]})]})]})},ke={container:{padding:"2rem",maxWidth:"800px",margin:"0 auto",color:"var(--text-main)"},header:{marginBottom:"2rem",textAlign:"center"},title:{fontSize:"2rem",color:"var(--primary)",margin:0},subtitle:{color:"var(--text-muted)"},mainCard:{background:"var(--bg-card)",borderRadius:"var(--radius-lg)",border:"1px solid var(--border)",padding:"2rem",boxShadow:"0 4px 20px rgba(0,0,0,0.3)",minHeight:"400px",display:"flex",flexDirection:"column",justifyContent:"center"},center:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",color:"var(--text-muted)",gap:"0.5rem"},idleState:{textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",gap:"1.5rem"},iconCircle:{width:"80px",height:"80px",borderRadius:"50%",background:"rgba(212, 175, 55, 0.1)",display:"flex",alignItems:"center",justifyContent:"center",border:"1px solid var(--primary)"},btnStart:{background:"linear-gradient(45deg, #27ae60, #2ecc71)",border:"none",padding:"1rem 3rem",fontSize:"1.2rem",fontWeight:"bold",color:"white",borderRadius:"50px",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",boxShadow:"0 4px 15px rgba(39, 174, 96, 0.4)",transition:"transform 0.2s"},activeState:{textAlign:"center"},timerDisplay:{marginBottom:"3rem"},time:{fontSize:"5rem",fontFamily:"monospace",fontWeight:"bold",color:"var(--text-main)",lineHeight:1,textShadow:"0 0 20px rgba(212, 175, 55, 0.2)"},timerLabel:{color:"var(--text-muted)",fontSize:"0.9rem",letterSpacing:"2px",display:"block",marginBottom:"0.5rem"},statusBadge:{display:"inline-block",padding:"0.25rem 1rem",borderRadius:"20px",color:"white",fontSize:"0.8rem",fontWeight:"bold",marginTop:"1rem"},controlsGrid:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",maxWidth:"500px",margin:"0 auto"},btnPause:{background:"#f39c12",border:"none",padding:"1rem",borderRadius:"var(--radius)",color:"white",fontWeight:"bold",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},btnResume:{background:"#27ae60",border:"none",padding:"1rem",borderRadius:"var(--radius)",color:"white",fontWeight:"bold",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},btnEnd:{background:"#c0392b",border:"none",padding:"1rem",borderRadius:"var(--radius)",color:"white",fontWeight:"bold",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},endingState:{textAlign:"left"},formGroup:{marginBottom:"1.5rem"},textarea:{width:"100%",height:"100px",background:"var(--bg-dark)",border:"1px solid var(--border)",borderRadius:"var(--radius)",padding:"1rem",color:"var(--text-main)",resize:"none"},photoGrid:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"1rem"},photoSlot:{background:"var(--bg-dark)",border:"1px dashed var(--border)",borderRadius:"var(--radius)",height:"80px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"border-color 0.2s"},actionButtons:{display:"flex",justifyContent:"flex-end",gap:"1rem",marginTop:"2rem"},btnCancel:{background:"transparent",border:"1px solid var(--border)",color:"var(--text-muted)",padding:"0.75rem 1.5rem",borderRadius:"var(--radius)",cursor:"pointer"},btnConfirm:{background:"var(--primary)",border:"none",color:"#000",padding:"0.75rem 1.5rem",borderRadius:"var(--radius)",fontWeight:"bold",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem"},errorBanner:{background:"rgba(231, 76, 60, 0.2)",color:"#e74c3c",padding:"1rem",borderRadius:"var(--radius)",marginBottom:"1rem",display:"flex",alignItems:"center",gap:"1rem"}},_l=[{name:"NMX Start",cost:2e3,limit:15e3,interest:15,color:"#A0522D",icon:""},{name:"NMX Bsica",cost:4e3,limit:4e4,interest:13,color:"#4169E1",icon:""},{name:"NMX Plus",cost:6e3,limit:8e4,interest:11,color:"#32CD32",icon:""},{name:"NMX Plata",cost:1e4,limit:15e4,interest:9,color:"#C0C0C0",icon:""},{name:"NMX Oro",cost:15e3,limit:3e5,interest:7,color:"#FFD700",icon:""},{name:"NMX Rub",cost:25e3,limit:5e5,interest:6,color:"#DC143C",icon:""},{name:"NMX Black",cost:4e4,limit:75e4,interest:5,color:"#111111",icon:""},{name:"NMX Diamante",cost:6e4,limit:1e6,interest:4,color:"#00BFFF",icon:""}],tS="",aS=()=>{const[r,n]=w.useState("register"),[i,l]=w.useState(!1),[u,h]=w.useState([]),[f,g]=w.useState(""),[m,y]=w.useState(!1),[v,x]=w.useState(null),[_,j]=w.useState(""),[A,R]=w.useState(""),[N,O]=w.useState(null),[M,U]=w.useState(""),[W,te]=w.useState(null),[Y,L]=w.useState(""),[J,K]=w.useState(""),[le,_e]=w.useState(_l[0]),[Te,lt]=w.useState(!1),[Ke,Ie]=w.useState(""),[q,Q]=w.useState(null),X=async()=>{l(!0);let $=ie.from("credit_cards").select(`
                *,
                citizens (dni, full_name)
            `).order("created_at",{ascending:!1});const{data:P,error:re}=await $;if(re)console.error(re);else if(f){const fe=P.filter(ve=>ve.citizens?.dni.includes(f)||ve.citizens?.full_name.toLowerCase().includes(f.toLowerCase()));h(fe)}else h(P);l(!1)};w.useEffect(()=>{r==="list"&&X()},[r,f]);const Z=async $=>{$.preventDefault(),l(!0),Q(null);try{let P;const{data:re}=await ie.from("citizens").select("id").eq("dni",M).single();if(re)P=re.id;else{let We=null;if(W){const ma=W.name.split(".").pop(),pa=`${M}_${Date.now()}.${ma}`,{data:qr,error:ia}=await ie.storage.from("dni-images").upload(pa,W);if(ia)throw ia;const{data:{publicUrl:$r}}=ie.storage.from("dni-images").getPublicUrl(pa);We=$r}const{data:Be,error:ra}=await ie.from("citizens").insert([{dni:M,full_name:Y,dni_image_url:We,discord_id:J}]).select().single();if(ra)throw ra;P=Be.id}const fe={citizen_id:P,card_type:le.name,credit_limit:le.limit,interest_rate:le.interest,has_loans:Te,notes:Ke,status:"active"},{error:ve}=await ie.from("credit_cards").insert([fe]);if(ve)throw ve;Q({type:"success",msg:"Tarjeta registrada exitosamente."}),U(""),te(null),L(""),K(""),Ie("")}catch(P){console.error(P),Q({type:"error",msg:"Error al registrar: "+P.message})}finally{l(!1)}},he=$=>{x($),y(!0)},E=async $=>{if($.preventDefault(),!(!v||!_)){l(!0);try{let P=null;if(N){const ra=N.name.split(".").pop(),ma=`loan_${v.id}_${Date.now()}.${ra}`,{error:pa}=await ie.storage.from("ledger-proofs").upload(ma,N);if(pa)throw pa;const{data:{publicUrl:qr}}=ie.storage.from("ledger-proofs").getPublicUrl(ma);P=qr}const re=parseFloat(_),{error:fe}=await ie.from("card_transactions").insert([{card_id:v.id,amount:re,type:"loan",proof_url:P,notes:A}]);if(fe)throw fe;const{data:ve}=await ie.from("credit_cards").select("current_balance").eq("id",v.id).single(),We=(ve.current_balance||0)+re,{error:Be}=await ie.from("credit_cards").update({current_balance:We}).eq("id",v.id);if(Be)throw Be;Q({type:"success",msg:"Prstamo registrado exitosamente."}),y(!1),j(""),R(""),O(null),X()}catch(P){console.error(P),Q({type:"error",msg:"Error al registrar prstamo: "+P.message})}finally{l(!1)}}},G=async $=>{if(window.confirm("Ests seguro de cancelar esta tarjeta? Esta accin es irreversible.")){l(!0);try{const{error:P}=await ie.from("credit_cards").update({status:"cancelled"}).eq("id",$);if(P)throw P;X(),Q({type:"success",msg:"Tarjeta cancelada."})}catch(P){alert("Error al cancelar: "+P.message)}finally{l(!1)}}};return c.jsxs("div",{className:"finance-panel",children:[c.jsxs("header",{className:"page-header",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"page-title",children:"Banco Nacional RP"}),c.jsx("p",{className:"page-subtitle",children:"Sistema de Gestin de Crdito"})]}),c.jsxs("div",{className:"finance-tabs",children:[c.jsxs("button",{className:`tab-btn ${r==="register"?"active":""}`,onClick:()=>n("register"),children:[c.jsx(Dg,{size:18})," Nueva Tarjeta"]}),c.jsxs("button",{className:`tab-btn ${r==="list"?"active":""}`,onClick:()=>n("list"),children:[c.jsx(Iw,{size:18})," Ver Tarjetas"]})]})]}),r==="register"&&c.jsx("div",{className:"register-container fade-in",children:c.jsxs("form",{onSubmit:Z,className:"finance-form",children:[c.jsxs("h3",{children:[c.jsx(Ug,{size:20})," Datos del Ciudadano"]}),c.jsxs("div",{className:"form-row",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"DNI (Nmero) *"}),c.jsx("input",{type:"text",value:M,onChange:$=>U($.target.value),required:!0,placeholder:"Ej: 123456789",className:"premium-input"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Nombre Completo"}),c.jsx("input",{type:"text",value:Y,onChange:$=>L($.target.value),required:!0,placeholder:"Nombre Apellido",className:"premium-input"})]})]}),c.jsx("div",{className:"form-row",children:c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Captura del DNI"}),c.jsxs("div",{className:"file-input-wrapper",children:[c.jsx("input",{type:"file",accept:"image/*",onChange:$=>te($.target.files[0]),id:"dni-upload",style:{display:"none"}}),c.jsxs("label",{htmlFor:"dni-upload",className:"file-upload-btn premium-btn",children:[c.jsx(ku,{size:18}),c.jsx("span",{children:W?W.name:"Subir Foto"})]})]})]})}),c.jsx("div",{className:"form-row",children:c.jsxs("div",{className:"form-group full-width",children:[c.jsx("label",{children:"ID de Discord (Obligatorio)"}),c.jsx("input",{type:"text",value:J,onChange:$=>K($.target.value),required:!0,placeholder:"Ej: 123456789012345678",title:"Activa el Modo Desarrollador en Discord para copiar IDs",className:"premium-input"})]})}),c.jsxs("h3",{children:[c.jsx(ew,{size:20})," Detalles de la Tarjeta"]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Nivel de Tarjeta"}),c.jsx("div",{className:"card-levels-grid",children:_l.map($=>c.jsxs("div",{className:`level-card ${le.name===$.name?"selected":""}`,onClick:()=>_e($),style:{"--level-color":$.color},children:[c.jsx("div",{className:"level-icon",children:$.icon}),c.jsx("div",{className:"level-name",children:$.name}),c.jsxs("div",{className:"level-cost",children:["Costo: $",$.cost.toLocaleString()]})]},$.name))})]}),c.jsxs("div",{className:"level-details-summary",children:[c.jsxs("div",{className:"detail-item",children:[c.jsx("span",{className:"label",children:"Lmite de Crdito"}),c.jsxs("span",{className:"value",children:["$",le.limit.toLocaleString()]})]}),c.jsxs("div",{className:"detail-item",children:[c.jsx("span",{className:"label",children:"Inters Semanal"}),c.jsxs("span",{className:"value",children:[le.interest,"%"]})]}),c.jsxs("div",{className:"detail-item",children:[c.jsx("span",{className:"label",children:"Costo Emisin"}),c.jsxs("span",{className:"value",children:["$",le.cost.toLocaleString()]})]})]}),c.jsx("div",{className:"form-group checkbox-group",children:c.jsxs("label",{className:"custom-checkbox-label",children:[c.jsx("input",{type:"checkbox",checked:Te,onChange:$=>lt($.target.checked),className:"hidden-checkbox"}),c.jsx("span",{className:`custom-checkbox ${Te?"checked":""}`,children:Te&&c.jsx(qn,{size:14})}),"Ha solicitado prstamos anteriormente?"]})}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Notas Adicionales"}),c.jsx("textarea",{value:Ke,onChange:$=>Ie($.target.value),placeholder:"Notas sobre bur, historial, etc."})]}),q&&c.jsxs("div",{className:`feedback-msg ${q.type}`,children:[q.type==="success"?c.jsx(qn,{size:18}):c.jsx(Ji,{size:18}),q.msg]}),c.jsx("button",{type:"submit",className:"submit-btn",disabled:i,children:i?"Procesando...":"Emitir Tarjeta"})]})}),r==="list"&&c.jsxs("div",{className:"list-container fade-in",children:[c.jsxs("div",{className:"search-bar",children:[c.jsx(Xu,{size:20}),c.jsx("input",{type:"text",placeholder:"Buscar por DNI o Nombre...",value:f,onChange:$=>g($.target.value)})]}),c.jsx("div",{className:"cards-grid",children:u.map($=>{const P=_l.find(re=>re.name===$.card_type)||_l[0];return c.jsxs("div",{className:"credit-card-item",style:{borderLeft:`4px solid ${P.color}`},children:[c.jsxs("div",{className:"card-header-row",children:[c.jsxs("span",{className:"card-type-badge",style:{backgroundColor:P.color+"20",color:P.color},children:[P.icon," ",$.card_type]}),c.jsx("span",{className:`status-badge ${$.status}`,children:$.status})]}),c.jsxs("div",{className:"card-citizen",children:[c.jsx("h4",{children:$.citizens?.full_name}),c.jsxs("span",{className:"dni",children:["DNI: ",$.citizens?.dni]})]}),c.jsxs("div",{className:"card-financials",children:[c.jsxs("div",{className:"financial-row",children:[c.jsx("span",{children:"Lmite:"}),c.jsxs("strong",{children:["$",$.credit_limit.toLocaleString()]})]}),c.jsxs("div",{className:"financial-row",children:[c.jsx("span",{children:"Deuda:"}),c.jsxs("strong",{className:"debtor",children:["$",$.current_balance?.toLocaleString()||0]})]})]}),c.jsxs("div",{className:"card-footer",children:[c.jsxs("small",{children:["Inters: ",$.interest_rate,"%"]}),c.jsx("button",{className:"copy-btn",onClick:()=>{const re=`Titular: ${$.citizens.full_name}
Tarjeta: ${$.card_type}
Banco: Banco Nacional RP
Lmite: $${$.credit_limit}
Deuda: $${$.current_balance||0}
Pago mnimo: 25%
Corte: Cada 7 das
Estado: ${$.status}`;navigator.clipboard.writeText(re),alert("Copiado al portapapeles")},children:"Copiar Discord"}),c.jsxs("div",{className:"card-actions",children:[c.jsx("button",{className:"action-btn loan-btn",onClick:()=>he($),disabled:$.status!=="active",title:"Agregar Deuda/Prstamo",children:c.jsx(Ng,{size:16})}),c.jsx("button",{className:"action-btn cancel-btn",onClick:()=>G($.id),disabled:$.status==="cancelled",title:"Cancelar Tarjeta",children:c.jsx(q_,{size:16})})]})]})]},$.id)})})]}),m&&c.jsx("div",{className:"modal-overlay",children:c.jsxs("div",{className:"modal-content fade-in",children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h3",{children:"Agregar Deuda / Prstamo"}),c.jsx("button",{className:"close-btn",onClick:()=>y(!1),children:c.jsx(Kw,{size:20})})]}),c.jsxs("form",{onSubmit:E,children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Monto a Agregar"}),c.jsx("input",{type:"number",value:_,onChange:$=>j($.target.value),required:!0,placeholder:"Ej: 5000"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Comprobante (Obligatorio)"}),c.jsxs("div",{className:"file-input-wrapper",children:[c.jsx("input",{type:"file",accept:"image/*",onChange:$=>O($.target.files[0]),id:"loan-upload",required:!0,style:{display:"none"}}),c.jsxs("label",{htmlFor:"loan-upload",className:"file-upload-btn",children:[c.jsx(ku,{size:18}),N?N.name:"Subir Captura"]})]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Motivo / Notas"}),c.jsx("textarea",{value:A,onChange:$=>R($.target.value),placeholder:"Razn del cargo..."})]}),c.jsx("button",{type:"submit",className:"submit-btn",disabled:i,children:i?"Procesando...":"Confirmar Deuda"})]})]})})]})},nS=()=>{const[r,n]=wl.useState([]),[i,l]=wl.useState(!0);wl.useEffect(()=>{u()},[]);const u=async()=>{l(!0);const{data:f,error:g}=await ie.from("bolos").select("*").order("created_at",{ascending:!1});f&&n(f),l(!1)},h=f=>f==="wanted"?c.jsxs("span",{className:"status-badge wanted",children:[c.jsx(Ul,{size:14})," BUSCADO"]}):f==="captured"?c.jsxs("span",{className:"status-badge captured",children:[c.jsx(qn,{size:14})," CAPTURADO"]}):null;return c.jsxs("div",{className:"bolo-container",children:[c.jsxs("div",{className:"page-header header-with-actions",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"page-title text-danger",children:"B.O.L.O BOARD"}),c.jsx("p",{className:"page-subtitle",children:"Be On Look Out - Objetivos de Alto Valor"})]}),c.jsxs("button",{className:"btn-danger",children:[c.jsx(Bp,{size:18})," REPORTAR AVISTAMIENTO"]})]}),c.jsx("div",{className:"bolo-grid",children:r.map(f=>c.jsxs("div",{className:`bolo-card ${f.status}`,children:[c.jsxs("div",{className:"bolo-image-placeholder",children:[c.jsx(Bp,{size:48,color:f.status==="wanted"?"#e74c3c":"#2ecc71"}),f.status==="captured"&&c.jsx("div",{className:"captured-overlay",children:"CAPTURADO"})]}),c.jsxs("div",{className:"bolo-info",children:[c.jsxs("div",{className:"bolo-header",children:[c.jsx("h2",{children:f.name}),h(f.status)]}),c.jsxs("div",{className:"bolo-details",children:[c.jsxs("div",{className:"detail-row",children:[c.jsx("span",{className:"label",children:"Cargos:"}),c.jsx("span",{className:"value",children:Array.isArray(f.crimes)?f.crimes.join(", "):f.crimes})]}),c.jsxs("div",{className:"detail-row",children:[c.jsx("span",{className:"label",children:"Recompensa:"}),c.jsx("span",{className:"value highlight",children:f.bounty})]}),c.jsxs("div",{className:"detail-row",children:[c.jsx("span",{className:"label",children:"ltima vez:"}),c.jsx("span",{className:"value",children:f.lastSeen})]})]})]})]},f.id))}),c.jsx("style",{children:`
                .text-danger { color: #e74c3c; letter-spacing: 2px; }
                .btn-danger {
                    background: #e74c3c;
                    color: white;
                    border-radius: var(--radius);
                    padding: 0.75rem 1.25rem;
                    font-weight: 700;
                    display: flex;
                    align-items: center;
                    gap: 0.5rem;
                    transition: var(--transition);
                }
                .btn-danger:hover {
                    background: #c0392b;
                    box-shadow: 0 0 15px rgba(231, 76, 60, 0.4);
                }
                .header-with-actions {
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                }
                .bolo-grid {
                    display: grid;
                    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
                    gap: 2rem;
                }
                .bolo-card {
                    background: var(--bg-card);
                    border: 1px solid var(--border);
                    border-radius: var(--radius);
                    overflow: hidden;
                    position: relative;
                    transition: var(--transition);
                }
                .bolo-card.wanted { border-color: #e74c3c; }
                .bolo-card.captured { opacity: 0.7; }
                
                .bolo-image-placeholder {
                    height: 200px;
                    background: #1a1a1a;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    position: relative;
                }
                .captured-overlay {
                    position: absolute;
                    top: 50%;
                    left: 50%;
                    transform: translate(-50%, -50%) rotate(-15deg);
                    border: 4px solid #2ecc71;
                    color: #2ecc71;
                    font-size: 2rem;
                    font-weight: 900;
                    padding: 0.5rem 1rem;
                    text-transform: uppercase;
                    background: rgba(0,0,0,0.8);
                }
                .bolo-info { padding: 1.5rem; }
                .bolo-header {
                    display: flex;
                    justify-content: space-between;
                    align-items: flex-start;
                    margin-bottom: 1rem;
                }
                .bolo-header h2 { font-size: 1.5rem; font-weight: 800; text-transform: uppercase; }
                
                .status-badge {
                    display: flex; 
                    align-items: center; 
                    gap: 4px;
                    padding: 4px 8px;
                    border-radius: 4px;
                    font-size: 0.7rem;
                    font-weight: 800;
                }
                .status-badge.wanted { background: rgba(231, 76, 60, 0.2); color: #e74c3c; }
                .status-badge.captured { background: rgba(46, 204, 113, 0.2); color: #2ecc71; }

                .bolo-details { display: flex; flex-direction: column; gap: 0.5rem; }
                .detail-row { display: flex; justify-content: space-between; border-bottom: 1px solid var(--border); padding-bottom: 0.5rem; }
                .detail-row:last-child { border-bottom: none; }
                .detail-row .label { color: var(--text-muted); font-size: 0.9rem; }
                .detail-row .value { font-weight: 600; text-align: right; }
                .detail-row .value.highlight { color: #f1c40f; }

            `})]})},rS=()=>{const[r,n]=w.useState({targetUser:"No Especificado",reason:"",location:"",moderatorId:""}),[i,l]=w.useState({proof1:null,proof2:null,proof3:null}),[u,h]=w.useState(!1),[f,g]=w.useState(null),[m,y]=w.useState(!1);w.useEffect(()=>{v()},[]);const v=async()=>{const{data:{user:j}}=await ie.auth.getUser();if(j){const{data:A}=await ie.from("profiles").select("discord_id, full_name, username").eq("id",j.id).single();A&&(g(A),A.discord_id&&(n(R=>({...R,moderatorId:A.discord_id})),y(!0)))}},x=async j=>{if(!j)return null;const A=j.name.split(".").pop(),N=`cancellations/${`${Math.random()}.${A}`}`;let{error:O}=await ie.storage.from("evidence").upload(N,j);if(O)return console.error("Upload Error:",O),null;const{data:M}=ie.storage.from("evidence").getPublicUrl(N);return M.publicUrl},_=async j=>{j.preventDefault(),h(!0);try{const A=await x(i.proof1),R=await x(i.proof2),N=await x(i.proof3);if(!A){alert("La prueba #1 es obligatoria."),h(!1);return}const{error:O}=await ie.from("rp_cancellations").insert([{moderator_discord_id:r.moderatorId||null,moderator_name:f?.username||f?.full_name||"Staff Web",target_user:r.targetUser,reason:r.reason,location:r.location,proof_url_1:A,proof_url_2:R,proof_url_3:N}]);if(O)throw O;alert(" Cancelacin procesada correctamente. Se ha publicado en Discord."),n(M=>({...M,reason:"",location:""})),l({proof1:null,proof2:null,proof3:null})}catch(A){console.error(A),alert("Error al procesar la solicitud.")}finally{h(!1)}};return c.jsxs("div",{className:"cancellation-form-container",children:[c.jsx("h2",{style:{marginBottom:"1.5rem",borderBottom:"1px solid var(--border)",paddingBottom:"1rem",color:"#e74c3c"},children:" Formulario de Cancelacin de Rol"}),c.jsxs("form",{onSubmit:_,children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Tu Discord ID (Moderador)"}),c.jsx("input",{type:"text",className:"form-input",value:r.moderatorId||"No detectado (Se usar tu nombre)",readOnly:!0,style:{opacity:.7,cursor:"not-allowed",background:"#2c3e50"}}),c.jsx("small",{style:{color:"#95a5a6"},children:"Este campo se rellena automticamente."})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Motivo de la Cancelacin (Incluye Nombre del Sancionado aqu si es necesario)"}),c.jsx("textarea",{className:"form-input",rows:"4",value:r.reason,onChange:j=>n({...r,reason:j.target.value}),required:!0,placeholder:"Explica la razn y menciona al usuario sancionado..."})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Ubicacin / Contexto"}),c.jsx("input",{type:"text",className:"form-input",value:r.location,onChange:j=>n({...r,location:j.target.value}),required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Evidencias (Mx 3 Fotos)"}),c.jsxs("div",{className:"file-inputs",children:[c.jsxs("div",{children:[c.jsx("span",{style:{fontSize:"0.8rem",color:"#e74c3c"},children:"Prueba 1 (Obligatoria)"}),c.jsx("input",{type:"file",accept:"image/*",onChange:j=>l({...i,proof1:j.target.files[0]}),required:!0,className:"form-input"})]}),c.jsxs("div",{children:[c.jsx("span",{style:{fontSize:"0.8rem"},children:"Prueba 2 (Opcional)"}),c.jsx("input",{type:"file",accept:"image/*",onChange:j=>l({...i,proof2:j.target.files[0]}),className:"form-input"})]}),c.jsxs("div",{children:[c.jsx("span",{style:{fontSize:"0.8rem"},children:"Prueba 3 (Opcional)"}),c.jsx("input",{type:"file",accept:"image/*",onChange:j=>l({...i,proof3:j.target.files[0]}),className:"form-input"})]})]})]}),c.jsx("button",{type:"submit",className:"btn-submit",disabled:u,children:u?"Procesando...":"ENVIAR REPORTE AL DISCORD"})]}),c.jsx("style",{children:`
                .cancellation-form-container {
                    background: var(--bg-card);
                    padding: 2rem;
                    border-radius: var(--radius);
                    border: 1px solid var(--border);
                    max-width: 800px;
                    margin: 2rem auto;
                }
                .form-group {
                    margin-bottom: 1.5rem;
                }
                .form-group label {
                    display: block;
                    margin-bottom: 0.5rem;
                    color: var(--text-muted);
                    font-size: 0.9rem;
                }
                .form-input {
                    width: 100%;
                    padding: 0.75rem;
                    background: var(--bg-main);
                    border: 1px solid var(--border);
                    border-radius: var(--radius);
                    color: white;
                    outline: none;
                }
                .form-input:focus {
                    border-color: var(--primary);
                }
                .btn-submit {
                    width: 100%;
                    padding: 1rem;
                    background: #e74c3c;
                    color: white;
                    border: none;
                    border-radius: var(--radius);
                    font-weight: bold;
                    cursor: pointer;
                    margin-top: 1rem;
                }
                .btn-submit:disabled {
                    opacity: 0.5;
                    cursor: not-allowed;
                }
                .file-inputs {
                    display: grid;
                    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
                    gap: 1rem;
                }
            `})]})},iS=()=>{const r=fa(),[n,i]=w.useState(""),[l,u]=w.useState([]),[h,f]=w.useState(!0);w.useEffect(()=>{g()},[]);const g=async()=>{f(!0);const{data:v,error:x}=await ie.from("activity_logs").select("*").order("created_at",{ascending:!1});x?console.error("Error fetching logs:",x):u(v),f(!1)},m=v=>v?new Date(v).toLocaleString("es-MX",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"",y=v=>{switch(v){case"ban":return{background:"rgba(231, 76, 60, 0.2)",color:"#e74c3c"};case"warn":return{background:"rgba(241, 196, 15, 0.2)",color:"#f1c40f"};case"kick":return{background:"rgba(52, 152, 219, 0.2)",color:"#3498db"};default:return{background:"rgba(255,255,255,0.1)",color:"#fff"}}};return c.jsxs("div",{className:"logs-container",children:[c.jsx("div",{className:"page-header",children:c.jsxs("div",{style:{display:"flex",justifyContent:"number",alignItems:"center",gap:"2rem"},children:[c.jsxs("div",{children:[c.jsx("h1",{className:"page-title",children:"Registros de Actividad"}),c.jsx("p",{className:"page-subtitle",children:"Gestiona y visualiza las sanciones y reportes recentes."})]}),c.jsxs("button",{className:"btn-primary",style:{marginLeft:"auto"},onClick:()=>r("/dashboard/new"),children:[c.jsx(Dg,{size:18}),c.jsx("span",{children:"Nuevo Registro"})]})]})}),c.jsxs("div",{className:"filters-bar",children:[c.jsxs("div",{className:"search-box",children:[c.jsx(Xu,{size:18,color:"var(--text-muted)"}),c.jsx("input",{type:"text",placeholder:"Buscar por usuario, ID o razn...",value:n,onChange:v=>i(v.target.value)})]}),c.jsxs("button",{className:"btn-secondary",children:[c.jsx(ow,{size:18}),c.jsx("span",{children:"Filtrar"})]})]}),c.jsx("div",{className:"logs-table-container card",children:c.jsxs("table",{className:"logs-table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Tipo"}),c.jsx("th",{children:"Usuario Sancionado"}),c.jsx("th",{children:"Razn"}),c.jsx("th",{children:"Moderador"}),c.jsx("th",{children:"Fecha"}),c.jsx("th",{children:"Acciones"})]})}),c.jsx("tbody",{children:l.map(v=>c.jsxs("tr",{children:[c.jsx("td",{children:c.jsx("span",{className:"badge",style:y(v.type),children:v.type.toUpperCase()})}),c.jsx("td",{style:{fontWeight:600},children:v.target_username||v.target}),c.jsx("td",{style:{color:"var(--text-muted)"},children:v.reason}),c.jsx("td",{children:v.moderator_name||"Staff"}),c.jsx("td",{style:{fontSize:"0.9rem",color:"var(--text-muted)"},children:m(v.created_at)}),c.jsx("td",{children:c.jsx("button",{className:"icon-btn",children:c.jsx(nw,{size:18})})})]},v.id))})]})}),c.jsx("style",{children:`
                .btn-primary {
                    background: var(--primary);
                    color: #000;
                    padding: 0.75rem 1.25rem;
                    border-radius: var(--radius);
                    font-weight: 600;
                    display: flex;
                    align-items: center;
                    gap: 0.5rem;
                    transition: var(--transition);
                }
                .btn-primary:hover {
                    background: var(--primary-hover);
                    transform: translateY(-1px);
                }
                .btn-secondary {
                    background: var(--bg-card);
                    color: var(--text-main);
                    border: 1px solid var(--border);
                    padding: 0.75rem 1rem;
                    border-radius: var(--radius);
                    display: flex;
                    align-items: center;
                    gap: 0.5rem;
                }
                .filters-bar {
                    display: flex;
                    gap: 1rem;
                    margin-bottom: 1.5rem;
                }
                .search-box {
                    flex: 1;
                    background: var(--bg-card);
                    border: 1px solid var(--border);
                    border-radius: var(--radius);
                    padding: 0 1rem;
                    display: flex;
                    align-items: center;
                    gap: 0.75rem;
                }
                .search-box input {
                    background: transparent;
                    border: none;
                    color: var(--text-main);
                    font-size: 1rem;
                    padding: 0.75rem 0;
                    width: 100%;
                    outline: none;
                }
                .logs-table {
                    width: 100%;
                    border-collapse: collapse;
                }
                .logs-table th {
                    text-align: left;
                    padding: 1rem 1.5rem;
                    color: var(--text-muted);
                    font-size: 0.85rem;
                    text-transform: uppercase;
                    border-bottom: 1px solid var(--border);
                }
                .logs-table td {
                    padding: 1rem 1.5rem;
                    border-bottom: 1px solid var(--border);
                }
                .logs-table tr:last-child td {
                    border-bottom: none;
                }
                .badge {
                    padding: 4px 8px;
                    border-radius: 4px;
                    font-size: 0.75rem;
                    font-weight: 700;
                }
                .icon-btn {
                    background: transparent;
                    color: var(--text-muted);
                    padding: 4px;
                }
                .icon-btn:hover {
                    color: var(--text-main);
                }
            `})]})},sS=[{category:"I. NORMAS GENERALES DE CONVIVENCIA (OOC)",description:"El objetivo es mantener un ambiente de respeto, inclusivo y maduro (Fuera de Personaje/Out of Character - OOC).",rules:[{title:"1. Edad Mnima",description:"Prohibido el acceso a menores de 13 aos. Si se detecta un usuario menor, ser expulsado y reportado a Discord."},{title:"2. Conducta y Respeto",description:`No Toxicidad: Queda terminantemente prohibido el uso de lenguaje vulgar, insultos, provocaciones o burlas. Mantn la calma y el respeto.

Cero Discriminacin: No se tolerar ningn comentario o acto de discriminacin, racismo, clasismo, homofobia o cualquier tipo de odio. Sancin inmediata.

Acoso: No presionar, intimidar, hostigar o contactar persistentemente a otros usuarios o miembros del Staff por MD.`},{title:"3. Suplantacin de Identidad",description:"Hacerse pasar por otro usuario, miembro del Staff o Bot del servidor es motivo de Ban Permanente."}]},{category:"II. REGLAS DE DISCORD Y TCNICAS (OOC)",description:"Normas relativas al uso de la plataforma, canales y cuentas.",rules:[{title:"1. Spam, Flood y Contenido Explcito",description:`Spam y Flood: Prohibido envo excesivo/repetitivo.
Publicidad: Prohibida sin permiso.
Contenido NSFW/Gore: Absolutamente prohibido (+18).`},{title:"2. Uso de Menciones (@) y MDs",description:"No usar @everyone/@here sin razn. Evita mencionar al Staff sin necesidad (usa Tickets). Prohibido molestar por MD."},{title:"3. Multicuentas y Bots",description:"Multicuentas no permitidas (Sancin a ambas si es evasin). Bots solo en canales designados."},{title:"4. Canales y Escritura",description:"Usa el canal correcto. No abuses de maysculas. CH-ON: Solo canales marcados como Rol Activo son IC."}]},{category:"III. CDIGO DE CONDUCTA ROLERA (IC)",description:"Reglas para mantener la calidad y la inmersin del Roleplay.",rules:[{title:"IRL-X (Irrealismo Extremo)",description:"Hacer cosas imposibles o fuera de toda lgica humana o fsica. Prohibicin absoluta."},{title:"CXM (Cruce de Metas)",description:"Utilizar conocimiento OOC para obtener ventaja IC."},{title:"SCN (Sin Contexto de Nocaut)",description:"Ignorar o minimizar choques o heridas graves. Rolear lesiones es obligatorio."},{title:"VLV (Valorar la Vida)",description:"Tu personaje debe actuar como si su vida tuviera valor real."},{title:"CDI (Conduccin de Impacto)",description:"Manejar sin respetar fsica o como si el vehculo fuera indestructible."},{title:"SAV (Saltos de Adrenalina Voluntaria)",description:"Brincar o correr descontroladamente para evitar riesgo."},{title:"INTX (Interferencia Externa)",description:"Meterse en roles activos sin justificacin."},{title:"FOR-R (Forzar Realidad Rolera)",description:"Obligar a alguien a aceptar una accin sin consentimiento ni contexto."},{title:"ARX (Arresto Exprs)",description:"Detener sin proceso ni causa."},{title:"MAT-R (Muerte al Azar)",description:"Eliminar a otro jugador sin motivo (RDM). Castigado con dureza."},{title:"ROL-X (Contenido Explcito)",description:"Rol sexual o insinuaciones prohibidas. Cero tolerancia."},{title:"BXG (Bug Exploit Grave)",description:"Aprovechar bugs para ventaja."},{title:"RANK-F (Rango Fantasma)",description:"Acceder a cargos sin proceso de seleccin."},{title:"MD-R (Mensaje Directo Rolero)",description:"MD IC solo vlido si se declara explcitamente y hay justificacin."},{title:"FXP (Ficcin Prohibida)",description:"Sin poderes mgicos o crossovers. Rol humano y realista."},{title:"ID-K (Robo de Identidad)",description:"No copiar personajes existentes (reales/ficticios)."},{title:"EXR (Exceso de Realidad Alterna)",description:"Acciones no pueden desafiar leyes fsicas/mdicas."},{title:"IDC (Identidad y Documentacin)",description:"Todo ciudadano debe portar ID y mostrarlo a oficiales. No destruir ID sin rol."},{title:"MVP (Memoria Voltil Parcial - PK)",description:"Olvidas solo lo relacionado a la muerte. Esperar 5-7 mins para reaparecer."},{title:"FEC (Fin de Existencia Completa - CK)",description:"Muerte definitiva. Se pierde todo. Nuevo personaje obligatorio."},{title:"OLR (Olvido Rol Reciente)",description:"Tras PK/CK no puedes recordar eventos previos."},{title:"NOC-CK",description:"EMS/Bomberos/DOT en servicio no pueden sufrir CK."},{title:"TK-V (Team Kill Vlido)",description:"Permitido solo con rol previo y aprobacin si es sensible."},{title:"CRX-1 (Crimen Bajo Impacto)",description:"Robos menores permitidos a todos (tienen lgica y no spam)."},{title:"CRX-2 (Crimen Alto Impacto)",description:"Solo carteles pueden hacer atentados, tomas de territorio, etc."}]},{category:"IV. INTERACCIN CON EL STAFF",description:"Reglas de interaccin con moderacin.",rules:[{title:"Respeto y Obediencia",description:"Obligatorio acatar indicaciones. Desacato (STA-5) sancionable."},{title:"Canales de Reporte",description:"Usar #solicitar-mod o Tickets. No detener rol para reportar (STA-1)."},{title:"STA-2 (Supervisin en Escena)",description:"Solo el mod puede pausar/cancelar escena."},{title:"STA-4 (Drones)",description:"No molestar a staff en 'duty' de observacin."}]}],lS=()=>c.jsxs("div",{className:"rules-container",children:[c.jsxs("div",{className:"page-header",children:[c.jsx("h1",{className:"page-title",children:"Reglamento Oficial"}),c.jsx("p",{className:"page-subtitle",children:"Normativas vigentes de Nacin MX RP. El desconocimiento no exime de sancin."})]}),c.jsx("div",{className:"rules-grid",children:sS.map((r,n)=>c.jsxs("div",{className:"rules-category card",children:[c.jsxs("div",{className:"category-header",children:[c.jsx("h2",{className:"category-title",children:r.category}),c.jsx("p",{className:"category-desc",children:r.description})]}),c.jsx("div",{className:"rules-list",children:r.rules.map((i,l)=>c.jsxs("div",{className:"rule-item",children:[c.jsx("h3",{className:"rule-title",children:i.title.includes("(")?c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"code-badge",children:i.title.split("(")[0].trim()}),i.title.includes(")")?` ${i.title.split("(")[1].replace(")","")}`:""]}):i.title}),c.jsx("p",{className:"rule-desc",children:i.description})]},l))})]},n))}),c.jsx("style",{children:`
                .rules-grid {
                    display: grid;
                    grid-template-columns: repeat(auto-fit, minmax(600px, 1fr));
                    gap: 2rem;
                }
                .card {
                    background: var(--bg-card);
                    border: 1px solid var(--border);
                    border-radius: var(--radius);
                    overflow: hidden;
                }
                .category-header {
                    background: var(--bg-card-hover);
                    padding: 1.5rem;
                    border-bottom: 1px solid var(--border);
                }
                .category-title {
                    color: var(--primary);
                    font-size: 1.1rem;
                    text-transform: uppercase;
                    letter-spacing: 0.5px;
                }
                .category-desc {
                    color: var(--text-muted);
                    font-size: 0.9rem;
                    margin-top: 0.5rem;
                }
                .rules-list {
                    padding: 1.5rem;
                    display: flex;
                    flex-direction: column;
                    gap: 1.5rem;
                }
                .rule-item {
                    border-bottom: 1px solid var(--border);
                    padding-bottom: 1rem;
                }
                .rule-item:last-child {
                    border-bottom: none;
                    padding-bottom: 0;
                }
                .rule-title {
                    font-size: 1rem;
                    margin-bottom: 0.5rem;
                    display: flex;
                    align-items: center;
                    gap: 0.5rem;
                    flex-wrap: wrap;
                }
                .code-badge {
                    background: rgba(212, 175, 55, 0.15);
                    color: var(--primary);
                    padding: 2px 8px;
                    border-radius: 4px;
                    font-size: 0.85rem;
                    font-family: monospace;
                    font-weight: 700;
                }
                .rule-desc {
                    color: var(--text-muted);
                    font-size: 0.95rem;
                    white-space: pre-line;
                }
                @media (max-width: 768px) {
                    .rules-grid {
                        grid-template-columns: 1fr;
                    }
                }
            `})]});function oS(){const r=localStorage.getItem("discord_user"),n=localStorage.getItem("discord_token");return!r||!n?null:{user:JSON.parse(r),token:n}}const Hp={pending:{label:"Pendiente",className:"status-pending",icon:""},under_review:{label:"En Revisin",className:"status-review",icon:""},approved:{label:"Aprobado",className:"status-approved",icon:""},rejected:{label:"Rechazado",className:"status-rejected",icon:""},withdrawn:{label:"Retirado",className:"status-withdrawn",icon:""}};function cS({status:r}){const n=Hp[r]||Hp.pending;return c.jsxs("span",{className:`status-badge ${n.className}`,children:[c.jsx("span",{className:"status-icon",children:n.icon}),c.jsx("span",{className:"status-label",children:n.label})]})}function uS(){const r=fa(),n=oS(),[i,l]=w.useState(!0),[u,h]=w.useState(null);return w.useEffect(()=>{if(!n){r("/");return}async function f(){const{data:g}=await ie.from("applications").select("*").eq("applicant_discord_id",n.user.id).order("created_at",{ascending:!1}).limit(1).maybeSingle();h(g),l(!1)}f()},[n,r]),i?c.jsx("div",{className:"status-container",children:c.jsx("div",{className:"loading",children:"Cargando..."})}):u?c.jsx("div",{className:"status-container",children:c.jsxs("div",{className:"status-card",children:[c.jsx("h1",{children:"Estado de tu Postulacin"}),c.jsxs("div",{className:"status-header",children:[c.jsx(cS,{status:u.status}),c.jsxs("span",{className:"date",children:["Enviada el ",new Date(u.created_at).toLocaleDateString("es-MX")]})]}),c.jsxs("div",{className:"application-details",children:[c.jsx("h2",{children:" Informacin Enviada"}),c.jsxs("div",{className:"detail-grid",children:[c.jsxs("div",{className:"detail-item",children:[c.jsx("strong",{children:"Discord:"}),c.jsx("span",{children:u.discord_username})]}),c.jsxs("div",{className:"detail-item",children:[c.jsx("strong",{children:"Roblox:"}),c.jsxs("span",{children:[u.roblox_username," (ID: ",u.roblox_id,")"]})]}),c.jsxs("div",{className:"detail-item",children:[c.jsx("strong",{children:"Edad:"}),c.jsxs("span",{children:[u.age," aos"]})]}),c.jsxs("div",{className:"detail-item",children:[c.jsx("strong",{children:"Zona Horaria:"}),c.jsx("span",{children:u.timezone})]}),c.jsxs("div",{className:"detail-item",children:[c.jsx("strong",{children:"Ubicacin:"}),c.jsx("span",{children:u.location})]}),c.jsxs("div",{className:"detail-item",children:[c.jsx("strong",{children:"Disponibilidad:"}),c.jsx("span",{children:u.availability})]})]}),c.jsxs("div",{className:"detail-section",children:[c.jsx("strong",{children:"Experiencia:"}),c.jsx("p",{children:u.experience})]}),c.jsxs("div",{className:"detail-section",children:[c.jsx("strong",{children:"Motivacin:"}),c.jsx("p",{children:u.motivation})]}),c.jsxs("div",{className:"detail-section",children:[c.jsx("strong",{children:"Respuesta a Escenario:"}),c.jsx("p",{children:u.scenario_response})]}),u.additional_info&&c.jsxs("div",{className:"detail-section",children:[c.jsx("strong",{children:"Informacin Adicional:"}),c.jsx("p",{children:u.additional_info})]})]}),u.status==="rejected"&&u.reject_reason&&c.jsxs("div",{className:"rejection-notice",children:[c.jsx("h3",{children:" Razn del Rechazo"}),c.jsx("p",{children:u.reject_reason}),u.can_reapply_at&&c.jsxs("p",{className:"cooldown-notice",children:["Podrs volver a postularte el:"," ",c.jsx("strong",{children:new Date(u.can_reapply_at).toLocaleDateString("es-MX")})]})]}),u.status==="approved"&&c.jsxs("div",{className:"approval-notice",children:[c.jsx("h3",{children:" Felicidades!"}),c.jsx("p",{children:"Tu postulacin ha sido aprobada. Un administrador se pondr en contacto contigo pronto."})]})]})}):c.jsx("div",{className:"status-container",children:c.jsxs("div",{className:"no-application",children:[c.jsx("h2",{children:" Sin Postulacin"}),c.jsx("p",{children:"An no has enviado ninguna postulacin."}),c.jsx("button",{onClick:()=>r("/apply"),className:"btn-primary",children:"Postular Ahora"})]})})}const qg=()=>{const[r,n]=w.useState({profiles:0,applications:0}),[i,l]=w.useState([]),[u,h]=w.useState(!0),[f,g]=w.useState(null);w.useEffect(()=>{m()},[]);const m=async()=>{h(!0);try{const{count:v,data:x}=await ie.from("profiles").select("*",{count:"exact"}),{count:_}=await ie.from("applications").select("*",{count:"exact",head:!0});n({profiles:v||0,applications:_||0}),l(x||[])}catch(v){console.error("Admin Fetch Error:",v),g({type:"error",text:"Error de Conexin: "+(v.message||"Consulta fallida")})}finally{h(!1)}},y=async(v,x)=>{const _=prompt(`Ingresa el Discord ID para ${x}:`);if(!_)return;const{error:j}=await ie.from("profiles").update({discord_id:_}).eq("id",v);j?g({type:"error",text:"Error al vincular: "+j.message}):(g({type:"success",text:` Discord ID vinculado a ${x}`}),m())};return c.jsxs("div",{style:Ee.container,children:[c.jsxs("div",{style:Ee.header,children:[c.jsxs("div",{children:[c.jsx("h1",{style:Ee.title,children:"Panel de Administracin"}),c.jsx("p",{style:Ee.subtitle,children:"Gestin de usuarios y postulaciones"})]}),c.jsx("button",{onClick:m,style:Ee.iconBtn,title:"Recargar",children:c.jsx(jw,{size:20})})]}),u&&c.jsx("div",{style:Ee.loading,children:"Cargando datos del sistema..."}),f&&c.jsx("div",{style:{...Ee.feedback,background:f.type==="error"?"#e74c3c20":"#2ecc7120",borderColor:f.type==="error"?"#e74c3c":"#2ecc71"},children:f.text}),c.jsxs("div",{style:Ee.grid,children:[c.jsxs("div",{style:Ee.card,children:[c.jsx("div",{style:Ee.cardIcon,children:c.jsx(Rl,{size:32,color:"var(--primary)"})}),c.jsxs("div",{style:Ee.cardContent,children:[c.jsx("h3",{style:Ee.cardNumber,children:r.profiles}),c.jsx("span",{style:Ee.cardLabel,children:"Usuarios Totales"})]})]}),c.jsxs("div",{style:Ee.card,children:[c.jsx("div",{style:Ee.cardIcon,children:c.jsx(Ag,{size:32,color:"#2ecc71"})}),c.jsxs("div",{style:Ee.cardContent,children:[c.jsx("h3",{style:Ee.cardNumber,children:r.applications}),c.jsx("span",{style:Ee.cardLabel,children:"Postulaciones"})]})]})]}),c.jsxs("h2",{style:Ee.sectionTitle,children:[c.jsx(ha,{size:20,style:{marginRight:"0.5rem"}}),"Gestin de Usuarios & Discord"]}),c.jsx("div",{style:Ee.tableCard,children:c.jsxs("table",{style:Ee.table,children:[c.jsx("thead",{children:c.jsxs("tr",{style:Ee.thead,children:[c.jsx("th",{style:{...Ee.th,textAlign:"left"},children:"Usuario"}),c.jsx("th",{style:{...Ee.th,textAlign:"left"},children:"Rol"}),c.jsx("th",{style:{...Ee.th,textAlign:"left"},children:"Discord ID"}),c.jsx("th",{style:{...Ee.th,textAlign:"right"},children:"Acciones"})]})}),c.jsx("tbody",{children:i.map(v=>c.jsxs("tr",{style:Ee.tr,children:[c.jsx("td",{style:Ee.td,children:c.jsxs("div",{style:Ee.userCell,children:[c.jsx("div",{style:Ee.avatar,children:(v.username||v.full_name||"U").charAt(0).toUpperCase()}),c.jsx("span",{children:v.username||v.full_name||"Sin Nombre"})]})}),c.jsx("td",{style:Ee.td,children:c.jsx("span",{style:Ee.badge,children:v.role||"user"})}),c.jsx("td",{style:{...Ee.td,fontFamily:"monospace",fontSize:"0.9rem"},children:c.jsx("span",{style:{color:v.discord_id?"#2ecc71":"#e74c3c"},children:v.discord_id||"Sin vincular"})}),c.jsx("td",{style:{...Ee.td,textAlign:"right"},children:c.jsxs("button",{onClick:()=>y(v.id,v.username||v.full_name),style:Ee.actionBtn,title:"Vincular Discord ID",children:[c.jsx(mw,{size:16})," Vincular"]})})]},v.id))})]})})]})},Ee={container:{paddingBottom:"2rem"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},title:{fontSize:"2rem",fontWeight:"800",color:"var(--text-main)"},subtitle:{color:"var(--text-muted)",marginTop:"0.25rem"},iconBtn:{background:"var(--bg-card)",border:"1px solid var(--border)",borderRadius:"8px",padding:"0.75rem",color:"var(--text-muted)",cursor:"pointer",transition:"0.2s",display:"flex",alignItems:"center",justifyContent:"center"},grid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1.5rem",marginBottom:"3rem"},card:{background:"var(--bg-card)",padding:"2rem",borderRadius:"12px",border:"1px solid var(--border)",display:"flex",alignItems:"center",gap:"1.5rem",transition:"0.2s"},cardIcon:{width:"64px",height:"64px",borderRadius:"12px",background:"rgba(255, 215, 0, 0.1)",display:"flex",alignItems:"center",justifyContent:"center"},cardContent:{flex:1},cardNumber:{fontSize:"2.5rem",fontWeight:"900",color:"var(--text-main)",margin:0},cardLabel:{color:"var(--text-muted)",fontSize:"0.9rem",textTransform:"uppercase",letterSpacing:"0.5px",fontWeight:"600"},sectionTitle:{fontSize:"1.4rem",marginBottom:"1.5rem",marginTop:"2rem",color:"var(--primary)",fontWeight:"700",display:"flex",alignItems:"center"},tableCard:{background:"var(--bg-card)",borderRadius:"12px",border:"1px solid var(--border)",overflow:"hidden"},table:{width:"100%",borderCollapse:"collapse"},thead:{background:"rgba(255, 215, 0, 0.05)",borderBottom:"2px solid var(--border)"},th:{padding:"1rem 1.5rem",fontWeight:"700",fontSize:"0.85rem",textTransform:"uppercase",letterSpacing:"0.5px",color:"var(--text-muted)"},tr:{borderBottom:"1px solid var(--border)",transition:"0.2s"},td:{padding:"1.25rem 1.5rem",color:"var(--text-main)"},userCell:{display:"flex",alignItems:"center",gap:"1rem"},avatar:{width:"40px",height:"40px",borderRadius:"50%",background:"var(--primary)",color:"black",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"900",fontSize:"1.1rem"},badge:{background:"rgba(255, 215, 0, 0.15)",padding:"0.35rem 0.75rem",borderRadius:"6px",fontSize:"0.85rem",fontWeight:"600",color:"var(--primary)",textTransform:"uppercase",letterSpacing:"0.3px"},actionBtn:{background:"var(--primary)",color:"black",border:"none",padding:"0.6rem 1.25rem",borderRadius:"8px",cursor:"pointer",display:"inline-flex",alignItems:"center",gap:"0.5rem",fontSize:"0.9rem",fontWeight:"700",transition:"0.2s"},feedback:{padding:"1rem 1.5rem",marginBottom:"1.5rem",borderRadius:"8px",border:"1px solid",color:"white",fontWeight:"600"},loading:{padding:"3rem",textAlign:"center",color:"var(--text-muted)",fontStyle:"italic",fontSize:"1.1rem"}},dS=()=>{const[r,n]=w.useState(!0),[i,l]=w.useState(!1),[u,h]=w.useState(""),[f,g]=w.useState(""),[m,y]=w.useState(null);w.useEffect(()=>{v()},[]);const v=async()=>{n(!0);try{const{data:j,error:A}=await ie.from("bot_settings").select("*").in("key",["staff_approval_roles","staff_guild_id"]);if(A)throw A;if(j){const R=j.find(O=>O.key==="staff_approval_roles"),N=j.find(O=>O.key==="staff_guild_id");R&&Array.isArray(R.value)&&h(R.value.join(`
`)),N&&g(N.value)}}catch(j){console.error("Error fetching settings:",j),y({type:"error",text:"Error al cargar configuraciones."})}finally{n(!1)}},x=async j=>{j.preventDefault(),l(!0),y(null);try{const A=u.split(`
`).map(O=>O.trim()).filter(O=>O.length>0),{error:R}=await ie.from("bot_settings").upsert({key:"staff_approval_roles",value:A,description:"Roles ID list to assign when a staff application is approved",updated_at:new Date().toISOString()});if(R)throw R;const{error:N}=await ie.from("bot_settings").upsert({key:"staff_guild_id",value:f.trim(),description:"Guild ID where the staff roles should be assigned",updated_at:new Date().toISOString()});if(N)throw N;y({type:"success",text:"Configuracin guardada correctamente."})}catch(A){console.error("Error saving settings:",A),y({type:"error",text:"Error al guardar: "+A.message})}finally{l(!1)}},_={container:{maxWidth:"800px",margin:"0 auto"},header:{marginBottom:"2rem"},title:{fontSize:"2rem",fontWeight:"800",color:"var(--text-main)",display:"flex",alignItems:"center",gap:"0.75rem"},subtitle:{color:"var(--text-muted)",marginTop:"0.5rem",marginLeft:"3.5rem"},card:{background:"var(--bg-card)",padding:"2rem",borderRadius:"12px",border:"1px solid var(--border)"},formGroup:{marginBottom:"1.5rem"},label:{display:"block",marginBottom:"0.5rem",fontWeight:"bold",color:"var(--text-main)"},labelDesc:{display:"block",marginBottom:"0.75rem",fontSize:"0.9rem",color:"var(--text-muted)"},input:{width:"100%",padding:"0.85rem",background:"var(--bg-dark)",border:"1px solid var(--border)",borderRadius:"8px",color:"white",fontFamily:"monospace",fontSize:"1rem"},textarea:{width:"100%",padding:"0.85rem",background:"var(--bg-dark)",border:"1px solid var(--border)",borderRadius:"8px",color:"white",fontFamily:"monospace",fontSize:"1rem",minHeight:"120px"},button:{background:"var(--primary)",color:"black",padding:"1rem 2rem",borderRadius:"8px",border:"none",fontWeight:"bold",fontSize:"1rem",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem"},feedback:{padding:"1rem",borderRadius:"8px",marginTop:"1rem",display:"flex",alignItems:"center",gap:"0.5rem",fontWeight:"bold"}};return r?c.jsx("div",{style:{padding:"2rem",textAlign:"center"},children:"Cargando configuracin..."}):c.jsxs("div",{style:_.container,children:[c.jsxs("div",{style:_.header,children:[c.jsxs("h1",{style:_.title,children:[c.jsx(zg,{size:32,color:"var(--primary)"}),"Configuracin del Sistema"]}),c.jsx("p",{style:_.subtitle,children:"Gestiona las variables globales del bot y el portal."})]}),c.jsxs("div",{style:_.card,children:[c.jsxs("form",{onSubmit:x,children:[c.jsxs("div",{style:_.formGroup,children:[c.jsx("label",{style:_.label,children:"Roles de Staff (Auto-Asignacin)"}),c.jsx("span",{style:_.labelDesc,children:"Ingresa un ID de rol por lnea. Estos roles sern asignados automticamente cuando se apruebe una postulacin."}),c.jsx("textarea",{style:_.textarea,value:u,onChange:j=>h(j.target.value),placeholder:"Ej: 1460678189104894138..."})]}),c.jsxs("div",{style:_.formGroup,children:[c.jsx("label",{style:_.label,children:"ID del Servidor de Staff"}),c.jsx("span",{style:_.labelDesc,children:"El ID del servidor de Discord donde se asignarn los roles (Guild ID)."}),c.jsx("input",{type:"text",style:_.input,value:f,onChange:j=>g(j.target.value),placeholder:"Ej: 1460059764494041211"})]}),c.jsxs("button",{type:"submit",style:_.button,disabled:i,children:[c.jsx(Tw,{size:20}),i?"Guardando...":"Guardar Cambios"]})]}),m&&c.jsxs("div",{style:{..._.feedback,background:m.type==="error"?"rgba(231, 76, 60, 0.1)":"rgba(46, 204, 113, 0.1)",color:m.type==="error"?"#e74c3c":"#2ecc71",border:`1px solid ${m.type==="error"?"#e74c3c":"#2ecc71"}`},children:[m.type==="error"?c.jsx(Ji,{size:20}):c.jsx(qn,{size:20}),m.text]})]}),c.jsxs("div",{style:{marginTop:"2rem",padding:"1.5rem",background:"rgba(52, 152, 219, 0.1)",borderRadius:"12px",border:"1px solid rgba(52, 152, 219, 0.3)"},children:[c.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"#3498db",marginTop:0},children:[c.jsx(ha,{size:20})," Nota de Seguridad"]}),c.jsx("p",{style:{color:"var(--text-muted)",lineHeight:"1.6"},children:"Esta configuracin afecta directamente el comportamiento del Bot en tiempo real. Asegrate de verificar que los IDs de usuario y servidor sean correctos antes de guardar."})]})]})},hS=()=>c.jsx(rg,{children:c.jsxs(Ze,{element:c.jsx(Lg,{children:c.jsx(Qw,{})}),children:[c.jsx(Ze,{index:!0,element:c.jsx(Zw,{})}),c.jsx(Ze,{path:"admin",element:c.jsx(qg,{})}),c.jsx(Ze,{path:"staff",element:c.jsx(Ww,{})}),c.jsx(Ze,{path:"shifts",element:c.jsx(eS,{})}),c.jsx(Ze,{path:"finance",element:c.jsx(aS,{})}),c.jsx(Ze,{path:"bolo",element:c.jsx(nS,{})}),c.jsx(Ze,{path:"cancellations",element:c.jsx(rS,{})}),c.jsx(Ze,{path:"logs",element:c.jsx(iS,{})}),c.jsx(Ze,{path:"rules",element:c.jsx(lS,{})}),c.jsx(Ze,{path:"status",element:c.jsx(uS,{})}),c.jsx(Ze,{path:"settings",element:c.jsx(dS,{})}),c.jsx(Ze,{path:"*",element:c.jsx(ng,{to:"/dashboard",replace:!0})})]})}),fS=()=>{const r=fa();return w.useEffect(()=>{const n=window.location.hash;if(n.includes("access_token")||n.includes("error")){console.log("AuthCallback: Detected OAuth hash, waiting for session...");const i=async()=>{const{data:{session:u}}=await ie.auth.getSession();u&&(console.log("AuthCallback: Session found, redirecting to dashboard."),r("/dashboard",{replace:!0}))},{data:{subscription:l}}=ie.auth.onAuthStateChange((u,h)=>{console.log(`AuthCallback: Auth Event ${u}`),u==="SIGNED_IN"&&h?r("/dashboard",{replace:!0}):u==="SIGNED_OUT"&&r("/login",{replace:!0})});return i(),()=>l.unsubscribe()}else console.log("AuthCallback: No tokens, redirecting to dashboard."),r("/dashboard",{replace:!0})},[r]),c.jsxs("div",{style:{height:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",background:"var(--bg-dark)",color:"var(--text-main)"},children:[c.jsx(zr,{size:48,className:"animate-spin",color:"var(--primary)"}),c.jsx("p",{style:{marginTop:"1rem",color:"var(--text-muted)"},children:"Procesando credenciales..."}),c.jsx("style",{children:`
                .animate-spin { animation: spin 1s linear infinite; }
                @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
            `})]})};function mS(){const r=fa(),[n,i]=w.useState(null),[l,u]=w.useState(!0),[h,f]=w.useState({totalApplications:1250,activeStaff:47,approvalRate:12}),{isStaff:g,checkStaffStatus:m}=Mg(),y=async()=>{sessionStorage.clear(),await ie.auth.signOut(),i(null),r("/")};return w.useEffect(()=>{(async()=>{const{data:{session:_}}=await ie.auth.getSession();i(_?.user||null),u(!1),_?.user&&m(_)})(),(async()=>{try{const{count:_}=await ie.from("applications").select("*",{count:"exact",head:!0}),{count:j}=await ie.from("applications").select("*",{count:"exact",head:!0}).eq("status","approved"),R=12+(j||0),N=_?Math.round(j/_*100):0;f({totalApplications:_||0,activeStaff:R,approvalRate:N})}catch(_){console.error("Error fetching stats:",_)}})()},[]),c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#0A0E27] via-[#0F172A] to-black relative overflow-hidden font-inter",children:[c.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(rgba(255,215,0,0.03)_1px,transparent_1px),linear-gradient(90deg,rgba(255,215,0,0.03)_1px,transparent_1px)] bg-[size:50px_50px] [mask-image:radial-gradient(ellipse_80%_50%_at_50%_0%,#000_70%,transparent_110%)]"}),c.jsx("div",{className:"absolute top-0 left-1/4 w-96 h-96 bg-[#FFD700]/10 rounded-full blur-[120px] animate-pulse"}),c.jsx("div",{className:"absolute bottom-0 right-1/4 w-96 h-96 bg-[#DC143C]/10 rounded-full blur-[120px] animate-pulse delay-700"}),c.jsx("nav",{className:"relative z-50 px-6 py-4",children:c.jsx("div",{className:"max-w-7xl mx-auto",children:c.jsx("div",{className:"backdrop-blur-xl bg-white/5 border border-white/10 rounded-2xl px-6 py-4 shadow-2xl",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-[#FFD700] to-[#FFA500] flex items-center justify-center shadow-lg shadow-[#FFD700]/20",children:c.jsx(ha,{className:"w-7 h-7 text-black"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-xl font-bold text-white",children:"Nacin MX"}),c.jsx("p",{className:"text-xs text-gray-400",children:"Portal Elite"})]})]}),c.jsxs("div",{className:"hidden md:flex items-center gap-8",children:[c.jsxs(un,{to:"/",className:"text-gray-300 hover:text-[#FFD700] transition-all duration-300 relative group",children:["Inicio",c.jsx("span",{className:"absolute -bottom-1 left-0 w-0 h-0.5 bg-[#FFD700] group-hover:w-full transition-all duration-300"})]}),c.jsxs(un,{to:"/aplicar",className:"text-gray-300 hover:text-[#FFD700] transition-all duration-300 relative group",children:["Aplicar",c.jsx("span",{className:"absolute -bottom-1 left-0 w-0 h-0.5 bg-[#FFD700] group-hover:w-full transition-all duration-300"})]}),c.jsxs(un,{to:"/dashboard",className:"text-gray-300 hover:text-[#FFD700] transition-all duration-300 relative group",children:["Dashboard",c.jsx("span",{className:"absolute -bottom-1 left-0 w-0 h-0.5 bg-[#FFD700] group-hover:w-full transition-all duration-300"})]}),g&&c.jsxs(un,{to:"/admin",className:"text-gray-300 hover:text-[#DC143C] transition-all duration-300 relative group font-semibold",children:["Admin Panel",c.jsx("span",{className:"absolute -bottom-1 left-0 w-0 h-0.5 bg-[#DC143C] group-hover:w-full transition-all duration-300"})]})]}),l?c.jsx("div",{className:"w-10 h-10 rounded-full bg-white/10 animate-pulse"}):n?c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("div",{className:"text-right hidden sm:block",children:[c.jsx("p",{className:"text-sm font-medium text-white",children:n.user_metadata?.full_name||n.email}),c.jsx("p",{className:"text-xs text-[#FFD700]",children:"Sesin Activa"})]}),c.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-[#FFD700] to-[#FFA500] flex items-center justify-center shadow-lg",children:c.jsx("span",{className:"text-black font-bold text-sm",children:(n.user_metadata?.full_name||n.email||"U").charAt(0).toUpperCase()})}),c.jsx("button",{onClick:y,className:"p-2 rounded-lg bg-white/5 hover:bg-red-500/20 border border-white/10 hover:border-red-500/50 transition-all duration-300 group",title:"Cerrar Sesin",children:c.jsx(kg,{className:"w-5 h-5 text-white group-hover:text-red-400"})})]}):c.jsx(un,{to:"/login",className:"px-6 py-2.5 bg-gradient-to-r from-[#FFD700] to-[#FFA500] text-black font-semibold rounded-xl hover:shadow-lg hover:shadow-[#FFD700]/50 transition-all duration-300",children:"Iniciar Sesin"})]})})})}),c.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-6 py-20",children:[c.jsxs("div",{className:"text-center mb-16",children:[c.jsx("div",{className:"inline-block mb-4",children:c.jsx("div",{className:"px-4 py-2 bg-[#FFD700]/10 border border-[#FFD700]/20 rounded-full text-[#FFD700] text-sm font-medium backdrop-blur-sm",children:" Sistema de Reclutamiento Avanzado"})}),c.jsxs("h1",{className:"text-6xl md:text-7xl font-black text-white mb-6 tracking-tight",children:["Nacin MX",c.jsx("span",{className:"block mt-2 bg-gradient-to-r from-[#FFD700] via-[#FFA500] to-[#FFD700] text-transparent bg-clip-text",children:"Portal de Reclutamiento"})]}),c.jsx("p",{className:"text-xl md:text-2xl text-gray-300 mb-8 max-w-3xl mx-auto leading-relaxed",children:"nete a la lite. Protege el orden. Sirve a la nacin."}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[c.jsxs(un,{to:n?"/aplicar":"/login",className:"group relative px-8 py-4 bg-gradient-to-r from-[#FFD700] to-[#FFA500] text-black font-bold rounded-xl overflow-hidden shadow-xl shadow-[#FFD700]/30 hover:shadow-2xl hover:shadow-[#FFD700]/50 transition-all duration-300",children:[c.jsx("div",{className:"absolute inset-0 bg-white/20 translate-y-full group-hover:translate-y-0 transition-transform duration-300"}),c.jsxs("span",{className:"relative flex items-center gap-2",children:[n?"Enviar Aplicacin":"Aplicar a Staff",c.jsx(Rg,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]})]}),c.jsx("a",{href:"#features",className:"px-8 py-4 border border-white/20 text-white font-semibold rounded-xl hover:border-[#FFD700] hover:text-[#FFD700] transition-all duration-300 backdrop-blur-sm",children:"Conocer Ms"})]})]}),c.jsx("div",{id:"features",className:"grid md:grid-cols-3 gap-6 mb-16",children:[{icon:ha,title:"Seguridad Avanzada",description:"Sistema de verificacin multicapa con integracin Roblox y Discord",color:"from-[#FFD700] to-[#FFA500]"},{icon:yw,title:"Proceso Transparente",description:"Seguimiento en tiempo real del estado de tu aplicacin",color:"from-[#DC143C] to-[#FF6B6B]"},{icon:Cg,title:"Rangos Exclusivos",description:"Acceso a posiciones de lite en la comunidad ms prestigiosa",color:"from-[#4F46E5] to-[#7C3AED]"}].map((v,x)=>c.jsxs("div",{className:"group relative backdrop-blur-xl bg-white/5 border border-white/10 rounded-2xl p-6 hover:border-white/20 transition-all duration-300 hover:-translate-y-1",children:[c.jsx("div",{className:`w-14 h-14 rounded-xl bg-gradient-to-br ${v.color} flex items-center justify-center mb-4 shadow-lg`,children:c.jsx(v.icon,{className:"w-7 h-7 text-white"})}),c.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:v.title}),c.jsx("p",{className:"text-gray-400",children:v.description}),c.jsx("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-br opacity-0 group-hover:opacity-10 transition-opacity duration-300 pointer-events-none",style:{background:`linear-gradient(135deg, ${v.color.includes("FFD700")?"#FFD700":v.color.includes("DC143C")?"#DC143C":"#4F46E5"}, transparent)`}})]},x))}),c.jsxs("div",{className:"backdrop-blur-xl bg-white/5 border border-white/10 rounded-2xl p-8 mb-16",children:[c.jsxs("h2",{className:"text-3xl font-bold text-white mb-8 text-center",children:["Estadsticas en ",c.jsx("span",{className:"text-[#FFD700]",children:"Tiempo Real"})]}),c.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-[#FFD700] to-[#FFA500] flex items-center justify-center mx-auto mb-4",children:c.jsx(Rl,{className:"w-8 h-8 text-black"})}),c.jsx("div",{className:"text-4xl font-black text-white mb-2",children:h.totalApplications}),c.jsx("div",{className:"text-gray-400",children:"Aplicaciones Totales"})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-[#4F46E5] to-[#7C3AED] flex items-center justify-center mx-auto mb-4",children:c.jsx(P_,{className:"w-8 h-8 text-white"})}),c.jsx("div",{className:"text-4xl font-black text-white mb-2",children:h.activeStaff}),c.jsx("div",{className:"text-gray-400",children:"Staff Activo"})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-[#DC143C] to-[#FF6B6B] flex items-center justify-center mx-auto mb-4",children:c.jsx(zw,{className:"w-8 h-8 text-white"})}),c.jsxs("div",{className:"text-4xl font-black text-white mb-2",children:[h.approvalRate,"%"]}),c.jsx("div",{className:"text-gray-400",children:"Tasa de Aprobacin"})]})]})]}),c.jsxs("div",{className:"backdrop-blur-xl bg-white/5 border border-white/10 rounded-2xl p-8",children:[c.jsxs("h2",{className:"text-3xl font-bold text-white mb-8 text-center",children:["Proceso de ",c.jsx("span",{className:"text-[#FFD700]",children:"Aplicacin"})]}),c.jsx("div",{className:"grid md:grid-cols-4 gap-6",children:[{step:"01",title:"Registro",desc:"Crea tu cuenta con Discord"},{step:"02",title:"Aplicacin",desc:"Completa el formulario de 10 pasos"},{step:"03",title:"Revisin",desc:"El equipo evala tu perfil"},{step:"04",title:"Aprobacin",desc:"Bienvenido al equipo elite"}].map((v,x)=>c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"text-6xl font-black text-white/5 mb-2",children:v.step}),c.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:v.title}),c.jsx("p",{className:"text-gray-400 text-sm",children:v.desc}),x<3&&c.jsx("div",{className:"hidden md:block absolute top-8 left-full w-full h-0.5 bg-gradient-to-r from-[#FFD700]/50 to-transparent"})]},x))})]})]}),c.jsx("div",{className:"relative z-10 border-t border-white/10 mt-20",children:c.jsx("div",{className:"max-w-7xl mx-auto px-6 py-8",children:c.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[c.jsx("p",{className:"text-gray-400 text-sm",children:" 2026 Nacin MX. Todos los derechos reservados."}),c.jsxs("div",{className:"flex gap-6",children:[c.jsx("a",{href:"#",className:"text-gray-400 hover:text-[#FFD700] transition-colors",onClick:v=>v.preventDefault(),children:"Trminos"}),c.jsx("a",{href:"#",className:"text-gray-400 hover:text-[#FFD700] transition-colors",onClick:v=>v.preventDefault(),children:"Privacidad"}),c.jsx("a",{href:"#",className:"text-gray-400 hover:text-[#FFD700] transition-colors",onClick:v=>v.preventDefault(),children:"Contacto"})]})]})})})]})}const pS=()=>`NMX-${Math.floor(1e3+Math.random()*9e3)}`,gS=async(r,n)=>{try{console.log("[WEB] Calling Edge Function:",{username:r,verificationCode:n});const{data:i,error:l}=await ie.functions.invoke("verify-roblox",{body:{username:r.trim(),verificationCode:n}});if(l)throw console.error("[WEB] Edge Function error:",l),new Error(l.message||"Error al verificar");return console.log("[WEB] Edge Function response:",i),i}catch(i){return console.error("[WEB] Verification error:",i),{verified:!1,error:i.message||"Error al conectar con el servidor de verificacin"}}},yS=async r=>{if(!r)return null;try{const i=await(await fetch("https://corsproxy.io/?"+encodeURIComponent(`https://thumbnails.roblox.com/v1/users/avatar-headshot?userIds=${r}&size=150x150&format=Png&isCircular=true`))).json();if(i.data&&i.data.length>0)return i.data[0].imageUrl}catch(n){console.error("[ROBLOX] Error fetching thumbnail:",n)}return null},Gp=[{id:1,title:"Verificacin Discord",icon:ha},{id:2,title:"Verificacin Roblox",icon:uw},{id:3,title:"Informacin Personal",icon:Ug},{id:4,title:"Experiencia y Test",icon:Un},{id:5,title:"Revisin Final",icon:Ji}],Bi=["Un jugador reporta metagaming, pero la nica prueba es un clip incompleto y el acusado lo niega. Cmo procedes y qu criterios usas para decidir?","Explica la diferencia entre PowerGaming y ForceRP, y da un ejemplo de cada uno sin confundirlos.","Un usuario nuevo comete varias faltas menores por desconocimiento de reglas. Qu aplica mejor: sancin directa, advertencia pedaggica o ambas? Fundamenta.","Durante un rol, un jugador rompe FearRP porque cree que su personaje es muy valiente. Cmo evaluas si realmente rompi la regla?","En qu casos el NLR (New Life Rule) NO debera aplicarse?, aunque el jugador haya reaparecido.","Dos usuarios discuten por RDM, pero ambos iniciaron provocaciones previas. Cmo determinas quin tiene razn y qu sancin corresponde?","Qu consideras FailRP en una persecucin y qu no lo sera, aunque parezca poco realista?","Define abuso de rol de autoridad y explica cmo lo sancionaras si lo comete un miembro del staff dentro del rol.","Si un miembro del staff participa en rol y tiene conflictos con usuarios, cundo debe retirarse para evitar parcialidad?","Qu diferencia hay entre bug abuse y aprovechamiento de mecnicas del juego, y cmo se determina la intencin?","Un jugador usa informacin del Discord para ganar ventaja en rol sin que su personaje la sepa. Qu regla rompe y cmo se comprueba?","Cmo actuaras si un jugador rompe reglas accidentalmente durante un evento grande, afectando a muchos usuarios?","Un usuario rolea una situacin sensible de forma irrespetuosa. Cmo intervienes equilibrando libertad de rol y lmites de convivencia?","Explica por qu un staff no debe resolver reportes donde l est involucrado y cmo se maneja correctamente ese caso.","Qu pasos sigues antes de aplicar una sancin permanente?"],vS=()=>{const r=fa(),[n,i]=w.useState(1),[l,u]=w.useState(!0),[h,f]=w.useState(!1),[g,m]=w.useState(null),[y,v]=w.useState(!1),[x,_]=w.useState("loading"),[j,A]=w.useState(null),[R,N]=w.useState(null),[O,M]=w.useState(""),[U,W]=w.useState(null),[te,Y]=w.useState(!1),[L,J]=w.useState(""),[K,le]=w.useState({nombreCompleto:"",edad:"",zonaHoraria:"",recomendadoPor:"",experiencia:"",disponibilidad:"",motivacion:"",respuestas:{}});w.useEffect(()=>{_e();const X=localStorage.getItem("nmx_roblox_session");if(X)try{const Z=JSON.parse(X);console.log("Restoring Roblox session:",Z),W(Z)}catch(Z){console.error("Error loading saved Roblox session",Z),localStorage.removeItem("nmx_roblox_session")}},[]),w.useEffect(()=>{U&&localStorage.setItem("nmx_roblox_session",JSON.stringify(U))},[U]);const _e=async()=>{u(!0);const{data:{session:X}}=await ie.auth.getSession();if(X){const Z=X.user;N({id:Z.id,username:Z.user_metadata.full_name||Z.email,avatar:Z.user_metadata.avatar_url,email:Z.email}),u(!1),Te(Z.id),u(!1)}else{const{error:Z}=await ie.auth.signInWithOAuth({provider:"discord",options:{redirectTo:`${window.location.origin}/nacionmx-postulaciones/aplicar`,scopes:"identify guilds guilds.members.read"}});Z&&m({type:"error",text:"Error al conectar con Discord"})}},Te=async X=>{try{const{data:Z,error:he}=await ie.from("applications").select("*").eq("applicant_discord_id",X).order("created_at",{ascending:!1}).limit(1);if(he)throw he;if(Z&&Z.length>0){const E=Z[0];if(E.status==="pending"){_("pending");return}if(E.status==="rejected"&&E.reviewed_at){const G=new Date(E.reviewed_at),P=Math.abs(new Date-G);if(Math.ceil(P/(1e3*60*60*24))<7){A(G),_("cooldown");return}}}_("can_apply")}catch(Z){console.error("Error checking applications:",Z),_("can_apply")}},lt=async()=>{if(!O.trim()){m({type:"error",text:"Ingresa tu nombre de usuario de Roblox"});return}Y(!0),m(null);const X=pS();J(X),Y(!1),m({type:"success",text:"Cdigo generado. Agrgalo a tu descripcin de Roblox."})},Ke=async()=>{Y(!0),m(null);const X=await gS(O,L);if(X.verified){const Z=await yS(X.id);W({...X,avatar:Z}),m({type:"success",text:" Cuenta verificada correctamente"})}else m({type:"error",text:X.error});Y(!1)},Ie=()=>{if(n===1&&!R){m({type:"error",text:"Debes estar autenticado con Discord"});return}if(n===2&&!U){m({type:"error",text:"Debes verificar tu cuenta de Roblox"});return}if(n===3&&(!K.nombreCompleto||!K.edad||!K.zonaHoraria)){m({type:"error",text:"Completa todos los campos obligatorios"});return}if(n===4){const X=[{field:"experiencia",min:50,label:"Experiencia previa"},{field:"motivacion",min:100,label:"Motivacin"}];for(const Z of X){const he=K[Z.field]||"";if(he.length<Z.min){m({type:"error",text:` El campo "${Z.label}" es demasiado corto. Falta(n) ${Z.min-he.length} caracteres.`});return}}for(let Z=0;Z<Bi.length;Z++)if((K.respuestas[Z]||"").length<30){m({type:"error",text:` La respuesta a la pregunta ${Z+1} es muy corta. Mnimo 30 caracteres.`});return}if(!K.disponibilidad){m({type:"error",text:"Debes indicar tu disponibilidad horaria"});return}}m(null),i(n+1)},q=()=>{n>1&&(i(n-1),m(null))},Q=async()=>{f(!0),m(null);try{const X=`
=== POSTULACIN DE STAFF ===

INFORMACIN PERSONAL:
- Nombre Completo: ${K.nombreCompleto}
- Edad: ${K.edad} aos
- Zona Horaria: ${K.zonaHoraria}
- Recomendado por: ${K.recomendadoPor||"N/A"}

EXPERIENCIA:
${K.experiencia}

DISPONIBILIDAD:
${K.disponibilidad}

MOTIVACIN:
${K.motivacion}

RESPUESTAS TEST STAFF:
${Bi.map((he,E)=>`
Q${E+1}: ${he}
R: ${K.respuestas[E]||"Sin respuesta"}
`).join(`
`)}

VERIFICACIN:
- Discord: ${R.username} (${R.id})
- Roblox: ${U.username} (${U.id})
- Email: ${R.email}
`.trim(),{error:Z}=await ie.from("applications").insert([{type:"staff",applicant_username:U.username||R.username,applicant_discord_id:R.id,discord_avatar:R.avatar,status:"pending",roblox_id:U.id,roblox_verified:!0,roblox_account_age:U.accountAge,roblox_display_name:U.displayName||U.username,content:{personal_info:{nombre:K.nombreCompleto,edad:K.edad,zona_horaria:K.zonaHoraria,recomendado_por:K.recomendadoPor},experiencia:K.experiencia,disponibilidad:K.disponibilidad,motivacion:K.motivacion,respuestas:Bi.map((he,E)=>({question:he,answer:K.respuestas[E]||"Sin respuesta"})),verificacion:{discord:R,roblox:U},raw_text:X}}]);if(Z)throw Z;m({type:"success",text:"Postulacin enviada con xito! Recibirs una respuesta pronto."}),v(!0),_("pending"),setTimeout(()=>{r("/")},3e3)}catch(X){m({type:"error",text:"Error al enviar postulacin: "+X.message})}finally{f(!1)}};if(l)return c.jsxs("div",{style:F.loadingContainer,children:[c.jsx(zr,{size:48,className:"spin"}),c.jsx("p",{children:"Verificando autenticacin..."})]});if(x==="pending")return c.jsx("div",{style:F.container,children:c.jsxs("div",{style:{...F.formCard,textAlign:"center",padding:"4rem"},children:[c.jsx("div",{style:{width:"80px",height:"80px",background:"rgba(255, 215, 0, 0.1)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 2rem"},children:c.jsx(Un,{size:40,color:"var(--primary)"})}),c.jsx("h1",{style:{fontSize:"2.5rem",marginBottom:"1rem",color:"white"},children:"Ya tienes una solicitud pendiente!"}),c.jsx("p",{style:{color:"var(--text-muted)",fontSize:"1.2rem",maxWidth:"600px",margin:"0 auto 2rem"},children:"Ya hemos recibido tu postulacin y est siendo revisada por nuestro equipo. Por favor espera a recibir una respuesta antes de enviar otra."}),c.jsxs("button",{onClick:()=>r("/"),style:F.navBtn,children:[c.jsx(yu,{size:18})," Volver al Inicio"]})]})});if(x==="cooldown"){const X=7-Math.ceil(Math.abs(new Date-new Date(j))/864e5);return c.jsx("div",{style:F.container,children:c.jsxs("div",{style:{...F.formCard,textAlign:"center",padding:"4rem"},children:[c.jsx("div",{style:{width:"80px",height:"80px",background:"rgba(231, 76, 60, 0.1)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 2rem"},children:c.jsx(Ji,{size:40,color:"#e74c3c"})}),c.jsx("h1",{style:{fontSize:"2.5rem",marginBottom:"1rem",color:"#e74c3c"},children:"Postulacin en espera"}),c.jsxs("p",{style:{color:"var(--text-muted)",fontSize:"1.2rem",maxWidth:"600px",margin:"0 auto 2rem"},children:["Tu ltima solicitud fue rechazada recientemente. Debes esperar ",c.jsx("strong",{children:"1 semana"})," antes de volver a intentarlo."]}),c.jsx("div",{style:{background:"var(--bg)",padding:"1rem",borderRadius:"8px",display:"inline-block",marginBottom:"2rem",border:"1px solid var(--border)"},children:c.jsxs("p",{style:{margin:0,fontWeight:"bold"},children:["Tiempo restante: ",X," das"]})}),c.jsx("br",{}),c.jsxs("button",{onClick:()=>r("/"),style:F.navBtn,children:[c.jsx(yu,{size:18})," Volver al Inicio"]})]})})}return y?c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#0A0E27] via-[#0F172A] to-black relative overflow-hidden font-inter flex items-center justify-center p-4",children:[c.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(rgba(255,215,0,0.03)_1px,transparent_1px),linear-gradient(90deg,rgba(255,215,0,0.03)_1px,transparent_1px)] bg-[size:50px_50px]"}),c.jsxs("div",{className:"relative z-10 backdrop-blur-xl bg-white/5 border border-white/10 rounded-2xl p-12 text-center max-w-md animate-scale-in",children:[c.jsx("div",{className:"w-24 h-24 rounded-full bg-gradient-to-br from-[#4ade80] to-[#22c55e] flex items-center justify-center mx-auto mb-6 shadow-[0_0_30px_rgba(74,222,128,0.3)]",children:c.jsx(CheckCircle2,{className:"w-14 h-14 text-white"})}),c.jsx("h2",{className:"text-4xl font-black text-white mb-4 tracking-tight",children:"POSTULACIN ENVIADA!"}),c.jsxs("p",{className:"text-gray-300 text-lg mb-8 leading-relaxed",children:["Tu solicitud ha sido recibida correctamente.",c.jsx("br",{}),"El equipo de ",c.jsx("strong",{children:"Nacin MX"})," la revisar pronto."]}),c.jsx("p",{className:"text-sm text-gray-500 font-mono",children:"Redirigiendo al inicio..."})]}),c.jsx("style",{children:`
                @keyframes scale-in {
                  0% { opacity: 0; transform: scale(0.9); }
                  100% { opacity: 1; transform: scale(1); }
                }
                .animate-scale-in {
                  animation: scale-in 0.4s cubic-bezier(0.16, 1, 0.3, 1) forwards;
                }
              `})]}):c.jsxs("div",{style:F.container,children:[c.jsxs("div",{style:F.header,children:[c.jsx("h1",{style:F.title,children:"Postulacin de Staff"}),c.jsx("p",{style:F.subtitle,children:"Completa el proceso de verificacin y formulario"})]}),c.jsx("div",{style:F.progressContainer,children:Gp.map((X,Z)=>{const he=X.icon,E=n===X.id,G=n>X.id;return c.jsxs("div",{style:F.stepWrapper,children:[c.jsx("div",{style:{...F.stepCircle,background:G?"var(--primary)":E?"rgba(255,215,0,0.2)":"var(--bg-card)",border:E?"2px solid var(--primary)":"1px solid var(--border)",color:G||E?"var(--primary)":"var(--text-muted)"},children:G?c.jsx(Un,{size:20}):c.jsx(he,{size:20})}),c.jsx("span",{style:{...F.stepLabel,color:E?"var(--primary)":"var(--text-muted)",fontWeight:E?"700":"600"},children:X.title}),Z<Gp.length-1&&c.jsx("div",{style:F.stepLine})]},X.id)})}),g&&c.jsxs("div",{style:{...F.feedback,background:g.type==="error"?"#e74c3c20":"#2ecc7120",border:`1px solid ${g.type==="error"?"#e74c3c":"#2ecc71"}`,color:g.type==="error"?"#e74c3c":"#2ecc71"},children:[g.type==="error"?c.jsx(Ji,{size:18}):c.jsx(Un,{size:18}),g.text]}),c.jsxs("div",{style:F.formCard,children:[n===1&&c.jsxs("div",{style:F.stepContent,children:[c.jsx("h2",{children:"Verificacin de Discord"}),c.jsx("p",{style:F.stepDesc,children:"Tu cuenta de Discord ha sido verificada automticamente"}),R&&c.jsxs("div",{style:F.verifiedCard,children:[c.jsx("div",{style:F.avatarWrapper,children:c.jsx("img",{src:R.avatar,alt:"Avatar",style:F.avatar})}),c.jsxs("div",{style:F.verifiedInfo,children:[c.jsx("h3",{children:R.username}),c.jsxs("span",{style:F.verifiedBadge,children:[c.jsx(Un,{size:14})," Discord Verificado"]}),c.jsxs("p",{style:F.discordId,children:["ID: ",R.id]})]})]})]}),n===2&&c.jsxs("div",{style:F.stepContent,children:[c.jsx("h2",{children:"Verificacin de Roblox"}),!L&&!U&&c.jsxs("div",{children:[c.jsx("p",{style:F.stepDesc,children:"Ingresa tu nombre de usuario de Roblox para comenzar"}),c.jsxs("div",{style:F.inputGroup,children:[c.jsx("label",{children:"Nombre de Usuario de Roblox *"}),c.jsxs("div",{style:F.verifyRow,children:[c.jsx("input",{type:"text",value:O,onChange:X=>M(X.target.value),placeholder:"Ej: vonssyb",style:F.input}),c.jsxs("button",{onClick:lt,disabled:te,style:F.verifyBtn,children:[te?c.jsx(zr,{size:16,className:"spin"}):c.jsx(ha,{size:16}),te?"Buscando...":"Generar Cdigo"]})]})]})]}),L&&!U&&c.jsxs("div",{children:[c.jsxs("div",{style:{background:"rgba(255, 215, 0, 0.1)",border:"2px solid var(--primary)",borderRadius:"12px",padding:"2rem",marginBottom:"2rem"},children:[c.jsx("h3",{style:{color:"var(--primary)",marginBottom:"1rem"},children:" Paso 1: Agrega este cdigo"}),c.jsxs("p",{style:{marginBottom:"1rem"},children:["Copia este cdigo y agrgalo a tu ",c.jsx("strong",{children:"descripcin de Roblox"}),":"]}),c.jsx("div",{style:{background:"var(--bg)",padding:"1rem",borderRadius:"8px",border:"1px solid var(--border)",fontFamily:"monospace",fontSize:"1.2rem",fontWeight:"700",color:"var(--primary)",textAlign:"center",marginBottom:"1rem",letterSpacing:"2px"},children:L}),c.jsx("button",{onClick:()=>{navigator.clipboard.writeText(L),m({type:"success",text:" Cdigo copiado al portapapeles"})},style:{...F.verifyBtn,width:"100%",justifyContent:"center",marginBottom:"1rem"},children:" Copiar Cdigo"}),c.jsx("div",{style:{background:"rgba(46, 204, 113, 0.1)",border:"1px solid #2ecc71",borderRadius:"8px",padding:"1rem",marginTop:"1rem"},children:c.jsxs("p",{style:{fontSize:"0.9rem",margin:0},children:[c.jsx("strong",{children:"Instrucciones:"}),c.jsx("br",{}),"1. Ve a ",c.jsx("a",{href:"https://www.roblox.com/my/account#!/info",target:"_blank",rel:"noopener",style:{color:"var(--primary)"},children:"Configuracin de Roblox"}),c.jsx("br",{}),"2. Pega el cdigo en tu descripcin",c.jsx("br",{}),"3. Guarda los cambios",c.jsx("br",{}),'4. Vuelve aqu y presiona "Verificar"']})})]}),c.jsxs("button",{onClick:Ke,disabled:te,style:{...F.verifyBtn,width:"100%",justifyContent:"center",padding:"1.25rem",fontSize:"1.1rem"},children:[te?c.jsx(zr,{size:20,className:"spin"}):c.jsx(Un,{size:20}),te?"Verificando...":"Verificar Cdigo"]}),c.jsx("button",{onClick:()=>{J(""),M(""),m(null)},style:{...F.navBtn,width:"100%",justifyContent:"center",marginTop:"1rem"},children:" Cambiar Usuario"})]}),U&&c.jsxs("div",{className:"fade-in",children:[c.jsx("p",{style:F.stepDesc,children:" Tu cuenta de Roblox ha sido verificada correctamente"}),c.jsxs("div",{style:F.verifiedCard,children:[c.jsx("div",{style:F.avatarWrapper,children:U.avatar?c.jsx("img",{src:U.avatar,alt:"Roblox Avatar",style:F.avatar}):c.jsx("div",{style:F.avatarPlaceholder,children:c.jsxs("span",{style:F.placeholderText,children:["Roblox",c.jsx("br",{}),"Avatar"]})})}),c.jsxs("div",{style:F.verifiedInfo,children:[c.jsx("h3",{style:F.verifiedName,children:U.username}),c.jsxs("div",{style:F.verifiedBadge,children:[c.jsx(ha,{size:14,fill:"black"})," Verificado Oficial"]}),c.jsxs("p",{style:F.robloxInfo,children:[c.jsx("strong",{children:"User ID:"})," ",c.jsx("span",{style:{color:"var(--primary)"},children:U.id}),c.jsx("br",{}),c.jsx("strong",{children:"Edad de cuenta:"})," ",U.accountAge," das"]})]})]})]})]}),n===3&&c.jsxs("div",{style:F.stepContent,children:[c.jsx("h2",{children:"Informacin Personal"}),c.jsx("p",{style:F.stepDesc,children:"Cuntanos ms sobre ti"}),c.jsxs("div",{style:F.inputGroup,children:[c.jsx("label",{children:"Nombre Completo *"}),c.jsx("input",{type:"text",value:K.nombreCompleto,onChange:X=>le({...K,nombreCompleto:X.target.value}),placeholder:"Juan Prez Garca",style:F.input})]}),c.jsxs("div",{style:F.row,children:[c.jsxs("div",{style:F.inputGroup,children:[c.jsx("label",{children:"Edad *"}),c.jsxs("select",{value:K.edad,onChange:X=>le({...K,edad:X.target.value}),style:F.input,children:[c.jsx("option",{value:"",children:"Seleccionar..."}),[...Array(48)].map((X,Z)=>c.jsxs("option",{value:13+Z,children:[13+Z," aos"]},Z))]})]}),c.jsxs("div",{style:F.inputGroup,children:[c.jsx("label",{children:"Zona Horaria *"}),c.jsxs("select",{value:K.zonaHoraria,onChange:X=>le({...K,zonaHoraria:X.target.value}),style:F.input,children:[c.jsx("option",{value:"",children:"Seleccionar..."}),c.jsx("option",{value:"GMT-6 (Mxico)",children:"GMT-6 (Mxico)"}),c.jsx("option",{value:"GMT-5 (COL/PER)",children:"GMT-5 (Colombia/Per)"}),c.jsx("option",{value:"GMT-4 (CHI)",children:"GMT-4 (Chile)"}),c.jsx("option",{value:"GMT-3 (ARG)",children:"GMT-3 (Argentina)"}),c.jsx("option",{value:"GMT+1 (ESP)",children:"GMT+1 (Espaa)"})]})]})]}),c.jsxs("div",{style:F.inputGroup,children:[c.jsx("label",{children:"Quin te recomend? (Opcional)"}),c.jsx("input",{type:"text",value:K.recomendadoPor,onChange:X=>le({...K,recomendadoPor:X.target.value}),placeholder:"Nombre del staff que te recomend",style:F.input})]})]}),n===4&&c.jsxs("div",{style:F.stepContent,children:[c.jsx("h2",{children:"Experiencia y Conocimiento"}),c.jsx("p",{style:F.stepDesc,children:"Demuestra tu experiencia y conocimiento del servidor"}),c.jsxs("div",{style:F.inputGroup,children:[c.jsx("label",{children:"Experiencia previa como Staff *"}),c.jsx("textarea",{value:K.experiencia,onChange:X=>le({...K,experiencia:X.target.value}),placeholder:"Describe tu experiencia previa (mnimo 50 caracteres)",style:{...F.input,minHeight:"100px"},rows:4}),c.jsxs("div",{style:F.charCounter,children:[K.experiencia.length," / 50 caracteres",K.experiencia.length<50&&c.jsxs("span",{style:F.charWarning,children:[" (Faltan ",50-K.experiencia.length,")"]})]})]}),c.jsxs("div",{style:F.inputGroup,children:[c.jsx("label",{children:"Horas disponibles por semana *"}),c.jsx("input",{type:"text",value:K.disponibilidad,onChange:X=>le({...K,disponibilidad:X.target.value}),placeholder:"Ej: 20-30 horas semanales",style:F.input})]}),c.jsxs("div",{style:F.inputGroup,children:[c.jsx("label",{children:"Por qu quieres ser Staff? *"}),c.jsx("textarea",{value:K.motivacion,onChange:X=>le({...K,motivacion:X.target.value}),placeholder:"Explica tu motivacin (mnimo 100 caracteres)",style:{...F.input,minHeight:"120px"},rows:5}),c.jsxs("div",{style:F.charCounter,children:[K.motivacion.length," / 100 caracteres",K.motivacion.length<100&&c.jsxs("span",{style:F.charWarning,children:[" (Faltan ",100-K.motivacion.length,")"]})]})]}),c.jsxs("h3",{style:{marginTop:"2rem",color:"var(--primary)",marginBottom:"1.5rem"},children:["Test de Conocimiento (",Bi.length," Preguntas)"]}),Bi.map((X,Z)=>c.jsxs("div",{style:F.inputGroup,children:[c.jsxs("label",{style:{fontSize:"0.95rem",lineHeight:"1.4",marginBottom:"0.5rem",display:"block"},children:[c.jsxs("span",{style:{color:"var(--primary)",fontWeight:"bold"},children:[Z+1,"."]})," ",X]}),c.jsx("textarea",{value:K.respuestas[Z]||"",onChange:he=>le({...K,respuestas:{...K.respuestas,[Z]:he.target.value}}),placeholder:"Tu respuesta detallada...",style:{...F.input,minHeight:"80px"},rows:3}),c.jsxs("div",{style:F.charCounter,children:[(K.respuestas[Z]||"").length," / 30 caracteres mn.",(K.respuestas[Z]||"").length<30&&c.jsxs("span",{style:F.charWarning,children:["(Faltan ",30-(K.respuestas[Z]||"").length,")"]})]})]},Z))]}),n===5&&c.jsxs("div",{style:F.stepContent,children:[c.jsx("h2",{children:"Revisin Final"}),c.jsx("p",{style:F.stepDesc,children:"Verifica que toda tu informacin sea correcta antes de enviar"}),c.jsxs("div",{style:F.reviewSection,children:[c.jsx("h3",{children:"Discord"}),c.jsxs("p",{children:[" ",R?.username]})]}),c.jsxs("div",{style:F.reviewSection,children:[c.jsx("h3",{children:"Roblox"}),c.jsxs("p",{children:[" ",U?.username," (ID: ",U?.id,")"]})]}),c.jsxs("div",{style:F.reviewSection,children:[c.jsx("h3",{children:"Informacin Personal"}),c.jsxs("p",{children:[c.jsx("strong",{children:"Nombre:"})," ",K.nombreCompleto]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Edad:"})," ",K.edad]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Zona Horaria:"})," ",K.zonaHoraria]})]}),c.jsxs("div",{style:F.declaration,children:[c.jsx("p",{children:"Al enviar esta postulacin, confirmo que:"}),c.jsxs("ul",{children:[c.jsx("li",{children:"Toda la informacin proporcionada es verdica"}),c.jsx("li",{children:"He ledo y acepto el reglamento del servidor"}),c.jsx("li",{children:"Entiendo que proporcionar informacin falsa resultar en rechazo permanente"})]})]}),c.jsx("button",{onClick:Q,disabled:h,style:{...F.submitBtn,opacity:h?.6:1},children:h?c.jsxs(c.Fragment,{children:[c.jsx(zr,{size:20,className:"spin"})," Enviando..."]}):c.jsxs(c.Fragment,{children:[c.jsx(Un,{size:20})," Enviar Postulacin"]})})]}),c.jsxs("div",{style:F.navigation,children:[n>1&&c.jsxs("button",{onClick:q,style:F.navBtn,children:[c.jsx(yu,{size:18})," Anterior"]}),c.jsx("div",{style:{flex:1}}),n<5&&c.jsxs("button",{onClick:Ie,style:{...F.navBtn,background:"var(--primary)",color:"black"},children:["Siguiente ",c.jsx(Rg,{size:18})]})]})]})]})},F={container:{maxWidth:"900px",margin:"0 auto",padding:"2rem"},header:{textAlign:"center",marginBottom:"3rem"},title:{fontSize:"2.5rem",fontWeight:"900",color:"var(--text-main)",marginBottom:"0.5rem"},subtitle:{color:"var(--text-muted)",fontSize:"1.1rem"},progressContainer:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"3rem",gap:"0.5rem"},stepWrapper:{display:"flex",flexDirection:"column",alignItems:"center",flex:1,position:"relative"},stepCircle:{width:"48px",height:"48px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"0.5rem",transition:"0.3s"},stepLabel:{fontSize:"0.75rem",textAlign:"center",maxWidth:"100px"},stepLine:{position:"absolute",top:"24px",left:"50%",width:"100%",height:"2px",background:"var(--border)",zIndex:-1},feedback:{padding:"1rem 1.5rem",borderRadius:"8px",display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"2rem",fontWeight:"600"},formCard:{background:"var(--bg-card)",border:"1px solid var(--border)",borderRadius:"16px",padding:"2.5rem"},stepContent:{},stepDesc:{color:"var(--text-muted)",marginBottom:"2rem"},inputGroup:{marginBottom:"1.5rem"},input:{width:"100%",padding:"0.85rem",background:"var(--bg)",border:"1px solid var(--border)",borderRadius:"8px",color:"var(--text-main)",fontSize:"1rem"},row:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1.5rem"},verifyRow:{display:"flex",gap:"0.75rem"},verifyBtn:{padding:"0.85rem 1.5rem",background:"var(--primary)",color:"black",border:"none",borderRadius:"8px",fontWeight:"700",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",whiteSpace:"nowrap"},verifiedCard:{background:"rgba(212, 175, 55, 0.05)",border:"1px solid #D4AF37",borderRadius:"16px",padding:"2rem",display:"flex",gap:"2rem",alignItems:"center",marginTop:"1.5rem",boxShadow:"0 8px 32px rgba(0,0,0,0.3)",animation:"slideUp 0.5s ease-out"},avatarWrapper:{position:"relative",width:"100px",height:"100px"},avatar:{width:"100%",height:"100%",borderRadius:"50%",border:"3px solid #D4AF37",objectFit:"cover",boxShadow:"0 0 15px rgba(212, 175, 55, 0.3)"},avatarPlaceholder:{width:"100%",height:"100%",borderRadius:"50%",border:"3px solid #D4AF37",background:"#0a0a0a",display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center"},placeholderText:{color:"white",fontSize:"0.8rem",fontWeight:"800",textTransform:"uppercase",lineHeight:"1.1",letterSpacing:"1px"},verifiedInfo:{flex:1},verifiedName:{fontSize:"1.5rem",fontWeight:"900",color:"white",marginBottom:"0.5rem"},verifiedBadge:{display:"inline-flex",alignItems:"center",gap:"0.5rem",background:"#D4AF37",color:"black",padding:"0.4rem 1rem",borderRadius:"50px",fontSize:"0.8rem",fontWeight:"900",textTransform:"uppercase",marginBottom:"1rem"},discordId:{marginTop:"0.5rem",fontSize:"0.9rem",color:"rgba(255,255,255,0.5)",fontFamily:"monospace"},robloxInfo:{marginTop:"0.5rem",fontSize:"0.9rem",color:"rgba(255,255,255,0.7)",lineHeight:"1.6"},reviewSection:{background:"var(--bg)",padding:"1.5rem",borderRadius:"12px",marginBottom:"1.5rem",border:"1px solid var(--border)"},declaration:{background:"rgba(212, 175, 55, 0.05)",padding:"1.5rem",borderRadius:"12px",marginTop:"2rem",marginBottom:"2rem",border:"1px solid #D4AF37"},submitBtn:{width:"100%",padding:"1.25rem",background:"#2ecc71",color:"white",border:"none",borderRadius:"12px",fontSize:"1.1rem",fontWeight:"800",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.75rem",transition:"0.3s cubic-bezier(0.4, 0, 0.2, 1)"},navigation:{display:"flex",gap:"1rem",marginTop:"2rem",paddingTop:"2rem",borderTop:"1px solid var(--border)"},navBtn:{padding:"0.85rem 1.5rem",background:"var(--bg)",border:"1px solid var(--border)",borderRadius:"8px",color:"var(--text-main)",fontWeight:"700",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",transition:"0.2s","&:hover":{borderColor:"var(--primary)"}},charCounter:{fontSize:"0.8rem",color:"var(--text-muted)",marginTop:"0.5rem",textAlign:"right",fontWeight:"600"},charWarning:{color:"#e74c3c",marginLeft:"0.5rem"},loadingContainer:{height:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"1rem",color:"var(--text-muted)"}};function bS(){return c.jsx(Gb,{basename:"/nacionmx-postulaciones",children:c.jsxs(rg,{children:[c.jsx(Ze,{path:"/",element:c.jsx(mS,{})}),c.jsx(Ze,{path:"/aplicar",element:c.jsx(vS,{})}),c.jsx(Ze,{path:"/login",element:c.jsx(Yw,{})}),c.jsx(Ze,{path:"/dashboard/*",element:c.jsx(hS,{})}),c.jsx(Ze,{path:"/admin",element:c.jsx(Lg,{children:c.jsx(qg,{})})}),c.jsx(Ze,{path:"/auth/callback",element:c.jsx(fS,{})}),c.jsx(Ze,{path:"*",element:c.jsx(ng,{to:"/",replace:!0})})]})})}b0.createRoot(document.getElementById("root")).render(c.jsx(w.StrictMode,{children:c.jsx(bS,{})}));
